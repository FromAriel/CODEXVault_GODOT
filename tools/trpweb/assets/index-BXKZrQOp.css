@font-face{font-family:Unscii;src:url(../fonts/unscii-16-full.ttf) format("truetype");font-style:normal;font-weight:400}:root{font-family:Unscii,monospace;font-synthesis:none;line-height:1.2;text-rendering:geometricPrecision;-webkit-font-smoothing:none;-moz-osx-font-smoothing:auto}*{box-sizing:border-box}body{margin:0;min-height:100vh;min-width:320px;background:#06100d;color:#d7efe5}h1,h2,h3,p,li,span,pre,button{font-family:Unscii,monospace;font-variant-ligatures:none}.app-shell{margin:0;max-width:none;padding:10px 12px;width:100%}.subtitle{color:#8ab4a3}.panel{border:1px solid #304239;border-radius:6px;margin-top:20px;padding:16px;background:#0f1b17}.two-col{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.app-status-grid{grid-template-columns:minmax(260px,420px)}.status-card{border:1px solid #25362f;border-radius:6px;background:#0a130f;padding:10px}.status-card h2{margin:0 0 8px}.status-list{list-style:none;margin:0;padding:0}.status-list li{align-items:center;border-bottom:1px dashed #2a3a33;display:flex;justify-content:space-between;padding:7px 2px}.status-list li:last-child{border-bottom:0}.ok{color:#8ef7b7}.error{color:#ff8a8a}.connector-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:12px;margin-top:8px}.connector-card{border:1px solid #25362f;border-radius:6px;background:#0a130f;padding:10px}.connector-card h3{font-size:13px;margin:0 0 8px}.connector-card p{margin:0 0 8px;color:#8ab4a3}.node3x3{margin:0;padding:8px;border-radius:4px;border:1px solid #2b3e35;background:#050907;line-height:1;white-space:pre}.legend-list{list-style:none;margin:8px 0 0;padding:0}.legend-list li{align-items:center;border-bottom:1px dashed #2a3a33;display:flex;justify-content:space-between;padding:8px 2px}.glyph{font-size:20px;line-height:1}.map-phase-root{display:grid;gap:14px}.map-phase-header h2{margin:0}.map-toolbar{border:1px solid #24362e;border-radius:6px;background:#0a130f;display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));padding:10px}.map-phase-root button,.map-phase-root select{background:#11221b;border:1px solid #395847;color:#d7efe5}.map-phase-root button:disabled{opacity:.45}.field{display:flex;flex-direction:column;gap:6px}.field span{color:#8ab4a3;font-size:12px}.button-row{align-items:center;display:flex;flex-wrap:wrap;gap:8px}.danger-button{background:#2a1111!important;border-color:#6e2d2d!important;color:#ffd5d5!important}.map-phase-status-grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(230px,1fr))}.map-phase-status-grid .status-card h3{margin:0 0 8px}.map-board-wrap{background:#08110d;border:1px solid #24362e;border-radius:6px;overflow:auto;padding:8px}.map-board{display:grid;gap:6px;min-width:max-content}.map-cell{align-items:center;background:#08110d;border:1px solid #23352e;border-radius:4px;color:#d7efe5;cursor:pointer;display:flex;justify-content:center;min-height:44px;padding:4px;position:relative}.map-cell.empty{background:#060d0a}.map-cell.owner-player{background:#0b1a12;border-color:#2f6b47;box-shadow:inset 0 0 0 1px #2f6b47}.map-cell.owner-director{background:#1a0d0d;border-color:#7b3434;box-shadow:inset 0 0 0 1px #7b3434}.map-cell.candidate{border-style:dashed}.map-cell.legal{box-shadow:inset 0 0 0 1px #3f7f64}.map-cell.hovered{border-color:#8ef7b7}.map-cell.selected{outline:1px solid #8ef7b7;outline-offset:1px}.map-board.node-mode .map-cell{min-height:86px}.map-cell-3x3{margin:0;line-height:1;pointer-events:none;white-space:pre}.map-board.minimap-mode .map-cell{min-height:44px}.map-cell-minimap{font-size:20px;line-height:1}.overlay-badge{color:#f7d37b;font-size:13px;letter-spacing:-1px;position:absolute;right:3px;top:1px}.coord-tag{bottom:1px;font-size:9px;left:3px;opacity:.5;position:absolute}.minimap-glyph{font-size:24px;margin:8px 0 2px}.overlay-stack-preview{margin:8px 0 0}.room-probe-list{list-style:none;margin:0;padding:0}.room-probe-list li{align-items:center;border-bottom:1px dashed #2a3a33;display:flex;justify-content:space-between;gap:8px;padding:7px 2px}.room-layout-preview{background:#0a1218;border:1px solid #294452;border-radius:6px;color:#d7efe5;line-height:1;margin:10px 0 0;max-height:180px;overflow:auto;padding:8px;white-space:pre}.director-recap-list{border-top:1px dashed #2a3a33;display:grid;gap:4px;list-style:none;margin:10px 0 0;max-height:120px;overflow:auto;padding:8px 0 0}.director-recap-list li{background:#08110d;border:1px solid #23352e;border-radius:4px;padding:4px 6px}.action-log-panel{margin:0;padding:10px}.action-log-panel h3{margin:0 0 8px}.action-log{display:grid;gap:4px;list-style:none;margin:0;padding:0}.action-log li{background:#08110d;border:1px solid #23352e;border-radius:4px;padding:5px 6px}:root{--table-bg-0: #0a1116;--table-bg-1: #111c23;--table-bg-2: #172732;--table-panel: #101a22;--table-panel-2: #0d151c;--table-border: #294452;--table-border-soft: #203542;--table-text: #d6e4ed;--table-muted: #93abb9;--table-ok: #9ce2bc;--table-error: #f7a2a2;--table-accent: #78b496;--table-accent-strong: #a0d6bc;--card-face: #efe2c7;--card-face-hover: #f5ebd7;--card-edge: #c7ad83;--card-ink: #181309;--layout-stage-card-aspect: 1.52 / 1;--layout-stage-card-gap: 5px;--layout-stage-stack-gap: 8px;--layout-stage-shell-aspect: 1.5 / 1}body{background:radial-gradient(130% 120% at 10% 0%,var(--table-bg-2) 0%,transparent 45%),radial-gradient(120% 120% at 100% 0%,#1c2b35 0%,transparent 44%),linear-gradient(180deg,var(--table-bg-0) 0%,#070c10 100%);color:var(--table-text)}.subtitle{color:var(--table-muted)}.panel{border-color:var(--table-border);background:var(--table-panel)}.status-card{border-color:var(--table-border-soft);background:var(--table-panel-2)}.status-list li{border-bottom-color:#203542}.ok{color:var(--table-ok)}.error{color:var(--table-error)}.map-phase-root{gap:12px}.map-phase-header{align-items:start;display:grid;gap:12px;grid-template-columns:minmax(0,1fr) minmax(0,1fr)}.map-phase-header-main{min-width:0}.map-phase-header h2{margin:0;letter-spacing:.6px}.map-help-text{color:var(--table-muted);font-size:11px;margin:8px 0 0}.map-header-controls{align-content:start;display:grid;gap:10px;grid-template-columns:repeat(3,minmax(0,1fr));margin:0}.map-header-controls .inline-field{min-width:0}.map-header-controls .button-row{align-items:center}.map-header-controls .overlay-stack-preview{margin-top:4px}.map-help-text kbd{background:#12232d;border:1px solid #39596a;border-bottom-width:2px;border-radius:4px;color:var(--table-text);display:inline-block;font-size:10px;line-height:1;min-width:16px;padding:2px 4px;text-align:center}.play-stage-shell{--stage-card-gap: var(--layout-stage-card-gap);--stage-card-aspect: var(--layout-stage-card-aspect);align-items:start;display:grid;gap:var(--layout-stage-stack-gap);grid-template-columns:minmax(0,4.9fr) minmax(0,8.92fr)}.play-side-rail{display:grid;align-content:start;gap:var(--layout-stage-stack-gap)}.card-focus-left-rail{display:grid;align-content:start;gap:var(--stage-card-gap)}.half-card-grid{display:grid;gap:var(--stage-card-gap);grid-template-columns:repeat(5,minmax(0,1fr))}.half-card-grid-top .half-card-slot,.half-card-grid-top .half-map-slot,.half-card-grid-spacer .half-card-slot,.half-card-grid-lower .half-card-slot{min-height:0}.half-card-slot{align-items:center;aspect-ratio:var(--stage-card-aspect);background:linear-gradient(180deg,#ceb28a,#967248);border:1px solid #5f401f;border-radius:4px;color:#24170b;display:flex;font-size:15px;font-weight:700;justify-content:center;line-height:1.1;min-height:0;min-width:0;padding:2px;text-align:center;text-transform:uppercase}.half-card-slot.spacer,.half-card-slot.empty{background:#e9e4dc40;border-color:#605a5273;color:transparent}.half-card-slot.quick-slot{font-size:18px}.quick-slot-empty{background:#e9e4dc2e;border-color:#605a528c;color:#16100abf}.quick-slot-card{padding:0}.map-phase-root .quick-hand-card{align-content:center;background:var(--card-face);border:1px solid var(--card-edge);color:var(--card-ink);cursor:pointer;display:grid;gap:1px;justify-items:center;line-height:1}.map-phase-root .quick-hand-card:hover:not(.unplayable){background:var(--card-face-hover);box-shadow:0 0 0 1px #18130926}.map-phase-root .quick-hand-card.selected{box-shadow:0 0 0 2px #1a3328b8,inset 0 0 0 1px #18130940}.map-phase-root .quick-hand-card.unplayable{cursor:not-allowed;opacity:.56}.map-phase-root .quick-hand-card.dragging{cursor:grabbing;opacity:.85}.quick-hand-card-modifier{border-style:dashed}.quick-hand-card-glyph{font-size:18px}.quick-hand-card-id{font-size:9px;font-weight:700}.half-card-grid-top{gap:var(--stage-card-gap)}.half-map-slot{aspect-ratio:var(--stage-card-aspect);border-radius:4px;min-height:0;padding:1px}.half-map-glyph{font-size:22px;font-weight:700;line-height:1}.half-map-slot .player-pos-badge{border-radius:6px;font-size:13px;left:2px;padding:1px 3px;top:1px}.half-map-slot .overlay-badge{font-size:16px;right:2px;top:1px}.half-map-slot .coord-tag{bottom:0;font-size:11px;left:1px}.compact-status-card h3{margin:0 0 8px}.info-drawer-toggle{background:linear-gradient(180deg,#152630,#101b23);border:1px solid #3a5a6b;border-radius:8px 0 0 8px;color:var(--table-text);cursor:pointer;font-size:11px;font-weight:700;letter-spacing:.5px;padding:10px 9px;position:fixed;right:8px;text-transform:uppercase;top:120px;writing-mode:vertical-rl;z-index:240}.info-drawer-toggle.open{right:calc(min(360px,92vw) + 8px)}.info-drawer{bottom:10px;pointer-events:none;position:fixed;right:0;top:84px;transform:translate(100%);transition:transform .2s ease-out;width:min(360px,92vw);z-index:235}.info-drawer.open{pointer-events:auto;transform:translate(0)}.info-drawer-content{background:linear-gradient(180deg,#101a22,#0d151c);border:1px solid #2f4a59;border-radius:10px 0 0 10px;display:grid;gap:10px;height:100%;overflow-y:auto;padding:10px}.play-board-stage{align-content:start;align-self:start;display:grid;gap:var(--layout-stage-stack-gap);grid-template-rows:auto auto;min-width:0}.stage-hand-shell{background:#0d171eb8;border:1px solid rgba(44,73,89,.78);border-radius:10px;padding:3px 8px}.stage-hand-grid{align-content:start;display:grid;gap:var(--stage-card-gap);grid-template-columns:repeat(9,minmax(0,1fr));grid-template-rows:repeat(2,minmax(0,max-content))}.stage-hand-card{align-content:center;aspect-ratio:var(--stage-card-aspect);border-radius:7px;display:grid;gap:1px;justify-items:center;line-height:1;min-height:0;min-width:0;overflow:hidden;padding:2px}.stage-hand-glyph{font-size:17px;line-height:1}.stage-hand-id{font-size:9px;font-weight:700;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-transform:uppercase}.stage-hand-slot-tag{font-size:9px;font-weight:700;line-height:1;opacity:.8;white-space:nowrap}.full-card-stage-shell{aspect-ratio:var(--layout-stage-shell-aspect);border:0;border-radius:10px;min-height:0;overflow:hidden;position:relative}.full-card-grid-bg{display:grid;gap:var(--stage-card-gap);grid-template-columns:repeat(9,minmax(0,1fr));top:0;right:0;bottom:0;left:0;padding:10px;pointer-events:none;position:absolute}.full-card-bg-cell{aspect-ratio:var(--stage-card-aspect);background:linear-gradient(180deg,#c7a47a,#8f683d);border:1px solid #5a3b1b;border-radius:7px;box-shadow:inset 0 1px #fff2db52,inset 0 -1px #40260b7a;min-height:0}.full-card-grid-foreground{height:100%;min-height:0;padding:10px;position:relative;z-index:1}.combat-flow-shell{align-content:start;background:#0d171ecc;border:1px solid rgba(44,73,89,.82);border-radius:10px;display:grid;gap:10px;min-height:0;padding:12px}.combat-flow-header h3{margin:0}.combat-flow-header p{color:var(--table-muted);margin:6px 0 0}.combat-flow-list{display:grid;gap:6px;list-style:none;margin:0;max-width:360px;padding:0}.combat-flow-list li{align-items:center;background:#0d151c;border:1px solid #294452;border-radius:6px;display:flex;justify-content:space-between;gap:8px;padding:8px 9px}.combat-flow-note{color:var(--table-muted);margin:0;max-width:520px}.table-control-strip{border:1px solid var(--table-border);border-radius:10px;background:linear-gradient(180deg,#111f27,#0e1920);display:flex;flex-wrap:wrap;gap:10px;padding:10px}.inline-field{border:1px solid #26404d;border-radius:8px;background:#0f1d25;min-width:190px;padding:8px}.map-phase-root button,.map-phase-root select{background:#13242d;border:1px solid #3a5a6b;color:var(--table-text)}.map-phase-root button:hover:not(:disabled){border-color:#587f93}.map-phase-root button:focus-visible,.map-phase-root [role=button]:focus-visible{outline:2px solid #c9dfef;outline-offset:2px}.map-cell:focus-visible{border-color:#badcf0;box-shadow:inset 0 0 0 2px #c9dfefad,0 0 0 1px #c9dfef66}.field span{color:var(--table-muted)}.danger-button{background:#321515!important;border-color:#7d3535!important;color:#ffe2e2!important}.map-board-wrap{background:linear-gradient(135deg,#0f1a22,#0b141a 40%,#101c24),radial-gradient(circle at 20% 30%,#1f3240 0%,transparent 40%);border:1px solid var(--table-border);border-radius:10px;padding:10px}.full-card-grid-foreground .map-board-wrap{background:#0d171eb8;border-color:#2c4959c7;min-height:700px}.full-card-grid-foreground .room-view-shell{background:linear-gradient(180deg,#121d25eb,#0f181fe6),radial-gradient(circle at 70% 20%,rgba(31,50,64,.55) 0%,transparent 45%);min-height:100%}.map-board{gap:8px}.map-cell{background:#0f1a22;border-color:#2a4351;color:var(--table-text);border-radius:6px}.map-cell.empty{background:#0b141b}.map-cell.empty:not(.playable-structural){cursor:default}.map-cell.owner-player{background:#e8dec9;border-color:#214a36;box-shadow:inset 0 0 0 1px #214a36;color:#0a2117}.map-cell.owner-director{background:#e9dcc8;border-color:#5a2525;box-shadow:inset 0 0 0 1px #5a2525;color:#260d0d}.map-cell.legal{box-shadow:inset 0 0 0 1px var(--table-accent)}.map-cell.playable-structural.empty{border-color:#5f9079;border-style:dashed;box-shadow:inset 0 0 0 1px #7ab497,0 0 0 1px #679b8247}.map-cell.playable-modifier.occupied{border-color:#96764b;box-shadow:inset 0 0 0 1px #b99868,0 0 0 1px #b9986852}.map-cell.hovered{border-color:var(--table-accent-strong)}.map-cell.selected{outline-color:#c9dfef}.map-cell.drop-target-structural{box-shadow:inset 0 0 0 2px #c0ead4,0 0 0 1px #78b49659}.map-cell.drop-target-modifier{box-shadow:inset 0 0 0 2px #ead39f,0 0 0 1px #d4ab5c59}.map-cell.travel-target{border-color:#6e8ca1;box-shadow:inset 0 0 0 1px #86a8be,0 0 0 1px #6e8ca140}.map-cell.player-position{box-shadow:inset 0 0 0 2px #c7e2f2,0 0 0 1px #c7e2f24d}.overlay-badge{color:#f6d995}.player-pos-badge{background:#10212b;border:1px solid #5e839a;border-radius:8px;color:#d8edf8;font-size:9px;font-weight:700;left:3px;line-height:1;padding:2px 4px;position:absolute;top:2px}.coord-tag{color:var(--table-muted);opacity:0;transition:opacity .12s ease-out}.map-board.minimap-mode .coord-tag{opacity:.45}.map-cell.hovered .coord-tag,.map-cell.selected .coord-tag,.map-cell.drop-target-structural .coord-tag,.map-cell.drop-target-modifier .coord-tag{opacity:.72}.map-cell.owner-player .coord-tag{color:#163827}.map-cell.owner-director .coord-tag{color:#3d1818}.player-hand-panel{border:1px solid var(--table-border);border-radius:10px;background:linear-gradient(180deg,#111d25,#0e171e);display:grid;gap:10px;padding:10px}.player-hand-header{align-items:flex-end;display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between}.player-hand-header h3{margin:0}.hand-pile-metrics{display:flex;gap:6px}.pile-chip{background:#12232d;border:1px solid #3a5b6d;border-radius:6px;color:var(--table-text);display:inline-block;min-width:42px;padding:3px 7px;text-align:center}.hand-row{display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-start}.hand-row-multi{align-content:start;max-height:340px;overflow-y:auto;padding-right:2px}.side-hand-panel{margin-top:4px;padding:8px}.side-hand-panel .player-hand-header{align-items:flex-start}.side-hand-panel .hand-row{display:grid;grid-template-columns:repeat(auto-fill,minmax(76px,1fr));gap:8px}.side-hand-panel .hand-card{min-height:80px;width:100%}.side-hand-panel .structural-card-node{font-size:10px;padding:3px}.side-hand-panel .modifier-card-target{display:none}.modifier-hand-row{display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-start}.hand-card{align-content:start;background:var(--card-face);border:1px solid var(--card-edge);border-radius:8px;box-shadow:0 3px 10px #00000059;color:var(--card-ink);cursor:pointer;display:grid;gap:6px;min-height:96px;width:96px;padding:6px;text-align:left;transition:transform .14s ease,box-shadow .14s ease,background .14s ease;will-change:transform,box-shadow}.hand-card:hover{background:var(--card-face);box-shadow:0 7px 14px #0000006b;transform:translateY(-3px)}.hand-card.selected{box-shadow:0 0 0 2px #20323d,0 8px 16px #00000073;transform:translateY(-2px)}.hand-card.dragging{cursor:grabbing;opacity:1}.hand-card.unplayable{cursor:not-allowed;opacity:.62}.hand-card.unplayable:hover{box-shadow:0 3px 10px #00000059;transform:none}.hand-card-modifier{border-color:#ac9169}.hand-card-modifier .modifier-card-face{background:linear-gradient(180deg,#f1e6cf,#ecdfc3);border-color:#9a7f57;border-style:dashed}.modifier-card{align-content:start;background:var(--card-face);border:1px solid var(--card-edge);border-radius:8px;box-shadow:0 3px 10px #00000059;color:var(--card-ink);cursor:pointer;display:grid;gap:5px;min-height:96px;min-width:132px;padding:7px;text-align:left;transition:transform .14s ease,box-shadow .14s ease,background .14s ease}.modifier-card:hover{background:var(--card-face);box-shadow:0 7px 14px #0000006b;transform:translateY(-3px)}.modifier-card.selected{box-shadow:0 0 0 2px #20323d,0 8px 16px #00000073;transform:translateY(-2px)}.modifier-card.dragging{cursor:grabbing}.modifier-card-glyph{font-size:16px;line-height:1}.modifier-card-title{font-size:11px;line-height:1.2}.modifier-card-target{font-size:10px;opacity:.75;text-transform:uppercase}.map-phase-root .hand-card{background:var(--card-face);border-color:var(--card-edge);color:var(--card-ink)}.map-phase-root .hand-card:hover:not(:disabled){border-color:var(--card-edge)}.structural-card-face{color:inherit;display:grid;gap:4px}.structural-card-glyph{font-size:14px;line-height:1}.structural-card-node{background:#ffffff4d;border:1px solid rgba(0,0,0,.22);border-radius:5px;color:inherit;line-height:1;margin:0;padding:4px;white-space:pre}.structural-card-title{font-size:11px;line-height:1.2}.structural-card-type{font-size:10px;opacity:.75;text-transform:uppercase}.selected-card-preview{display:grid;gap:6px}.selected-card-preview .structural-card-face{background:var(--card-face);border:1px solid var(--card-edge);border-radius:8px;color:var(--card-ink);padding:8px}.selected-card-preview .structural-card-node{background:#ffffff4d;border-color:#00000038}.modifier-card-face{background:var(--card-face);border:1px solid var(--card-edge);border-radius:8px;color:var(--card-ink);display:grid;gap:5px;padding:8px}.hand-card .structural-card-title,.hand-card .structural-card-type{display:none}.director-recap-list{border-top-color:#203542}.director-recap-list li,.action-log li{background:#0d151c;border-color:#294452}.room-view-shell{background:linear-gradient(180deg,#121d25,#0f181f),radial-gradient(circle at 70% 20%,#1f3240 0%,transparent 45%);border:1px solid var(--table-border);border-radius:10px;display:grid;gap:12px;padding:12px}.room-view-header h3{margin:0}.room-result-banner{border:1px solid #335161;border-radius:8px;display:grid;gap:6px;padding:8px 10px}.room-result-banner p{margin:0}.room-result-success{background:#10211b;border-color:#2f5f4b;color:#bcead3}.room-result-fail{background:#2a1515;border-color:#8f3d3d;color:#ffd0d0}.room-stage-grid{display:grid;gap:var(--stage-card-gap);grid-template-columns:repeat(9,minmax(0,1fr));min-height:0}.room-stage-cell{align-items:center;aspect-ratio:var(--stage-card-aspect);background:linear-gradient(180deg,#c7a47a,#8f683d);border:1px solid #5a3b1b;border-radius:7px;box-shadow:inset 0 1px #fff2db52,inset 0 -1px #40260b7a;color:#1a1207;display:inline-flex;font-size:18px;font-weight:700;justify-content:center;line-height:1;min-height:0;min-width:0}.room-stage-cell-button{cursor:default;padding:0}.room-stage-cell-button:disabled{opacity:1}.room-stage-cell-empty{opacity:.36}.room-tile-step-target{border-color:#6f8f79;box-shadow:inset 0 0 0 1px #6f8f7973,0 0 0 1px #6f8f7947;cursor:pointer}.room-tile-step-target:hover:not(:disabled){background:linear-gradient(180deg,#d6b58d,#a47b4d);border-color:#7da08a}.room-tile-player{background:#e8dec9;border-color:#1f4758;color:#0f1c23;font-weight:700}.room-tile-face_down{background:linear-gradient(180deg,#aa8962,#7a5a35);border-color:#533819;color:#26190d}.room-tile-ghost_trap{background:linear-gradient(180deg,#d0b58d,#9c784a);border-color:#6f4d25;color:#3a2612}.room-tile-revealed{background:#efe2c7;border-color:#7b5b36;color:#1a1207}.room-tile-door{box-shadow:inset 0 0 0 1px #7397ad}.room-tile-combat-enemy{border-color:#7a2f2f;color:#2f120f}.room-tile-combat-target{border-color:#b14545;box-shadow:inset 0 0 0 1px #b145458c,0 0 0 1px #b1454559;cursor:pointer}.room-tile-combat-target:hover:not(:disabled){background:linear-gradient(180deg,#f0d6be,#c99a69);border-color:#d05e5e}.room-view-meta{border-top:1px dashed #2d4757;display:grid;gap:10px;grid-template-columns:repeat(2,minmax(0,1fr));padding-top:10px}.room-meta-column{background:#0d151c;border:1px solid #2b4554;border-radius:8px;padding:8px 10px}.room-meta-column h3{margin:0}.room-meta-column .overlay-stack-preview{margin-top:6px}.room-reward-log{display:grid;gap:4px;list-style:none;margin:0;padding:0}.room-reward-log li{background:#0d161d;border:1px solid #2b4554;border-radius:4px;padding:5px 6px}.room-action-row{display:flex;flex-wrap:wrap;gap:8px}.combat-hand-panel{background:#0d151c;border:1px solid #2b4554;border-radius:8px;display:grid;gap:8px;padding:8px 10px}.combat-hand-header h3{margin:0}.combat-hand-header p{color:var(--table-muted);margin:4px 0 0}.combat-hand-row{display:flex;flex-wrap:wrap;gap:8px}.combat-hand-card{align-content:start;background:var(--card-face);border:1px solid var(--card-edge);border-radius:8px;color:var(--card-ink);cursor:pointer;display:grid;gap:4px;min-height:78px;min-width:112px;padding:6px;text-align:left}.combat-hand-card.unplayable{cursor:not-allowed;opacity:.55}.combat-enemy-row{display:flex;flex-wrap:wrap;gap:6px}.combat-enemy-chip{background:#161006;border:1px solid #6f542d;border-radius:6px;color:#e9dcc3;display:grid;gap:2px;min-width:112px;padding:5px 7px}.combat-enemy-chip.defeated{opacity:.52;text-decoration:line-through}.combat-log-list{display:grid;gap:4px;list-style:none;margin:0;padding:0}.combat-log-list li{background:#101c24;border:1px solid #2a4250;border-radius:4px;padding:4px 6px}.card-flight-layer{top:0;right:0;bottom:0;left:0;overflow:hidden;pointer-events:none;position:fixed;z-index:220}.card-flight{--flight-dx: 0px;--flight-dy: 0px;--flight-scale: 1;--flight-duration: .28s;align-content:center;background:var(--card-face);border:1px solid var(--card-edge);border-radius:8px;box-shadow:0 10px 24px #00000073,0 0 0 1px #00000038;color:var(--card-ink);display:grid;gap:4px;justify-items:center;left:0;opacity:.96;padding:8px 6px;position:fixed;top:0;transform:translate(0) scale(1);transform-origin:center;transition:transform var(--flight-duration) cubic-bezier(.18,.72,.3,1),opacity var(--flight-duration) ease-out;will-change:transform,opacity;backface-visibility:hidden}.card-flight.is-active{opacity:0;transform:translate(var(--flight-dx),var(--flight-dy)) scale(var(--flight-scale))}.card-flight-modifier{border-color:#9a7f57;border-style:dashed;box-shadow:0 10px 24px #00000073,0 0 0 1px #6c563554}.card-flight-glyph{font-size:18px;line-height:1}.card-flight-title{font-size:10px;line-height:1.2;text-align:center}.sr-only{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}@media(prefers-reduced-motion:reduce){.hand-card,.modifier-card,.card-flight,.coord-tag{transition:none!important}.card-flight{opacity:.8}.card-flight.is-active{opacity:0;transform:translate(var(--flight-dx),var(--flight-dy)) scale(var(--flight-scale))}}@media(max-width:1180px){.map-phase-header{grid-template-columns:1fr}.map-header-controls{grid-template-columns:repeat(auto-fit,minmax(170px,1fr))}.play-stage-shell{grid-template-columns:1fr}}@media(max-width:920px){.info-drawer{top:74px;width:min(320px,96vw)}.info-drawer-toggle{top:96px}.info-drawer-toggle.open{right:calc(min(320px,96vw) + 8px)}.table-control-strip{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.inline-field{min-width:0}.map-board.node-mode .map-cell{min-height:78px}.hand-card{min-height:88px;width:88px}.side-hand-panel .hand-row{grid-template-columns:repeat(auto-fill,minmax(72px,1fr))}.room-view-meta{grid-template-columns:1fr}}@media(max-width:680px){.app-shell{padding:8px}.info-drawer{bottom:6px;top:64px;width:96vw}.info-drawer-toggle{padding:8px 7px;right:4px;top:82px}.info-drawer-toggle.open{right:calc(96vw + 4px)}.table-control-strip{gap:8px;padding:8px}.player-hand-header{align-items:flex-start}.hand-pile-metrics{width:100%}.pile-chip{flex:1}.map-board-wrap{padding:7px}.map-board{gap:6px}.map-board.node-mode .map-cell{min-height:70px}.map-cell-3x3{font-size:12px}.hand-card{min-height:80px;width:80px}.side-hand-panel .hand-row{grid-template-columns:repeat(auto-fill,minmax(68px,1fr))}}
