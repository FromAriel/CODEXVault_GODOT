(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const y of m)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function o(m){const y={};return m.integrity&&(y.integrity=m.integrity),m.referrerPolicy&&(y.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?y.credentials="include":m.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function r(m){if(m.ep)return;m.ep=!0;const y=o(m);fetch(m.href,y)}})();var uo={exports:{}},ui={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function ip(){if(Lm)return ui;Lm=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function o(r,m,y){var v=null;if(y!==void 0&&(v=""+y),m.key!==void 0&&(v=""+m.key),"key"in m){y={};for(var g in m)g!=="key"&&(y[g]=m[g])}else y=m;return m=y.ref,{$$typeof:l,type:r,key:v,ref:m!==void 0?m:null,props:y}}return ui.Fragment=c,ui.jsx=o,ui.jsxs=o,ui}var qm;function up(){return qm||(qm=1,uo.exports=ip()),uo.exports}var h=up(),co={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function cp(){if(Gm)return P;Gm=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),H=Symbol.iterator;function Y(b){return b===null||typeof b!="object"?null:(b=H&&b[H]||b["@@iterator"],typeof b=="function"?b:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,B={};function ie(b,R,q){this.props=b,this.context=R,this.refs=B,this.updater=q||$}ie.prototype.isReactComponent={},ie.prototype.setState=function(b,R){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,R,"setState")},ie.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Pe(){}Pe.prototype=ie.prototype;function Ce(b,R,q){this.props=b,this.context=R,this.refs=B,this.updater=q||$}var et=Ce.prototype=new Pe;et.constructor=Ce,X(et,ie.prototype),et.isPureReactComponent=!0;var gt=Array.isArray;function Ve(){}var te={H:null,A:null,T:null,S:null},We=Object.prototype.hasOwnProperty;function me(b,R,q){var G=q.ref;return{$$typeof:l,type:b,key:R,ref:G!==void 0?G:null,props:q}}function yt(b,R){return me(b.type,R,b.props)}function Ae(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}function Me(b){var R={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(q){return R[q]})}var Rt=/\/+/g;function st(b,R){return typeof b=="object"&&b!==null&&b.key!=null?Me(""+b.key):R.toString(36)}function nt(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Ve,Ve):(b.status="pending",b.then(function(R){b.status==="pending"&&(b.status="fulfilled",b.value=R)},function(R){b.status==="pending"&&(b.status="rejected",b.reason=R)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function z(b,R,q,G,k){var ee=typeof b;(ee==="undefined"||ee==="boolean")&&(b=null);var oe=!1;if(b===null)oe=!0;else switch(ee){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(b.$$typeof){case l:case c:oe=!0;break;case M:return oe=b._init,z(oe(b._payload),R,q,G,k)}}if(oe)return k=k(b),oe=G===""?"."+st(b,0):G,gt(k)?(q="",oe!=null&&(q=oe.replace(Rt,"$&/")+"/"),z(k,R,q,"",function(na){return na})):k!=null&&(Ae(k)&&(k=yt(k,q+(k.key==null||b&&b.key===k.key?"":(""+k.key).replace(Rt,"$&/")+"/")+oe)),R.push(k)),1;oe=0;var Ie=G===""?".":G+":";if(gt(b))for(var Oe=0;Oe<b.length;Oe++)G=b[Oe],ee=Ie+st(G,Oe),oe+=z(G,R,q,ee,k);else if(Oe=Y(b),typeof Oe=="function")for(b=Oe.call(b),Oe=0;!(G=b.next()).done;)G=G.value,ee=Ie+st(G,Oe++),oe+=z(G,R,q,ee,k);else if(ee==="object"){if(typeof b.then=="function")return z(nt(b),R,q,G,k);throw R=String(b),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return oe}function w(b,R,q){if(b==null)return b;var G=[],k=0;return z(b,G,"","",function(ee){return R.call(q,ee,k++)}),G}function K(b){if(b._status===-1){var R=b._result;R=R(),R.then(function(q){(b._status===0||b._status===-1)&&(b._status=1,b._result=q)},function(q){(b._status===0||b._status===-1)&&(b._status=2,b._result=q)}),b._status===-1&&(b._status=0,b._result=R)}if(b._status===1)return b._result.default;throw b._result}var J=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},W={map:w,forEach:function(b,R,q){w(b,function(){R.apply(this,arguments)},q)},count:function(b){var R=0;return w(b,function(){R++}),R},toArray:function(b){return w(b,function(R){return R})||[]},only:function(b){if(!Ae(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return P.Activity=C,P.Children=W,P.Component=ie,P.Fragment=o,P.Profiler=m,P.PureComponent=Ce,P.StrictMode=r,P.Suspense=f,P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,P.__COMPILER_RUNTIME={__proto__:null,c:function(b){return te.H.useMemoCache(b)}},P.cache=function(b){return function(){return b.apply(null,arguments)}},P.cacheSignal=function(){return null},P.cloneElement=function(b,R,q){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var G=X({},b.props),k=b.key;if(R!=null)for(ee in R.key!==void 0&&(k=""+R.key),R)!We.call(R,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&R.ref===void 0||(G[ee]=R[ee]);var ee=arguments.length-2;if(ee===1)G.children=q;else if(1<ee){for(var oe=Array(ee),Ie=0;Ie<ee;Ie++)oe[Ie]=arguments[Ie+2];G.children=oe}return me(b.type,k,G)},P.createContext=function(b){return b={$$typeof:v,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:y,_context:b},b},P.createElement=function(b,R,q){var G,k={},ee=null;if(R!=null)for(G in R.key!==void 0&&(ee=""+R.key),R)We.call(R,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(k[G]=R[G]);var oe=arguments.length-2;if(oe===1)k.children=q;else if(1<oe){for(var Ie=Array(oe),Oe=0;Oe<oe;Oe++)Ie[Oe]=arguments[Oe+2];k.children=Ie}if(b&&b.defaultProps)for(G in oe=b.defaultProps,oe)k[G]===void 0&&(k[G]=oe[G]);return me(b,ee,k)},P.createRef=function(){return{current:null}},P.forwardRef=function(b){return{$$typeof:g,render:b}},P.isValidElement=Ae,P.lazy=function(b){return{$$typeof:M,_payload:{_status:-1,_result:b},_init:K}},P.memo=function(b,R){return{$$typeof:p,type:b,compare:R===void 0?null:R}},P.startTransition=function(b){var R=te.T,q={};te.T=q;try{var G=b(),k=te.S;k!==null&&k(q,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Ve,J)}catch(ee){J(ee)}finally{R!==null&&q.types!==null&&(R.types=q.types),te.T=R}},P.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},P.use=function(b){return te.H.use(b)},P.useActionState=function(b,R,q){return te.H.useActionState(b,R,q)},P.useCallback=function(b,R){return te.H.useCallback(b,R)},P.useContext=function(b){return te.H.useContext(b)},P.useDebugValue=function(){},P.useDeferredValue=function(b,R){return te.H.useDeferredValue(b,R)},P.useEffect=function(b,R){return te.H.useEffect(b,R)},P.useEffectEvent=function(b){return te.H.useEffectEvent(b)},P.useId=function(){return te.H.useId()},P.useImperativeHandle=function(b,R,q){return te.H.useImperativeHandle(b,R,q)},P.useInsertionEffect=function(b,R){return te.H.useInsertionEffect(b,R)},P.useLayoutEffect=function(b,R){return te.H.useLayoutEffect(b,R)},P.useMemo=function(b,R){return te.H.useMemo(b,R)},P.useOptimistic=function(b,R){return te.H.useOptimistic(b,R)},P.useReducer=function(b,R,q){return te.H.useReducer(b,R,q)},P.useRef=function(b){return te.H.useRef(b)},P.useState=function(b){return te.H.useState(b)},P.useSyncExternalStore=function(b,R,q){return te.H.useSyncExternalStore(b,R,q)},P.useTransition=function(){return te.H.useTransition()},P.version="19.2.4",P}var Ym;function xo(){return Ym||(Ym=1,co.exports=cp()),co.exports}var be=xo(),ro={exports:{}},ci={},oo={exports:{}},so={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function rp(){return Xm||(Xm=1,(function(l){function c(z,w){var K=z.length;z.push(w);e:for(;0<K;){var J=K-1>>>1,W=z[J];if(0<m(W,w))z[J]=w,z[K]=W,K=J;else break e}}function o(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var w=z[0],K=z.pop();if(K!==w){z[0]=K;e:for(var J=0,W=z.length,b=W>>>1;J<b;){var R=2*(J+1)-1,q=z[R],G=R+1,k=z[G];if(0>m(q,K))G<W&&0>m(k,q)?(z[J]=k,z[G]=K,J=G):(z[J]=q,z[R]=K,J=R);else if(G<W&&0>m(k,K))z[J]=k,z[G]=K,J=G;else break e}}return w}function m(z,w){var K=z.sortIndex-w.sortIndex;return K!==0?K:z.id-w.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;l.unstable_now=function(){return y.now()}}else{var v=Date,g=v.now();l.unstable_now=function(){return v.now()-g}}var f=[],p=[],M=1,C=null,H=3,Y=!1,$=!1,X=!1,B=!1,ie=typeof setTimeout=="function"?setTimeout:null,Pe=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function et(z){for(var w=o(p);w!==null;){if(w.callback===null)r(p);else if(w.startTime<=z)r(p),w.sortIndex=w.expirationTime,c(f,w);else break;w=o(p)}}function gt(z){if(X=!1,et(z),!$)if(o(f)!==null)$=!0,Ve||(Ve=!0,Me());else{var w=o(p);w!==null&&nt(gt,w.startTime-z)}}var Ve=!1,te=-1,We=5,me=-1;function yt(){return B?!0:!(l.unstable_now()-me<We)}function Ae(){if(B=!1,Ve){var z=l.unstable_now();me=z;var w=!0;try{e:{$=!1,X&&(X=!1,Pe(te),te=-1),Y=!0;var K=H;try{t:{for(et(z),C=o(f);C!==null&&!(C.expirationTime>z&&yt());){var J=C.callback;if(typeof J=="function"){C.callback=null,H=C.priorityLevel;var W=J(C.expirationTime<=z);if(z=l.unstable_now(),typeof W=="function"){C.callback=W,et(z),w=!0;break t}C===o(f)&&r(f),et(z)}else r(f);C=o(f)}if(C!==null)w=!0;else{var b=o(p);b!==null&&nt(gt,b.startTime-z),w=!1}}break e}finally{C=null,H=K,Y=!1}w=void 0}}finally{w?Me():Ve=!1}}}var Me;if(typeof Ce=="function")Me=function(){Ce(Ae)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,st=Rt.port2;Rt.port1.onmessage=Ae,Me=function(){st.postMessage(null)}}else Me=function(){ie(Ae,0)};function nt(z,w){te=ie(function(){z(l.unstable_now())},w)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):We=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return H},l.unstable_next=function(z){switch(H){case 1:case 2:case 3:var w=3;break;default:w=H}var K=H;H=w;try{return z()}finally{H=K}},l.unstable_requestPaint=function(){B=!0},l.unstable_runWithPriority=function(z,w){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=H;H=z;try{return w()}finally{H=K}},l.unstable_scheduleCallback=function(z,w,K){var J=l.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,z={id:M++,callback:w,priorityLevel:z,startTime:K,expirationTime:W,sortIndex:-1},K>J?(z.sortIndex=K,c(p,z),o(f)===null&&z===o(p)&&(X?(Pe(te),te=-1):X=!0,nt(gt,K-J))):(z.sortIndex=W,c(f,z),$||Y||($=!0,Ve||(Ve=!0,Me()))),z},l.unstable_shouldYield=yt,l.unstable_wrapCallback=function(z){var w=H;return function(){var K=H;H=w;try{return z.apply(this,arguments)}finally{H=K}}}})(so)),so}var Qm;function op(){return Qm||(Qm=1,oo.exports=rp()),oo.exports}var fo={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function sp(){if($m)return dt;$m=1;var l=xo();function c(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)p+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(c(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function y(f,p,M){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:C==null?null:""+C,children:f,containerInfo:p,implementation:M}}var v=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dt.createPortal=function(f,p){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(c(299));return y(f,p,null,M)},dt.flushSync=function(f){var p=v.T,M=r.p;try{if(v.T=null,r.p=2,f)return f()}finally{v.T=p,r.p=M,r.d.f()}},dt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},dt.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},dt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var M=p.as,C=g(M,p.crossOrigin),H=typeof p.integrity=="string"?p.integrity:void 0,Y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;M==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:H,fetchPriority:Y}):M==="script"&&r.d.X(f,{crossOrigin:C,integrity:H,fetchPriority:Y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var M=g(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:M,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},dt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var M=p.as,C=g(M,p.crossOrigin);r.d.L(f,M,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dt.preloadModule=function(f,p){if(typeof f=="string")if(p){var M=g(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:M,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},dt.requestFormReset=function(f){r.d.r(f)},dt.unstable_batchedUpdates=function(f,p){return f(p)},dt.useFormState=function(f,p,M){return v.H.useFormState(f,p,M)},dt.useFormStatus=function(){return v.H.useHostTransitionStatus()},dt.version="19.2.4",dt}var Km;function fp(){if(Km)return fo.exports;Km=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),fo.exports=sp(),fo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function dp(){if(Zm)return ci;Zm=1;var l=op(),c=xo(),o=fp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(y(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var u=i.alternate;if(u===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===a)return f(i),e;if(u===n)return f(i),t;u=u.sibling}throw Error(r(188))}if(a.return!==n.return)a=i,n=u;else{for(var s=!1,d=i.child;d;){if(d===a){s=!0,a=i,n=u;break}if(d===n){s=!0,n=i,a=u;break}d=d.sibling}if(!s){for(d=u.child;d;){if(d===a){s=!0,a=u,n=i;break}if(d===n){s=!0,n=u,a=i;break}d=d.sibling}if(!s)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function M(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,H=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),Pe=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),yt=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Rt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case ie:return"Profiler";case B:return"StrictMode";case gt:return"Suspense";case Ve:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case Ce:return e.displayName||"Context";case Pe:return(e._context.displayName||"Context")+".Consumer";case et:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:st(e.type)||"Memo";case We:t=e._payload,e=e._init;try{return st(e(t))}catch{}}return null}var nt=Array.isArray,z=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},J=[],W=-1;function b(e){return{current:e}}function R(e){0>W||(e.current=J[W],J[W]=null,W--)}function q(e,t){W++,J[W]=e.current,e.current=t}var G=b(null),k=b(null),ee=b(null),oe=b(null);function Ie(e,t){switch(q(ee,t),q(k,e),q(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cm(t),e=rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(G),q(G,e)}function Oe(){R(G),R(k),R(ee)}function na(e){e.memoizedState!==null&&q(oe,e);var t=G.current,a=rm(t,e.type);t!==a&&(q(k,e),q(G,a))}function En(e){k.current===e&&(R(G),R(k)),oe.current===e&&(R(oe),ai._currentValue=K)}var Fa,pi;function la(e){if(Fa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Fa=t&&t[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+e+pi}var ol=!1;function sl(e,t){if(!e||ol)return"";ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(N){var A=N}Reflect.construct(e,[],j)}else{try{j.call()}catch(N){A=N}e.call(j.prototype)}}else{try{throw Error()}catch(N){A=N}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),s=u[0],d=u[1];if(s&&d){var _=s.split(`
`),x=d.split(`
`);for(i=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;i<x.length&&!x[i].includes("DetermineComponentFrameRoot");)i++;if(n===_.length||i===x.length)for(n=_.length-1,i=x.length-1;1<=n&&0<=i&&_[n]!==x[i];)i--;for(;1<=n&&0<=i;n--,i--)if(_[n]!==x[i]){if(n!==1||i!==1)do if(n--,i--,0>i||_[n]!==x[i]){var D=`
`+_[n].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=n&&0<=i);break}}}finally{ol=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?la(a):""}function Ku(e,t){switch(e.tag){case 26:case 27:case 5:return la(e.type);case 16:return la("Lazy");case 13:return e.child!==t&&t!==null?la("Suspense Fallback"):la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return sl(e.type,!1);case 11:return sl(e.type.render,!1);case 1:return sl(e.type,!0);case 31:return la("Activity");default:return""}}function vi(e){try{var t="",a=null;do t+=Ku(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var fl=Object.prototype.hasOwnProperty,dl=l.unstable_scheduleCallback,ml=l.unstable_cancelCallback,Zu=l.unstable_shouldYield,U=l.unstable_requestPaint,L=l.unstable_now,F=l.unstable_getCurrentPriorityLevel,ge=l.unstable_ImmediatePriority,Be=l.unstable_UserBlockingPriority,ue=l.unstable_NormalPriority,Qe=l.unstable_LowPriority,Ne=l.unstable_IdlePriority,De=l.log,je=l.unstable_setDisableYieldValue,bt=null,he=null;function ze(e){if(typeof De=="function"&&je(e),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(bt,e)}catch{}}var Je=Math.clz32?Math.clz32:ku,hl=Math.log,Ft=Math.LN2;function ku(e){return e>>>=0,e===0?32:31-(hl(e)/Ft|0)|0}var kt=256,ft=262144,Pa=4194304;function en(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,u=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var d=n&134217727;return d!==0?(n=d&~u,n!==0?i=en(n):(s&=d,s!==0?i=en(s):a||(a=d&~e,a!==0&&(i=en(a))))):(d=n&~u,d!==0?i=en(d):s!==0?i=en(s):a||(a=n&~e,a!==0&&(i=en(a)))),i===0?0:t!==0&&t!==i&&(t&u)===0&&(u=i&-i,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:i}function gl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Zh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var e=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),e}function Vu(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function yl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,t,a,n,i,u){var s=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var d=e.entanglements,_=e.expirationTimes,x=e.hiddenUpdates;for(a=s&~a;0<a;){var D=31-Je(a),j=1<<D;d[D]=0,_[D]=-1;var A=x[D];if(A!==null)for(x[D]=null,D=0;D<A.length;D++){var N=A[D];N!==null&&(N.lane&=-536870913)}a&=~j}n!==0&&Xo(e,n,0),u!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=u&~(s&~t))}function Xo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Je(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Qo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Je(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function $o(e,t){var a=t&-t;return a=(a&42)!==0?1:Wu(a),(a&(e.suspendedLanes|t))!==0?0:a}function Wu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Iu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ko(){var e=w.p;return e!==0?e:(e=window.event,e===void 0?32:Dm(e.type))}function Zo(e,t){var a=w.p;try{return w.p=e,t()}finally{w.p=a}}var Aa=Math.random().toString(36).slice(2),lt="__reactFiber$"+Aa,_t="__reactProps$"+Aa,Tn="__reactContainer$"+Aa,Ju="__reactEvents$"+Aa,Vh="__reactListeners$"+Aa,Wh="__reactHandles$"+Aa,ko="__reactResources$"+Aa,pl="__reactMarker$"+Aa;function Fu(e){delete e[lt],delete e[_t],delete e[Ju],delete e[Vh],delete e[Wh]}function xn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Tn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=gm(e);e!==null;){if(a=e[lt])return a;e=gm(e)}return t}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[lt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function An(e){var t=e[ko];return t||(t=e[ko]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[pl]=!0}var Vo=new Set,Wo={};function tn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Wo[e]=t,e=0;e<t.length;e++)Vo.add(t[e])}var Ih=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Jo={};function Jh(e){return fl.call(Jo,e)?!0:fl.call(Io,e)?!1:Ih.test(e)?Jo[e]=!0:(Io[e]=!0,!1)}function _i(e,t,a){if(Jh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Si(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ia(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fh(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){a=""+s,u.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pu(e){if(!e._valueTracker){var t=Fo(e)?"checked":"value";e._valueTracker=Fh(e,t,""+e[t])}}function Po(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Fo(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ph=/[\n"\\]/g;function Lt(e){return e.replace(Ph,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ec(e,t,a,n,i,u,s,d){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?tc(e,s,wt(t)):a!=null?tc(e,s,wt(a)):n!=null&&e.removeAttribute("value"),i==null&&u!=null&&(e.defaultChecked=!!u),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+wt(d):e.removeAttribute("name")}function es(e,t,a,n,i,u,s,d){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Pu(e);return}a=a!=null?""+wt(a):"",t=t!=null?""+wt(t):a,d||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=d?e.checked:!!n,e.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Pu(e)}function tc(e,t,a){t==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+wt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ts(e,t,a){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+wt(a):""}function as(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(nt(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=wt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Pu(e)}function Mn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ns(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||eg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ls(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&ns(e,i,n)}else for(var u in t)t.hasOwnProperty(u)&&ns(e,u,t[u])}function ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return ag.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ua(){}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nn=null,Dn=null;function is(e){var t=Cn(e);if(t&&(e=t.stateNode)){var a=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(ec(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[_t]||null;if(!i)throw Error(r(90));ec(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Po(n)}break e;case"textarea":ts(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var ic=!1;function us(e,t,a){if(ic)return e(t,a);ic=!0;try{var n=e(t);return n}finally{if(ic=!1,(Nn!==null||Dn!==null)&&(su(),Nn&&(t=Nn,e=Dn,Dn=Nn=null,is(t),e)))for(t=0;t<e.length;t++)is(e[t])}}function bl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[_t]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(ca)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){uc=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{uc=!1}var za=null,cc=null,xi=null;function cs(){if(xi)return xi;var e,t=cc,a=t.length,n,i="value"in za?za.value:za.textContent,u=i.length;for(e=0;e<a&&t[e]===i[e];e++);var s=a-e;for(n=1;n<=s&&t[a-n]===i[u-n];n++);return xi=i.slice(e,1<n?1-n:void 0)}function Ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function rs(){return!1}function St(e){function t(a,n,i,u,s){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=u,this.target=s,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(a=e[d],this[d]=a?a(u):u[d]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ai:rs,this.isPropagationStopped=rs,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=St(an),Sl=C({},an,{view:0,detail:0}),ng=St(Sl),rc,oc,El,Ri=C({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==El&&(El&&e.type==="mousemove"?(rc=e.screenX-El.screenX,oc=e.screenY-El.screenY):oc=rc=0,El=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),os=St(Ri),lg=C({},Ri,{dataTransfer:0}),ig=St(lg),ug=C({},Sl,{relatedTarget:0}),sc=St(ug),cg=C({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=St(cg),og=C({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=St(og),fg=C({},an,{data:0}),ss=St(fg),dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function fc(){return gg}var yg=C({},Sl,{key:function(e){if(e.key){var t=dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?Ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=St(yg),vg=C({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=St(vg),bg=C({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),_g=St(bg),Sg=C({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=St(Sg),Tg=C({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=St(Tg),Cg=C({},an,{newState:0,oldState:0}),Ag=St(Cg),zg=[9,13,27,32],dc=ca&&"CompositionEvent"in window,Tl=null;ca&&"documentMode"in document&&(Tl=document.documentMode);var Rg=ca&&"TextEvent"in window&&!Tl,ds=ca&&(!dc||Tl&&8<Tl&&11>=Tl),ms=" ",hs=!1;function gs(e,t){switch(e){case"keyup":return zg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ys(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function Mg(e,t){switch(e){case"compositionend":return ys(t);case"keypress":return t.which!==32?null:(hs=!0,ms);case"textInput":return e=t.data,e===ms&&hs?null:e;default:return null}}function Ng(e,t){if(On)return e==="compositionend"||!dc&&gs(e,t)?(e=cs(),xi=cc=za=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ds&&t.locale!=="ko"?null:t.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dg[e.type]:t==="textarea"}function vs(e,t,a,n){Nn?Dn?Dn.push(n):Dn=[n]:Nn=n,t=pu(t,"onChange"),0<t.length&&(a=new zi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var xl=null,Cl=null;function Og(e){tm(e,0)}function Mi(e){var t=vl(e);if(Po(t))return e}function bs(e,t){if(e==="change")return t}var _s=!1;if(ca){var mc;if(ca){var hc="oninput"in document;if(!hc){var Ss=document.createElement("div");Ss.setAttribute("oninput","return;"),hc=typeof Ss.oninput=="function"}mc=hc}else mc=!1;_s=mc&&(!document.documentMode||9<document.documentMode)}function Es(){xl&&(xl.detachEvent("onpropertychange",Ts),Cl=xl=null)}function Ts(e){if(e.propertyName==="value"&&Mi(Cl)){var t=[];vs(t,Cl,e,lc(e)),us(Og,t)}}function jg(e,t,a){e==="focusin"?(Es(),xl=t,Cl=a,xl.attachEvent("onpropertychange",Ts)):e==="focusout"&&Es()}function Hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(Cl)}function Ug(e,t){if(e==="click")return Mi(t)}function Bg(e,t){if(e==="input"||e==="change")return Mi(t)}function wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:wg;function Al(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!fl.call(t,i)||!Mt(e[i],t[i]))return!1}return!0}function xs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cs(e,t){var a=xs(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xs(a)}}function As(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?As(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ei(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ei(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lg=ca&&"documentMode"in document&&11>=document.documentMode,jn=null,yc=null,zl=null,pc=!1;function Rs(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pc||jn==null||jn!==Ei(n)||(n=jn,"selectionStart"in n&&gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zl&&Al(zl,n)||(zl=n,n=pu(yc,"onSelect"),0<n.length&&(t=new zi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=jn)))}function nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hn={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},vc={},Ms={};ca&&(Ms=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function ln(e){if(vc[e])return vc[e];if(!Hn[e])return e;var t=Hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ms)return vc[e]=t[a];return e}var Ns=ln("animationend"),Ds=ln("animationiteration"),Os=ln("animationstart"),qg=ln("transitionrun"),Gg=ln("transitionstart"),Yg=ln("transitioncancel"),js=ln("transitionend"),Hs=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function Vt(e,t){Hs.set(e,t),tn(t,[e])}var Ni=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Un=0,_c=0;function Di(){for(var e=Un,t=_c=Un=0;t<e;){var a=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var i=qt[t];qt[t++]=null;var u=qt[t];if(qt[t++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}u!==0&&Us(a,i,u)}}function Oi(e,t,a,n){qt[Un++]=e,qt[Un++]=t,qt[Un++]=a,qt[Un++]=n,_c|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Sc(e,t,a,n){return Oi(e,t,a,n),ji(e)}function un(e,t){return Oi(e,null,null,t),ji(e)}function Us(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,u=e.return;u!==null;)u.childLanes|=a,n=u.alternate,n!==null&&(n.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(i=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,i&&t!==null&&(i=31-Je(a),e=u.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),u):null}function ji(e){if(50<Wl)throw Wl=0,Nr=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bn={};function Xg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,n){return new Xg(e,t,a,n)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ra(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bs(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hi(e,t,a,n,i,u){var s=0;if(n=e,typeof e=="function")Ec(e)&&(s=1);else if(typeof e=="string")s=ky(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=Nt(31,a,t,i),e.elementType=me,e.lanes=u,e;case X:return cn(a.children,i,u,t);case B:s=8,i|=24;break;case ie:return e=Nt(12,a,t,i|2),e.elementType=ie,e.lanes=u,e;case gt:return e=Nt(13,a,t,i),e.elementType=gt,e.lanes=u,e;case Ve:return e=Nt(19,a,t,i),e.elementType=Ve,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:s=10;break e;case Pe:s=9;break e;case et:s=11;break e;case te:s=14;break e;case We:s=16,n=null;break e}s=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Nt(s,a,t,i),t.elementType=e,t.type=n,t.lanes=u,t}function cn(e,t,a,n){return e=Nt(7,e,n,t),e.lanes=a,e}function Tc(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function ws(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function xc(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ls=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=Ls.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vi(t)},Ls.set(e,t),t)}return{value:e,source:t,stack:vi(t)}}var wn=[],Ln=0,Ui=null,Rl=0,Yt=[],Xt=0,Ra=null,Pt=1,ea="";function oa(e,t){wn[Ln++]=Rl,wn[Ln++]=Ui,Ui=e,Rl=t}function qs(e,t,a){Yt[Xt++]=Pt,Yt[Xt++]=ea,Yt[Xt++]=Ra,Ra=e;var n=Pt;e=ea;var i=32-Je(n)-1;n&=~(1<<i),a+=1;var u=32-Je(t)+i;if(30<u){var s=i-i%5;u=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Pt=1<<32-Je(t)+i|a<<i|n,ea=u+e}else Pt=1<<u|a<<i|n,ea=e}function Cc(e){e.return!==null&&(oa(e,1),qs(e,1,0))}function Ac(e){for(;e===Ui;)Ui=wn[--Ln],wn[Ln]=null,Rl=wn[--Ln],wn[Ln]=null;for(;e===Ra;)Ra=Yt[--Xt],Yt[Xt]=null,ea=Yt[--Xt],Yt[Xt]=null,Pt=Yt[--Xt],Yt[Xt]=null}function Gs(e,t){Yt[Xt++]=Pt,Yt[Xt++]=ea,Yt[Xt++]=Ra,Pt=t.id,ea=t.overflow,Ra=e}var it=null,He=null,de=!1,Ma=null,Qt=!1,zc=Error(r(519));function Na(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(Gt(t,e)),zc}function Ys(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[lt]=e,t[_t]=n,a){case"dialog":re("cancel",t),re("close",t);break;case"iframe":case"object":case"embed":re("load",t);break;case"video":case"audio":for(a=0;a<Jl.length;a++)re(Jl[a],t);break;case"source":re("error",t);break;case"img":case"image":case"link":re("error",t),re("load",t);break;case"details":re("toggle",t);break;case"input":re("invalid",t),es(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":re("invalid",t);break;case"textarea":re("invalid",t),as(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||im(t.textContent,a)?(n.popover!=null&&(re("beforetoggle",t),re("toggle",t)),n.onScroll!=null&&re("scroll",t),n.onScrollEnd!=null&&re("scrollend",t),n.onClick!=null&&(t.onclick=ua),t=!0):t=!1,t||Na(e,!0)}function Xs(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:it=it.return}}function qn(e){if(e!==it)return!1;if(!de)return Xs(e),de=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Kr(e.type,e.memoizedProps)),a=!a),a&&He&&Na(e),Xs(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));He=hm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));He=hm(e)}else t===27?(t=He,$a(e.type)?(e=Ir,Ir=null,He=e):He=t):He=it?Kt(e.stateNode.nextSibling):null;return!0}function rn(){He=it=null,de=!1}function Rc(){var e=Ma;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Ma=null),e}function Ml(e){Ma===null?Ma=[e]:Ma.push(e)}var Mc=b(null),on=null,sa=null;function Da(e,t,a){q(Mc,t._currentValue),t._currentValue=a}function fa(e){e._currentValue=Mc.current,R(Mc)}function Nc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Dc(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){var s=i.child;u=u.firstContext;e:for(;u!==null;){var d=u;u=i;for(var _=0;_<t.length;_++)if(d.context===t[_]){u.lanes|=a,d=u.alternate,d!==null&&(d.lanes|=a),Nc(u.return,a,e),n||(s=null);break e}u=d.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(r(341));s.lanes|=a,u=s.alternate,u!==null&&(u.lanes|=a),Nc(s,a,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Gn(e,t,a,n){e=null;for(var i=t,u=!1;i!==null;){if(!u){if((i.flags&524288)!==0)u=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(r(387));if(s=s.memoizedProps,s!==null){var d=i.type;Mt(i.pendingProps.value,s.value)||(e!==null?e.push(d):e=[d])}}else if(i===oe.current){if(s=i.alternate,s===null)throw Error(r(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ai):e=[ai])}i=i.return}e!==null&&Dc(t,e,a,n),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sn(e){on=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Qs(on,e)}function wi(e,t){return on===null&&sn(e),Qs(e,t)}function Qs(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},sa===null){if(e===null)throw Error(r(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return a}var Qg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},$g=l.unstable_scheduleCallback,Kg=l.unstable_NormalPriority,$e={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Qg,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&$g(Kg,function(){e.controller.abort()})}var Dl=null,jc=0,Yn=0,Xn=null;function Zg(e,t){if(Dl===null){var a=Dl=[];jc=0,Yn=Br(),Xn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return jc++,t.then($s,$s),t}function $s(){if(--jc===0&&Dl!==null){Xn!==null&&(Xn.status="fulfilled");var e=Dl;Dl=null,Yn=0,Xn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Ks=z.S;z.S=function(e,t){Md=L(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zg(e,t),Ks!==null&&Ks(e,t)};var fn=b(null);function Hc(){var e=fn.current;return e!==null?e:Re.pooledCache}function Li(e,t){t===null?q(fn,fn.current):q(fn,t.pool)}function Zs(){var e=Hc();return e===null?null:{parent:$e._currentValue,pool:e}}var Qn=Error(r(460)),Uc=Error(r(474)),qi=Error(r(542)),Gi={then:function(){}};function ks(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vs(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ua,ua),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Is(e),e;default:if(typeof t.status=="string")t.then(ua,ua);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Is(e),e}throw mn=t,Qn}}function dn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(mn=a,Qn):a}}var mn=null;function Ws(){if(mn===null)throw Error(r(459));var e=mn;return mn=null,e}function Is(e){if(e===Qn||e===qi)throw Error(r(483))}var $n=null,Ol=0;function Yi(e){var t=Ol;return Ol+=1,$n===null&&($n=[]),Vs($n,e,t)}function jl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xi(e,t){throw t.$$typeof===H?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Js(e){function t(E,S){if(e){var T=E.deletions;T===null?(E.deletions=[S],E.flags|=16):T.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function n(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(E,S){return E=ra(E,S),E.index=0,E.sibling=null,E}function u(E,S,T){return E.index=T,e?(T=E.alternate,T!==null?(T=T.index,T<S?(E.flags|=67108866,S):T):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function s(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function d(E,S,T,O){return S===null||S.tag!==6?(S=Tc(T,E.mode,O),S.return=E,S):(S=i(S,T),S.return=E,S)}function _(E,S,T,O){var V=T.type;return V===X?D(E,S,T.props.children,O,T.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===We&&dn(V)===S.type)?(S=i(S,T.props),jl(S,T),S.return=E,S):(S=Hi(T.type,T.key,T.props,null,E.mode,O),jl(S,T),S.return=E,S)}function x(E,S,T,O){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=xc(T,E.mode,O),S.return=E,S):(S=i(S,T.children||[]),S.return=E,S)}function D(E,S,T,O,V){return S===null||S.tag!==7?(S=cn(T,E.mode,O,V),S.return=E,S):(S=i(S,T),S.return=E,S)}function j(E,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Tc(""+S,E.mode,T),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Y:return T=Hi(S.type,S.key,S.props,null,E.mode,T),jl(T,S),T.return=E,T;case $:return S=xc(S,E.mode,T),S.return=E,S;case We:return S=dn(S),j(E,S,T)}if(nt(S)||Me(S))return S=cn(S,E.mode,T,null),S.return=E,S;if(typeof S.then=="function")return j(E,Yi(S),T);if(S.$$typeof===Ce)return j(E,wi(E,S),T);Xi(E,S)}return null}function A(E,S,T,O){var V=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return V!==null?null:d(E,S,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Y:return T.key===V?_(E,S,T,O):null;case $:return T.key===V?x(E,S,T,O):null;case We:return T=dn(T),A(E,S,T,O)}if(nt(T)||Me(T))return V!==null?null:D(E,S,T,O,null);if(typeof T.then=="function")return A(E,S,Yi(T),O);if(T.$$typeof===Ce)return A(E,S,wi(E,T),O);Xi(E,T)}return null}function N(E,S,T,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return E=E.get(T)||null,d(S,E,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return E=E.get(O.key===null?T:O.key)||null,_(S,E,O,V);case $:return E=E.get(O.key===null?T:O.key)||null,x(S,E,O,V);case We:return O=dn(O),N(E,S,T,O,V)}if(nt(O)||Me(O))return E=E.get(T)||null,D(S,E,O,V,null);if(typeof O.then=="function")return N(E,S,T,Yi(O),V);if(O.$$typeof===Ce)return N(E,S,T,wi(S,O),V);Xi(S,O)}return null}function Q(E,S,T,O){for(var V=null,ye=null,Z=S,le=S=0,fe=null;Z!==null&&le<T.length;le++){Z.index>le?(fe=Z,Z=null):fe=Z.sibling;var pe=A(E,Z,T[le],O);if(pe===null){Z===null&&(Z=fe);break}e&&Z&&pe.alternate===null&&t(E,Z),S=u(pe,S,le),ye===null?V=pe:ye.sibling=pe,ye=pe,Z=fe}if(le===T.length)return a(E,Z),de&&oa(E,le),V;if(Z===null){for(;le<T.length;le++)Z=j(E,T[le],O),Z!==null&&(S=u(Z,S,le),ye===null?V=Z:ye.sibling=Z,ye=Z);return de&&oa(E,le),V}for(Z=n(Z);le<T.length;le++)fe=N(Z,E,le,T[le],O),fe!==null&&(e&&fe.alternate!==null&&Z.delete(fe.key===null?le:fe.key),S=u(fe,S,le),ye===null?V=fe:ye.sibling=fe,ye=fe);return e&&Z.forEach(function(Wa){return t(E,Wa)}),de&&oa(E,le),V}function I(E,S,T,O){if(T==null)throw Error(r(151));for(var V=null,ye=null,Z=S,le=S=0,fe=null,pe=T.next();Z!==null&&!pe.done;le++,pe=T.next()){Z.index>le?(fe=Z,Z=null):fe=Z.sibling;var Wa=A(E,Z,pe.value,O);if(Wa===null){Z===null&&(Z=fe);break}e&&Z&&Wa.alternate===null&&t(E,Z),S=u(Wa,S,le),ye===null?V=Wa:ye.sibling=Wa,ye=Wa,Z=fe}if(pe.done)return a(E,Z),de&&oa(E,le),V;if(Z===null){for(;!pe.done;le++,pe=T.next())pe=j(E,pe.value,O),pe!==null&&(S=u(pe,S,le),ye===null?V=pe:ye.sibling=pe,ye=pe);return de&&oa(E,le),V}for(Z=n(Z);!pe.done;le++,pe=T.next())pe=N(Z,E,le,pe.value,O),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?le:pe.key),S=u(pe,S,le),ye===null?V=pe:ye.sibling=pe,ye=pe);return e&&Z.forEach(function(lp){return t(E,lp)}),de&&oa(E,le),V}function xe(E,S,T,O){if(typeof T=="object"&&T!==null&&T.type===X&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Y:e:{for(var V=T.key;S!==null;){if(S.key===V){if(V=T.type,V===X){if(S.tag===7){a(E,S.sibling),O=i(S,T.props.children),O.return=E,E=O;break e}}else if(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===We&&dn(V)===S.type){a(E,S.sibling),O=i(S,T.props),jl(O,T),O.return=E,E=O;break e}a(E,S);break}else t(E,S);S=S.sibling}T.type===X?(O=cn(T.props.children,E.mode,O,T.key),O.return=E,E=O):(O=Hi(T.type,T.key,T.props,null,E.mode,O),jl(O,T),O.return=E,E=O)}return s(E);case $:e:{for(V=T.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(E,S.sibling),O=i(S,T.children||[]),O.return=E,E=O;break e}else{a(E,S);break}else t(E,S);S=S.sibling}O=xc(T,E.mode,O),O.return=E,E=O}return s(E);case We:return T=dn(T),xe(E,S,T,O)}if(nt(T))return Q(E,S,T,O);if(Me(T)){if(V=Me(T),typeof V!="function")throw Error(r(150));return T=V.call(T),I(E,S,T,O)}if(typeof T.then=="function")return xe(E,S,Yi(T),O);if(T.$$typeof===Ce)return xe(E,S,wi(E,T),O);Xi(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(E,S.sibling),O=i(S,T),O.return=E,E=O):(a(E,S),O=Tc(T,E.mode,O),O.return=E,E=O),s(E)):a(E,S)}return function(E,S,T,O){try{Ol=0;var V=xe(E,S,T,O);return $n=null,V}catch(Z){if(Z===Qn||Z===qi)throw Z;var ye=Nt(29,Z,null,E.mode);return ye.lanes=O,ye.return=E,ye}finally{}}}var hn=Js(!0),Fs=Js(!1),Oa=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ve&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=ji(e),Us(e,null,a),t}return Oi(e,n,t,a),ji(e)}function Hl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Qo(e,a)}}function Lc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var s={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?i=u=s:u=u.next=s,a=a.next}while(a!==null);u===null?i=u=t:u=u.next=t}else i=u=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var qc=!1;function Ul(){if(qc){var e=Xn;if(e!==null)throw e}}function Bl(e,t,a,n){qc=!1;var i=e.updateQueue;Oa=!1;var u=i.firstBaseUpdate,s=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var _=d,x=_.next;_.next=null,s===null?u=x:s.next=x,s=_;var D=e.alternate;D!==null&&(D=D.updateQueue,d=D.lastBaseUpdate,d!==s&&(d===null?D.firstBaseUpdate=x:d.next=x,D.lastBaseUpdate=_))}if(u!==null){var j=i.baseState;s=0,D=x=_=null,d=u;do{var A=d.lane&-536870913,N=A!==d.lane;if(N?(se&A)===A:(n&A)===A){A!==0&&A===Yn&&(qc=!0),D!==null&&(D=D.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var Q=e,I=d;A=t;var xe=a;switch(I.tag){case 1:if(Q=I.payload,typeof Q=="function"){j=Q.call(xe,j,A);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=I.payload,A=typeof Q=="function"?Q.call(xe,j,A):Q,A==null)break e;j=C({},j,A);break e;case 2:Oa=!0}}A=d.callback,A!==null&&(e.flags|=64,N&&(e.flags|=8192),N=i.callbacks,N===null?i.callbacks=[A]:N.push(A))}else N={lane:A,tag:d.tag,payload:d.payload,callback:d.callback,next:null},D===null?(x=D=N,_=j):D=D.next=N,s|=A;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;N=d,d=N.next,N.next=null,i.lastBaseUpdate=N,i.shared.pending=null}}while(!0);D===null&&(_=j),i.baseState=_,i.firstBaseUpdate=x,i.lastBaseUpdate=D,u===null&&(i.shared.lanes=0),qa|=s,e.lanes=s,e.memoizedState=j}}function Ps(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ef(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ps(a[e],t)}var Kn=b(null),Qi=b(0);function tf(e,t){e=_a,q(Qi,e),q(Kn,t),_a=e|t.baseLanes}function Gc(){q(Qi,_a),q(Kn,Kn.current)}function Yc(){_a=Qi.current,R(Kn),R(Qi)}var Dt=b(null),$t=null;function Ua(e){var t=e.alternate;q(Ye,Ye.current&1),q(Dt,e),$t===null&&(t===null||Kn.current!==null||t.memoizedState!==null)&&($t=e)}function Xc(e){q(Ye,Ye.current),q(Dt,e),$t===null&&($t=e)}function af(e){e.tag===22?(q(Ye,Ye.current),q(Dt,e),$t===null&&($t=e)):Ba()}function Ba(){q(Ye,Ye.current),q(Dt,Dt.current)}function Ot(e){R(Dt),$t===e&&($t=null),R(Ye)}var Ye=b(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vr(a)||Wr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,ae=null,Ee=null,Ke=null,Ki=!1,Zn=!1,gn=!1,Zi=0,wl=0,kn=null,Vg=0;function Le(){throw Error(r(321))}function Qc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function $c(e,t,a,n,i,u){return da=u,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Gf:ir,gn=!1,u=a(n,i),gn=!1,Zn&&(u=lf(t,a,n,i)),nf(e),u}function nf(e){z.H=Gl;var t=Ee!==null&&Ee.next!==null;if(da=0,Ke=Ee=ae=null,Ki=!1,wl=0,kn=null,t)throw Error(r(300));e===null||Ze||(e=e.dependencies,e!==null&&Bi(e)&&(Ze=!0))}function lf(e,t,a,n){ae=e;var i=0;do{if(Zn&&(kn=null),wl=0,Zn=!1,25<=i)throw Error(r(301));if(i+=1,Ke=Ee=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=Yf,u=t(a,n)}while(Zn);return u}function Wg(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ll(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(ae.flags|=1024),t}function Kc(){var e=Zi!==0;return Zi=0,e}function Zc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function kc(e){if(Ki){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ki=!1}da=0,Ke=Ee=ae=null,Zn=!1,wl=Zi=0,kn=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ae.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xe(){if(Ee===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ke===null?ae.memoizedState:Ke.next;if(t!==null)Ke=t,Ee=e;else{if(e===null)throw ae.alternate===null?Error(r(467)):Error(r(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ke===null?ae.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var t=wl;return wl+=1,kn===null&&(kn=[]),e=Vs(kn,e,t),t=ae,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Gf:ir),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===Ce)return ut(e)}throw Error(r(438,String(e)))}function Vc(e){var t=null,a=ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ae.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ki(),ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=yt;return t.index++,a}function ma(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=Xe();return Wc(t,Ee,e)}function Wc(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var i=e.baseQueue,u=n.pending;if(u!==null){if(i!==null){var s=i.next;i.next=u.next,u.next=s}t.baseQueue=i=u,n.pending=null}if(u=e.baseState,i===null)e.memoizedState=u;else{t=i.next;var d=s=null,_=null,x=t,D=!1;do{var j=x.lane&-536870913;if(j!==x.lane?(se&j)===j:(da&j)===j){var A=x.revertLane;if(A===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),j===Yn&&(D=!0);else if((da&A)===A){x=x.next,A===Yn&&(D=!0);continue}else j={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},_===null?(d=_=j,s=u):_=_.next=j,ae.lanes|=A,qa|=A;j=x.action,gn&&a(u,j),u=x.hasEagerState?x.eagerState:a(u,j)}else A={lane:j,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},_===null?(d=_=A,s=u):_=_.next=A,ae.lanes|=j,qa|=j;x=x.next}while(x!==null&&x!==t);if(_===null?s=u:_.next=d,!Mt(u,e.memoizedState)&&(Ze=!0,D&&(a=Xn,a!==null)))throw a;e.memoizedState=u,e.baseState=s,e.baseQueue=_,n.lastRenderedState=u}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ic(e){var t=Xe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,u=t.memoizedState;if(i!==null){a.pending=null;var s=i=i.next;do u=e(u,s.action),s=s.next;while(s!==i);Mt(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,n]}function uf(e,t,a){var n=ae,i=Xe(),u=de;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var s=!Mt((Ee||i).memoizedState,a);if(s&&(i.memoizedState=a,Ze=!0),i=i.queue,Pc(of.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Vn(9,{destroy:void 0},rf.bind(null,n,i,a,t),null),Re===null)throw Error(r(349));u||(da&127)!==0||cf(n,t,a)}return a}function cf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ae.updateQueue,t===null?(t=ki(),ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function rf(e,t,a,n){t.value=a,t.getSnapshot=n,sf(t)&&ff(e)}function of(e,t,a){return a(function(){sf(t)&&ff(e)})}function sf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function ff(e){var t=un(e,2);t!==null&&At(t,e,2)}function Jc(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),gn){ze(!0);try{a()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function df(e,t,a,n){return e.baseState=a,Wc(e,Ee,typeof n=="function"?n:ma)}function Ig(e,t,a,n,i){if(Fi(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){u.listeners.push(s)}};z.T!==null?a(!0):u.isTransition=!1,n(u),a=t.pending,a===null?(u.next=t.pending=u,mf(t,u)):(u.next=a.next,t.pending=a.next=u)}}function mf(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var u=z.T,s={};z.T=s;try{var d=a(i,n),_=z.S;_!==null&&_(s,d),hf(e,t,d)}catch(x){Fc(e,t,x)}finally{u!==null&&s.types!==null&&(u.types=s.types),z.T=u}}else try{u=a(i,n),hf(e,t,u)}catch(x){Fc(e,t,x)}}function hf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){gf(e,t,n)},function(n){return Fc(e,t,n)}):gf(e,t,a)}function gf(e,t,a){t.status="fulfilled",t.value=a,yf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,mf(e,a)))}function Fc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,yf(t),t=t.next;while(t!==n)}e.action=null}function yf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pf(e,t){return t}function vf(e,t){if(de){var a=Re.formState;if(a!==null){e:{var n=ae;if(de){if(He){t:{for(var i=He,u=Qt;i.nodeType!==8;){if(!u){i=null;break t}if(i=Kt(i.nextSibling),i===null){i=null;break t}}u=i.data,i=u==="F!"||u==="F"?i:null}if(i){He=Kt(i.nextSibling),n=i.data==="F!";break e}}Na(n)}n=!1}n&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},a.queue=n,a=wf.bind(null,ae,n),n.dispatch=a,n=Jc(!1),u=lr.bind(null,ae,!1,n.queue),n=pt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Ig.bind(null,ae,i,u,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function bf(e){var t=Xe();return _f(t,Ee,e)}function _f(e,t,a){if(t=Wc(e,t,pf)[0],e=Wi(ma)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ll(t)}catch(s){throw s===Qn?qi:s}else n=t;t=Xe();var i=t.queue,u=i.dispatch;return a!==t.memoizedState&&(ae.flags|=2048,Vn(9,{destroy:void 0},Jg.bind(null,i,a),null)),[n,u,e]}function Jg(e,t){e.action=t}function Sf(e){var t=Xe(),a=Ee;if(a!==null)return _f(t,a,e);Xe(),t=t.memoizedState,a=Xe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Vn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ae.updateQueue,t===null&&(t=ki(),ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ef(){return Xe().memoizedState}function Ii(e,t,a,n){var i=pt();ae.flags|=e,i.memoizedState=Vn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ji(e,t,a,n){var i=Xe();n=n===void 0?null:n;var u=i.memoizedState.inst;Ee!==null&&n!==null&&Qc(n,Ee.memoizedState.deps)?i.memoizedState=Vn(t,u,a,n):(ae.flags|=e,i.memoizedState=Vn(1|t,u,a,n))}function Tf(e,t){Ii(8390656,8,e,t)}function Pc(e,t){Ji(2048,8,e,t)}function Fg(e){ae.flags|=4;var t=ae.updateQueue;if(t===null)t=ki(),ae.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function xf(e){var t=Xe().memoizedState;return Fg({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Cf(e,t){return Ji(4,2,e,t)}function Af(e,t){return Ji(4,4,e,t)}function zf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rf(e,t,a){a=a!=null?a.concat([e]):null,Ji(4,4,zf.bind(null,t,e),a)}function er(){}function Mf(e,t){var a=Xe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Qc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Nf(e,t){var a=Xe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Qc(t,n[1]))return n[0];if(n=e(),gn){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[n,t],n}function tr(e,t,a){return a===void 0||(da&1073741824)!==0&&(se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Dd(),ae.lanes|=e,qa|=e,a)}function Df(e,t,a,n){return Mt(a,t)?a:Kn.current!==null?(e=tr(e,a,n),Mt(e,t)||(Ze=!0),e):(da&42)===0||(da&1073741824)!==0&&(se&261930)===0?(Ze=!0,e.memoizedState=a):(e=Dd(),ae.lanes|=e,qa|=e,t)}function Of(e,t,a,n,i){var u=w.p;w.p=u!==0&&8>u?u:8;var s=z.T,d={};z.T=d,lr(e,!1,t,a);try{var _=i(),x=z.S;if(x!==null&&x(d,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var D=kg(_,n);ql(e,t,D,Ut(e))}else ql(e,t,n,Ut(e))}catch(j){ql(e,t,{then:function(){},status:"rejected",reason:j},Ut())}finally{w.p=u,s!==null&&d.types!==null&&(s.types=d.types),z.T=s}}function Pg(){}function ar(e,t,a,n){if(e.tag!==5)throw Error(r(476));var i=jf(e).queue;Of(e,i,t,K,a===null?Pg:function(){return Hf(e),a(n)})}function jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hf(e){var t=jf(e);t.next===null&&(t=e.alternate.memoizedState),ql(e,t.next.queue,{},Ut())}function nr(){return ut(ai)}function Uf(){return Xe().memoizedState}function Bf(){return Xe().memoizedState}function ey(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=ja(a);var n=Ha(t,e,a);n!==null&&(At(n,t,a),Hl(n,t,a)),t={cache:Oc()},e.payload=t;return}t=t.return}}function ty(e,t,a){var n=Ut();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fi(e)?Lf(t,a):(a=Sc(e,t,a,n),a!==null&&(At(a,e,n),qf(a,t,n)))}function wf(e,t,a){var n=Ut();ql(e,t,a,n)}function ql(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fi(e))Lf(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var s=t.lastRenderedState,d=u(s,a);if(i.hasEagerState=!0,i.eagerState=d,Mt(d,s))return Oi(e,t,i,0),Re===null&&Di(),!1}catch{}finally{}if(a=Sc(e,t,i,n),a!==null)return At(a,e,n),qf(a,t,n),!0}return!1}function lr(e,t,a,n){if(n={lane:2,revertLane:Br(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fi(e)){if(t)throw Error(r(479))}else t=Sc(e,a,n,2),t!==null&&At(t,e,2)}function Fi(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Lf(e,t){Zn=Ki=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function qf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Qo(e,a)}}var Gl={readContext:ut,use:Vi,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Gl.useEffectEvent=Le;var Gf={readContext:ut,use:Vi,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Tf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ii(4194308,4,zf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){Ii(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var n=e();if(gn){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=pt();if(a!==void 0){var i=a(t);if(gn){ze(!0);try{a(t)}finally{ze(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=ty.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jc(e);var t=e.queue,a=wf.bind(null,ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:er,useDeferredValue:function(e,t){var a=pt();return tr(a,e,t)},useTransition:function(){var e=Jc(!1);return e=Of.bind(null,ae,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ae,i=pt();if(de){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Re===null)throw Error(r(349));(se&127)!==0||cf(n,t,a)}i.memoizedState=a;var u={value:a,getSnapshot:t};return i.queue=u,Tf(of.bind(null,n,u,e),[e]),n.flags|=2048,Vn(9,{destroy:void 0},rf.bind(null,n,u,a,t),null),a},useId:function(){var e=pt(),t=Re.identifierPrefix;if(de){var a=ea,n=Pt;a=(n&~(1<<32-Je(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Zi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Vg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nr,useFormState:vf,useActionState:vf,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=lr.bind(null,ae,!0,a),a.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return pt().memoizedState=ey.bind(null,ae)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ir={readContext:ut,use:Vi,useCallback:Mf,useContext:ut,useEffect:Pc,useImperativeHandle:Rf,useInsertionEffect:Cf,useLayoutEffect:Af,useMemo:Nf,useReducer:Wi,useRef:Ef,useState:function(){return Wi(ma)},useDebugValue:er,useDeferredValue:function(e,t){var a=Xe();return Df(a,Ee.memoizedState,e,t)},useTransition:function(){var e=Wi(ma)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Ll(e),t]},useSyncExternalStore:uf,useId:Uf,useHostTransitionStatus:nr,useFormState:bf,useActionState:bf,useOptimistic:function(e,t){var a=Xe();return df(a,Ee,e,t)},useMemoCache:Vc,useCacheRefresh:Bf};ir.useEffectEvent=xf;var Yf={readContext:ut,use:Vi,useCallback:Mf,useContext:ut,useEffect:Pc,useImperativeHandle:Rf,useInsertionEffect:Cf,useLayoutEffect:Af,useMemo:Nf,useReducer:Ic,useRef:Ef,useState:function(){return Ic(ma)},useDebugValue:er,useDeferredValue:function(e,t){var a=Xe();return Ee===null?tr(a,e,t):Df(a,Ee.memoizedState,e,t)},useTransition:function(){var e=Ic(ma)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Ll(e),t]},useSyncExternalStore:uf,useId:Uf,useHostTransitionStatus:nr,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,t){var a=Xe();return Ee!==null?df(a,Ee,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Bf};Yf.useEffectEvent=xf;function ur(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:C({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cr={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ut(),i=ja(n);i.payload=t,a!=null&&(i.callback=a),t=Ha(e,i,n),t!==null&&(At(t,e,n),Hl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ut(),i=ja(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Ha(e,i,n),t!==null&&(At(t,e,n),Hl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),n=ja(a);n.tag=2,t!=null&&(n.callback=t),t=Ha(e,n,a),t!==null&&(At(t,e,a),Hl(t,e,a))}};function Xf(e,t,a,n,i,u,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,s):t.prototype&&t.prototype.isPureReactComponent?!Al(a,n)||!Al(i,u):!0}function Qf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&cr.enqueueReplaceState(t,t.state,null)}function yn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=C({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function $f(e){Ni(e)}function Kf(e){console.error(e)}function Zf(e){Ni(e)}function Pi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function kf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function rr(e,t,a){return a=ja(a),a.tag=3,a.payload={element:null},a.callback=function(){Pi(e,t)},a}function Vf(e){return e=ja(e),e.tag=3,e}function Wf(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var u=n.value;e.payload=function(){return i(u)},e.callback=function(){kf(t,a,n)}}var s=a.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){kf(t,a,n),typeof i!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})})}function ay(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Gn(t,a,i,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return $t===null?fu():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Gi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),jr(e,n,i)),!1;case 22:return a.flags|=65536,n===Gi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),jr(e,n,i)),!1}throw Error(r(435,a.tag))}return jr(e,n,i),fu(),!1}if(de)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==zc&&(e=Error(r(422),{cause:n}),Ml(Gt(e,a)))):(n!==zc&&(t=Error(r(423),{cause:n}),Ml(Gt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Gt(n,a),i=rr(e.stateNode,n,i),Lc(e,i),qe!==4&&(qe=2)),!1;var u=Error(r(520),{cause:n});if(u=Gt(u,a),Vl===null?Vl=[u]:Vl.push(u),qe!==4&&(qe=2),t===null)return!0;n=Gt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=rr(a.stateNode,n,e),Lc(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ga===null||!Ga.has(u))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Vf(i),Wf(i,e,a,n),Lc(a,i),!1}a=a.return}while(a!==null);return!1}var or=Error(r(461)),Ze=!1;function ct(e,t,a,n){t.child=e===null?Fs(t,null,a,n):hn(t,e.child,a,n)}function If(e,t,a,n,i){a=a.render;var u=t.ref;if("ref"in n){var s={};for(var d in n)d!=="ref"&&(s[d]=n[d])}else s=n;return sn(t),n=$c(e,t,a,s,u,i),d=Kc(),e!==null&&!Ze?(Zc(e,t,i),ha(e,t,i)):(de&&d&&Cc(t),t.flags|=1,ct(e,t,n,i),t.child)}function Jf(e,t,a,n,i){if(e===null){var u=a.type;return typeof u=="function"&&!Ec(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Ff(e,t,u,n,i)):(e=Hi(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!pr(e,i)){var s=u.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(s,n)&&e.ref===t.ref)return ha(e,t,i)}return t.flags|=1,e=ra(u,n),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,a,n,i){if(e!==null){var u=e.memoizedProps;if(Al(u,n)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=n=u,pr(e,i))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,ha(e,t,i)}return sr(e,t,a,n,i)}function Pf(e,t,a,n){var i=n.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~u}else n=0,t.child=null;return ed(e,t,u,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Li(t,u!==null?u.cachePool:null),u!==null?tf(t,u):Gc(),af(t);else return n=t.lanes=536870912,ed(e,t,u!==null?u.baseLanes|a:a,a,n)}else u!==null?(Li(t,u.cachePool),tf(t,u),Ba(),t.memoizedState=null):(e!==null&&Li(t,null),Gc(),Ba());return ct(e,t,i,a),t.child}function Yl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ed(e,t,a,n,i){var u=Hc();return u=u===null?null:{parent:$e._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Li(t,null),Gc(),af(t),e!==null&&Gn(e,t,n,!0),t.childLanes=i,null}function eu(e,t){return t=au({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function td(e,t,a){return hn(t,e.child,null,a),e=eu(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function ny(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(n.mode==="hidden")return e=eu(t,n),t.lanes=536870912,Yl(null,e);if(Xc(t),(e=He)?(e=mm(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Pt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=ws(e),a.return=t,t.child=a,it=t,He=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return eu(t,n)}var u=e.memoizedState;if(u!==null){var s=u.dehydrated;if(Xc(t),i)if(t.flags&256)t.flags&=-257,t=td(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ze||Gn(e,t,a,!1),i=(a&e.childLanes)!==0,Ze||i){if(n=Re,n!==null&&(s=$o(n,a),s!==0&&s!==u.retryLane))throw u.retryLane=s,un(e,s),At(n,e,s),or;fu(),t=td(e,t,a)}else e=u.treeContext,He=Kt(s.nextSibling),it=t,de=!0,Ma=null,Qt=!1,e!==null&&Gs(t,e),t=eu(t,n),t.flags|=4096;return t}return e=ra(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function tu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function sr(e,t,a,n,i){return sn(t),a=$c(e,t,a,n,void 0,i),n=Kc(),e!==null&&!Ze?(Zc(e,t,i),ha(e,t,i)):(de&&n&&Cc(t),t.flags|=1,ct(e,t,a,i),t.child)}function ad(e,t,a,n,i,u){return sn(t),t.updateQueue=null,a=lf(t,n,a,i),nf(e),n=Kc(),e!==null&&!Ze?(Zc(e,t,u),ha(e,t,u)):(de&&n&&Cc(t),t.flags|=1,ct(e,t,a,u),t.child)}function nd(e,t,a,n,i){if(sn(t),t.stateNode===null){var u=Bn,s=a.contextType;typeof s=="object"&&s!==null&&(u=ut(s)),u=new a(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=cr,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},Bc(t),s=a.contextType,u.context=typeof s=="object"&&s!==null?ut(s):Bn,u.state=t.memoizedState,s=a.getDerivedStateFromProps,typeof s=="function"&&(ur(t,a,s,n),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(s=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),s!==u.state&&cr.enqueueReplaceState(u,u.state,null),Bl(t,n,u,i),Ul(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var d=t.memoizedProps,_=yn(a,d);u.props=_;var x=u.context,D=a.contextType;s=Bn,typeof D=="object"&&D!==null&&(s=ut(D));var j=a.getDerivedStateFromProps;D=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,D||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d||x!==s)&&Qf(t,u,n,s),Oa=!1;var A=t.memoizedState;u.state=A,Bl(t,n,u,i),Ul(),x=t.memoizedState,d||A!==x||Oa?(typeof j=="function"&&(ur(t,a,j,n),x=t.memoizedState),(_=Oa||Xf(t,a,_,n,A,x,s))?(D||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=x),u.props=n,u.state=x,u.context=s,n=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,wc(e,t),s=t.memoizedProps,D=yn(a,s),u.props=D,j=t.pendingProps,A=u.context,x=a.contextType,_=Bn,typeof x=="object"&&x!==null&&(_=ut(x)),d=a.getDerivedStateFromProps,(x=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(s!==j||A!==_)&&Qf(t,u,n,_),Oa=!1,A=t.memoizedState,u.state=A,Bl(t,n,u,i),Ul();var N=t.memoizedState;s!==j||A!==N||Oa||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof d=="function"&&(ur(t,a,d,n),N=t.memoizedState),(D=Oa||Xf(t,a,D,n,A,N,_)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,N,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,N,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),u.props=n,u.state=N,u.context=_,n=D):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,tu(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,a,i)):ct(e,t,a,i),t.memoizedState=u.state,e=t.child):e=ha(e,t,i),e}function ld(e,t,a,n){return rn(),t.flags|=256,ct(e,t,a,n),t.child}var fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:Zs()}}function mr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ht),e}function id(e,t,a){var n=t.pendingProps,i=!1,u=(t.flags&128)!==0,s;if((s=u)||(s=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(i?Ua(t):Ba(),(e=He)?(e=mm(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Pt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=ws(e),a.return=t,t.child=a,it=t,He=null)):e=null,e===null)throw Na(t);return Wr(e)?t.lanes=32:t.lanes=536870912,null}var d=n.children;return n=n.fallback,i?(Ba(),i=t.mode,d=au({mode:"hidden",children:d},i),n=cn(n,i,a,null),d.return=t,n.return=t,d.sibling=n,t.child=d,n=t.child,n.memoizedState=dr(a),n.childLanes=mr(e,s,a),t.memoizedState=fr,Yl(null,n)):(Ua(t),hr(t,d))}var _=e.memoizedState;if(_!==null&&(d=_.dehydrated,d!==null)){if(u)t.flags&256?(Ua(t),t.flags&=-257,t=gr(e,t,a)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),d=n.fallback,i=t.mode,n=au({mode:"visible",children:n.children},i),d=cn(d,i,a,null),d.flags|=2,n.return=t,d.return=t,n.sibling=d,t.child=n,hn(t,e.child,null,a),n=t.child,n.memoizedState=dr(a),n.childLanes=mr(e,s,a),t.memoizedState=fr,t=Yl(null,n));else if(Ua(t),Wr(d)){if(s=d.nextSibling&&d.nextSibling.dataset,s)var x=s.dgst;s=x,n=Error(r(419)),n.stack="",n.digest=s,Ml({value:n,source:null,stack:null}),t=gr(e,t,a)}else if(Ze||Gn(e,t,a,!1),s=(a&e.childLanes)!==0,Ze||s){if(s=Re,s!==null&&(n=$o(s,a),n!==0&&n!==_.retryLane))throw _.retryLane=n,un(e,n),At(s,e,n),or;Vr(d)||fu(),t=gr(e,t,a)}else Vr(d)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,He=Kt(d.nextSibling),it=t,de=!0,Ma=null,Qt=!1,e!==null&&Gs(t,e),t=hr(t,n.children),t.flags|=4096);return t}return i?(Ba(),d=n.fallback,i=t.mode,_=e.child,x=_.sibling,n=ra(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,x!==null?d=ra(x,d):(d=cn(d,i,a,null),d.flags|=2),d.return=t,n.return=t,n.sibling=d,t.child=n,Yl(null,n),n=t.child,d=e.child.memoizedState,d===null?d=dr(a):(i=d.cachePool,i!==null?(_=$e._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=Zs(),d={baseLanes:d.baseLanes|a,cachePool:i}),n.memoizedState=d,n.childLanes=mr(e,s,a),t.memoizedState=fr,Yl(e.child,n)):(Ua(t),a=e.child,e=a.sibling,a=ra(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function hr(e,t){return t=au({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function au(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function gr(e,t,a){return hn(t,e.child,null,a),e=hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ud(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nc(e.return,t,a)}function yr(e,t,a,n,i,u){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:u}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=i,s.treeForkCount=u)}function cd(e,t,a){var n=t.pendingProps,i=n.revealOrder,u=n.tail;n=n.children;var s=Ye.current,d=(s&2)!==0;if(d?(s=s&1|2,t.flags|=128):s&=1,q(Ye,s),ct(e,t,n,a),n=de?Rl:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,a,t);else if(e.tag===19)ud(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&$i(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),yr(t,!1,i,a,u,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$i(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}yr(t,!0,a,null,u,n);break;case"together":yr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ha(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Gn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ra(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ra(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function pr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function ly(e,t,a){switch(t.tag){case 3:Ie(t,t.stateNode.containerInfo),Da(t,$e,e.memoizedState.cache),rn();break;case 27:case 5:na(t);break;case 4:Ie(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?id(e,t,a):(Ua(t),e=ha(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Gn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return cd(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(Ye,Ye.current),n)break;return null;case 22:return t.lanes=0,Pf(e,t,a,t.pendingProps);case 24:Da(t,$e,e.memoizedState.cache)}return ha(e,t,a)}function rd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!pr(e,a)&&(t.flags&128)===0)return Ze=!1,ly(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,de&&(t.flags&1048576)!==0&&qs(t,Rl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=dn(t.elementType),t.type=e,typeof e=="function")Ec(e)?(n=yn(e,n),t.tag=1,t=nd(null,t,e,n,a)):(t.tag=0,t=sr(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===et){t.tag=11,t=If(null,t,e,n,a);break e}else if(i===te){t.tag=14,t=Jf(null,t,e,n,a);break e}}throw t=st(e)||e,Error(r(306,t,""))}}return t;case 0:return sr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=yn(n,t.pendingProps),nd(e,t,n,i,a);case 3:e:{if(Ie(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var u=t.memoizedState;i=u.element,wc(e,t),Bl(t,n,null,a);var s=t.memoizedState;if(n=s.cache,Da(t,$e,n),n!==u.cache&&Dc(t,[$e],a,!0),Ul(),n=s.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ld(e,t,n,a);break e}else if(n!==i){i=Gt(Error(r(424)),t),Ml(i),t=ld(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Kt(e.firstChild),it=t,de=!0,Ma=null,Qt=!0,a=Fs(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rn(),n===i){t=ha(e,t,a);break e}ct(e,t,n,a)}t=t.child}return t;case 26:return tu(e,t),e===null?(a=bm(t.type,null,t.pendingProps,null))?t.memoizedState=a:de||(a=t.type,e=t.pendingProps,n=vu(ee.current).createElement(a),n[lt]=t,n[_t]=e,rt(n,a,e),tt(n),t.stateNode=n):t.memoizedState=bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return na(t),e===null&&de&&(n=t.stateNode=ym(t.type,t.pendingProps,ee.current),it=t,Qt=!0,i=He,$a(t.type)?(Ir=i,He=Kt(n.firstChild)):He=i),ct(e,t,t.pendingProps.children,a),tu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((i=n=He)&&(n=Hy(n,t.type,t.pendingProps,Qt),n!==null?(t.stateNode=n,it=t,He=Kt(n.firstChild),Qt=!1,i=!0):i=!1),i||Na(t)),na(t),i=t.type,u=t.pendingProps,s=e!==null?e.memoizedProps:null,n=u.children,Kr(i,u)?n=null:s!==null&&Kr(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=$c(e,t,Wg,null,null,a),ai._currentValue=i),tu(e,t),ct(e,t,n,a),t.child;case 6:return e===null&&de&&((e=a=He)&&(a=Uy(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,it=t,He=null,e=!0):e=!1),e||Na(t)),null;case 13:return id(e,t,a);case 4:return Ie(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,a):ct(e,t,n,a),t.child;case 11:return If(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Da(t,t.type,n.value),ct(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,sn(t),i=ut(i),n=n(i),t.flags|=1,ct(e,t,n,a),t.child;case 14:return Jf(e,t,t.type,t.pendingProps,a);case 15:return Ff(e,t,t.type,t.pendingProps,a);case 19:return cd(e,t,a);case 31:return ny(e,t,a);case 22:return Pf(e,t,a,t.pendingProps);case 24:return sn(t),n=ut($e),e===null?(i=Hc(),i===null&&(i=Re,u=Oc(),i.pooledCache=u,u.refCount++,u!==null&&(i.pooledCacheLanes|=a),i=u),t.memoizedState={parent:n,cache:i},Bc(t),Da(t,$e,i)):((e.lanes&a)!==0&&(wc(e,t),Bl(t,null,null,a),Ul()),i=e.memoizedState,u=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Da(t,$e,n)):(n=u.cache,Da(t,$e,n),n!==i.cache&&Dc(t,[$e],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ga(e){e.flags|=4}function vr(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Ud())e.flags|=8192;else throw mn=Gi,Uc}else e.flags&=-16777217}function od(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xm(t))if(Ud())e.flags|=8192;else throw mn=Gi,Uc}function nu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yo():536870912,e.lanes|=t,Fn|=t)}function Xl(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function iy(e,t,a){var n=t.pendingProps;switch(Ac(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fa($e),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qn(t)?ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rc())),Ue(t),null;case 26:var i=t.type,u=t.memoizedState;return e===null?(ga(t),u!==null?(Ue(t),od(t,u)):(Ue(t),vr(t,i,null,n,a))):u?u!==e.memoizedState?(ga(t),Ue(t),od(t,u)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ga(t),Ue(t),vr(t,i,e,n,a)),null;case 27:if(En(t),a=ee.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ga(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ue(t),null}e=G.current,qn(t)?Ys(t):(e=ym(i,n,a),t.stateNode=e,ga(t))}return Ue(t),null;case 5:if(En(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ga(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return Ue(t),null}if(u=G.current,qn(t))Ys(t);else{var s=vu(ee.current);switch(u){case 1:u=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:u=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":u=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":u=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":u=s.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?s.createElement(i,{is:n.is}):s.createElement(i)}}u[lt]=t,u[_t]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)u.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=u;e:switch(rt(u,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ga(t)}}return Ue(t),vr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ga(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=ee.current,qn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=it,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||im(e.nodeValue,a)),e||Na(t,!0)}else e=vu(e).createTextNode(n),e[lt]=t,t.stateNode=e}return Ue(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=qn(t),a!==null){if(e===null){if(!n)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[lt]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else a=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ue(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=qn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[lt]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),i=!1}else i=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),nu(t,t.updateQueue),Ue(t),null);case 4:return Oe(),e===null&&Gr(t.stateNode.containerInfo),Ue(t),null;case 10:return fa(t.type),Ue(t),null;case 19:if(R(Ye),n=t.memoizedState,n===null)return Ue(t),null;if(i=(t.flags&128)!==0,u=n.rendering,u===null)if(i)Xl(n,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=$i(e),u!==null){for(t.flags|=128,Xl(n,!1),e=u.updateQueue,t.updateQueue=e,nu(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Bs(a,e),a=a.sibling;return q(Ye,Ye.current&1|2),de&&oa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&L()>ru&&(t.flags|=128,i=!0,Xl(n,!1),t.lanes=4194304)}else{if(!i)if(e=$i(u),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nu(t,e),Xl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!de)return Ue(t),null}else 2*L()-n.renderingStartTime>ru&&a!==536870912&&(t.flags|=128,i=!0,Xl(n,!1),t.lanes=4194304);n.isBackwards?(u.sibling=t.child,t.child=u):(e=n.last,e!==null?e.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=L(),e.sibling=null,a=Ye.current,q(Ye,i?a&1|2:a&1),de&&oa(t,n.treeForkCount),e):(Ue(t),null);case 22:case 23:return Ot(t),Yc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),a=t.updateQueue,a!==null&&nu(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&R(fn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fa($e),Ue(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function uy(e,t){switch(Ac(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa($e),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return En(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(r(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Ye),null;case 4:return Oe(),null;case 10:return fa(t.type),null;case 22:case 23:return Ot(t),Yc(),e!==null&&R(fn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fa($e),null;case 25:return null;default:return null}}function sd(e,t){switch(Ac(t),t.tag){case 3:fa($e),Oe();break;case 26:case 27:case 5:En(t);break;case 4:Oe();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:R(Ye);break;case 10:fa(t.type);break;case 22:case 23:Ot(t),Yc(),e!==null&&R(fn);break;case 24:fa($e)}}function Ql(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var u=a.create,s=a.inst;n=u(),s.destroy=n}a=a.next}while(a!==i)}}catch(d){Se(t,t.return,d)}}function wa(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){var s=n.inst,d=s.destroy;if(d!==void 0){s.destroy=void 0,i=t;var _=a,x=d;try{x()}catch(D){Se(i,_,D)}}}n=n.next}while(n!==u)}}catch(D){Se(t,t.return,D)}}function fd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ef(t,a)}catch(n){Se(e,e.return,n)}}}function dd(e,t,a){a.props=yn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Se(e,t,n)}}function $l(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Se(e,t,i)}}function ta(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Se(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Se(e,t,i)}else a.current=null}function md(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Se(e,e.return,i)}}function br(e,t,a){try{var n=e.stateNode;Ry(n,e.type,a,t),n[_t]=t}catch(i){Se(e,e.return,i)}}function hd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$a(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ua));else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Sr(e,t,a),e=e.sibling;e!==null;)Sr(e,t,a),e=e.sibling}function lu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&$a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lu(e,t,a),e=e.sibling;e!==null;)lu(e,t,a),e=e.sibling}function gd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);rt(t,n,a),t[lt]=e,t[_t]=a}catch(u){Se(e,e.return,u)}}var ya=!1,ke=!1,Er=!1,yd=typeof WeakSet=="function"?WeakSet:Set,at=null;function cy(e,t){if(e=e.containerInfo,Qr=Cu,e=zs(e),gc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var s=0,d=-1,_=-1,x=0,D=0,j=e,A=null;t:for(;;){for(var N;j!==a||i!==0&&j.nodeType!==3||(d=s+i),j!==u||n!==0&&j.nodeType!==3||(_=s+n),j.nodeType===3&&(s+=j.nodeValue.length),(N=j.firstChild)!==null;)A=j,j=N;for(;;){if(j===e)break t;if(A===a&&++x===i&&(d=s),A===u&&++D===n&&(_=s),(N=j.nextSibling)!==null)break;j=A,A=j.parentNode}j=N}a=d===-1||_===-1?null:{start:d,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for($r={focusedElem:e,selectionRange:a},Cu=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,i=u.memoizedProps,u=u.memoizedState,n=a.stateNode;try{var Q=yn(a.type,i);e=n.getSnapshotBeforeUpdate(Q,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(I){Se(a,a.return,I)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)kr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function pd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:va(e,a),n&4&&Ql(5,a);break;case 1:if(va(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(s){Se(a,a.return,s)}else{var i=yn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Se(a,a.return,s)}}n&64&&fd(a),n&512&&$l(a,a.return);break;case 3:if(va(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ef(e,t)}catch(s){Se(a,a.return,s)}}break;case 27:t===null&&n&4&&gd(a);case 26:case 5:va(e,a),t===null&&n&4&&md(a),n&512&&$l(a,a.return);break;case 12:va(e,a);break;case 31:va(e,a),n&4&&_d(e,a);break;case 13:va(e,a),n&4&&Sd(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yy.bind(null,a),By(e,a))));break;case 22:if(n=a.memoizedState!==null||ya,!n){t=t!==null&&t.memoizedState!==null||ke,i=ya;var u=ke;ya=n,(ke=t)&&!u?ba(e,a,(a.subtreeFlags&8772)!==0):va(e,a),ya=i,ke=u}break;case 30:break;default:va(e,a)}}function vd(e){var t=e.alternate;t!==null&&(e.alternate=null,vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,Et=!1;function pa(e,t,a){for(a=a.child;a!==null;)bd(e,t,a),a=a.sibling}function bd(e,t,a){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(bt,a)}catch{}switch(a.tag){case 26:ke||ta(a,t),pa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ke||ta(a,t);var n=we,i=Et;$a(a.type)&&(we=a.stateNode,Et=!1),pa(e,t,a),Pl(a.stateNode),we=n,Et=i;break;case 5:ke||ta(a,t);case 6:if(n=we,i=Et,we=null,pa(e,t,a),we=n,Et=i,we!==null)if(Et)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(a.stateNode)}catch(u){Se(a,t,u)}else try{we.removeChild(a.stateNode)}catch(u){Se(a,t,u)}break;case 18:we!==null&&(Et?(e=we,fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ul(e)):fm(we,a.stateNode));break;case 4:n=we,i=Et,we=a.stateNode.containerInfo,Et=!0,pa(e,t,a),we=n,Et=i;break;case 0:case 11:case 14:case 15:wa(2,a,t),ke||wa(4,a,t),pa(e,t,a);break;case 1:ke||(ta(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&dd(a,t,n)),pa(e,t,a);break;case 21:pa(e,t,a);break;case 22:ke=(n=ke)||a.memoizedState!==null,pa(e,t,a),ke=n;break;default:pa(e,t,a)}}function _d(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ul(e)}catch(a){Se(t,t.return,a)}}}function Sd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){Se(t,t.return,a)}}function ry(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yd),t;default:throw Error(r(435,e.tag))}}function iu(e,t){var a=ry(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=py.bind(null,e,n);n.then(i,i)}})}function Tt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],u=e,s=t,d=s;e:for(;d!==null;){switch(d.tag){case 27:if($a(d.type)){we=d.stateNode,Et=!1;break e}break;case 5:we=d.stateNode,Et=!1;break e;case 3:case 4:we=d.stateNode.containerInfo,Et=!0;break e}d=d.return}if(we===null)throw Error(r(160));bd(u,s,i),we=null,Et=!1,u=i.alternate,u!==null&&(u.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ed(t,e),t=t.sibling}var Wt=null;function Ed(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),xt(e),n&4&&(wa(3,e,e.return),Ql(3,e),wa(5,e,e.return));break;case 1:Tt(t,e),xt(e),n&512&&(ke||a===null||ta(a,a.return)),n&64&&ya&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=Wt;if(Tt(t,e),xt(e),n&512&&(ke||a===null||ta(a,a.return)),n&4){var u=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":u=i.getElementsByTagName("title")[0],(!u||u[pl]||u[lt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=i.createElement(n),i.head.insertBefore(u,i.querySelector("head > title"))),rt(u,n,a),u[lt]=e,tt(u),n=u;break e;case"link":var s=Em("link","href",i).get(n+(a.href||""));if(s){for(var d=0;d<s.length;d++)if(u=s[d],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){s.splice(d,1);break t}}u=i.createElement(n),rt(u,n,a),i.head.appendChild(u);break;case"meta":if(s=Em("meta","content",i).get(n+(a.content||""))){for(d=0;d<s.length;d++)if(u=s[d],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){s.splice(d,1);break t}}u=i.createElement(n),rt(u,n,a),i.head.appendChild(u);break;default:throw Error(r(468,n))}u[lt]=e,tt(u),n=u}e.stateNode=n}else Tm(i,e.type,e.stateNode);else e.stateNode=Sm(i,n,e.memoizedProps);else u!==n?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,n===null?Tm(i,e.type,e.stateNode):Sm(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&br(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tt(t,e),xt(e),n&512&&(ke||a===null||ta(a,a.return)),a!==null&&n&4&&br(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tt(t,e),xt(e),n&512&&(ke||a===null||ta(a,a.return)),e.flags&32){i=e.stateNode;try{Mn(i,"")}catch(Q){Se(e,e.return,Q)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,br(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Er=!0);break;case 6:if(Tt(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(Q){Se(e,e.return,Q)}}break;case 3:if(Su=null,i=Wt,Wt=bu(t.containerInfo),Tt(t,e),Wt=i,xt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(t.containerInfo)}catch(Q){Se(e,e.return,Q)}Er&&(Er=!1,Td(e));break;case 4:n=Wt,Wt=bu(e.stateNode.containerInfo),Tt(t,e),xt(e),Wt=n;break;case 12:Tt(t,e),xt(e);break;case 31:Tt(t,e),xt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,iu(e,n)));break;case 13:Tt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cu=L()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,iu(e,n)));break;case 22:i=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,x=ya,D=ke;if(ya=x||i,ke=D||_,Tt(t,e),ke=D,ya=x,xt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||_||ya||ke||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,i)s=u.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{d=_.stateNode;var j=_.memoizedProps.style,A=j!=null&&j.hasOwnProperty("display")?j.display:null;d.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(Q){Se(_,_.return,Q)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(Q){Se(_,_.return,Q)}}}else if(t.tag===18){if(a===null){_=t;try{var N=_.stateNode;i?dm(N,!0):dm(_.stateNode,!1)}catch(Q){Se(_,_.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,iu(e,a))));break;case 19:Tt(t,e),xt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,iu(e,n)));break;case 30:break;case 21:break;default:Tt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(hd(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,u=_r(e);lu(e,u,i);break;case 5:var s=a.stateNode;a.flags&32&&(Mn(s,""),a.flags&=-33);var d=_r(e);lu(e,d,s);break;case 3:case 4:var _=a.stateNode.containerInfo,x=_r(e);Sr(e,x,_);break;default:throw Error(r(161))}}catch(D){Se(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Td(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Td(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function va(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pd(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),pn(t);break;case 1:ta(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&dd(t,t.return,a),pn(t);break;case 27:Pl(t.stateNode);case 26:case 5:ta(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,u=t,s=u.flags;switch(u.tag){case 0:case 11:case 15:ba(i,u,a),Ql(4,u);break;case 1:if(ba(i,u,a),n=u,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(x){Se(n,n.return,x)}if(n=u,i=n.updateQueue,i!==null){var d=n.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)Ps(_[i],d)}catch(x){Se(n,n.return,x)}}a&&s&64&&fd(u),$l(u,u.return);break;case 27:gd(u);case 26:case 5:ba(i,u,a),a&&n===null&&s&4&&md(u),$l(u,u.return);break;case 12:ba(i,u,a);break;case 31:ba(i,u,a),a&&s&4&&_d(i,u);break;case 13:ba(i,u,a),a&&s&4&&Sd(i,u);break;case 22:u.memoizedState===null&&ba(i,u,a),$l(u,u.return);break;case 30:break;default:ba(i,u,a)}t=t.sibling}}function Tr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Nl(a))}function xr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e))}function It(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xd(e,t,a,n),t=t.sibling}function xd(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,n),i&2048&&Ql(9,t);break;case 1:It(e,t,a,n);break;case 3:It(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e)));break;case 12:if(i&2048){It(e,t,a,n),e=t.stateNode;try{var u=t.memoizedProps,s=u.id,d=u.onPostCommit;typeof d=="function"&&d(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Se(t,t.return,_)}}else It(e,t,a,n);break;case 31:It(e,t,a,n);break;case 13:It(e,t,a,n);break;case 23:break;case 22:u=t.stateNode,s=t.alternate,t.memoizedState!==null?u._visibility&2?It(e,t,a,n):Kl(e,t):u._visibility&2?It(e,t,a,n):(u._visibility|=2,Wn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Tr(s,t);break;case 24:It(e,t,a,n),i&2048&&xr(t.alternate,t);break;default:It(e,t,a,n)}}function Wn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,s=t,d=a,_=n,x=s.flags;switch(s.tag){case 0:case 11:case 15:Wn(u,s,d,_,i),Ql(8,s);break;case 23:break;case 22:var D=s.stateNode;s.memoizedState!==null?D._visibility&2?Wn(u,s,d,_,i):Kl(u,s):(D._visibility|=2,Wn(u,s,d,_,i)),i&&x&2048&&Tr(s.alternate,s);break;case 24:Wn(u,s,d,_,i),i&&x&2048&&xr(s.alternate,s);break;default:Wn(u,s,d,_,i)}t=t.sibling}}function Kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Kl(a,n),i&2048&&Tr(n.alternate,n);break;case 24:Kl(a,n),i&2048&&xr(n.alternate,n);break;default:Kl(a,n)}t=t.sibling}}var Zl=8192;function In(e,t,a){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Cd(e,t,a),e=e.sibling}function Cd(e,t,a){switch(e.tag){case 26:In(e,t,a),e.flags&Zl&&e.memoizedState!==null&&Vy(a,Wt,e.memoizedState,e.memoizedProps);break;case 5:In(e,t,a);break;case 3:case 4:var n=Wt;Wt=bu(e.stateNode.containerInfo),In(e,t,a),Wt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zl,Zl=16777216,In(e,t,a),Zl=n):In(e,t,a));break;default:In(e,t,a)}}function Ad(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];at=n,Rd(n,e)}Ad(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zd(e),e=e.sibling}function zd(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&wa(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,uu(e)):kl(e);break;default:kl(e)}}function uu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];at=n,Rd(n,e)}Ad(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),uu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,uu(t));break;default:uu(t)}e=e.sibling}}function Rd(e,t){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,at=n;else e:for(a=e;at!==null;){n=at;var i=n.sibling,u=n.return;if(vd(n),n===a){at=null;break e}if(i!==null){i.return=u,at=i;break e}at=u}}}var oy={getCacheForType:function(e){var t=ut($e),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut($e).controller.signal}},sy=typeof WeakMap=="function"?WeakMap:Map,ve=0,Re=null,ce=null,se=0,_e=0,jt=null,La=!1,Jn=!1,Cr=!1,_a=0,qe=0,qa=0,vn=0,Ar=0,Ht=0,Fn=0,Vl=null,Ct=null,zr=!1,cu=0,Md=0,ru=1/0,ou=null,Ga=null,Fe=0,Ya=null,Pn=null,Sa=0,Rr=0,Mr=null,Nd=null,Wl=0,Nr=null;function Ut(){return(ve&2)!==0&&se!==0?se&-se:z.T!==null?Br():Ko()}function Dd(){if(Ht===0)if((se&536870912)===0||de){var e=ft;ft<<=1,(ft&3932160)===0&&(ft=262144),Ht=e}else Ht=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Ht}function At(e,t,a){(e===Re&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(el(e,0),Xa(e,se,Ht,!1)),yl(e,a),((ve&2)===0||e!==Re)&&(e===Re&&((ve&2)===0&&(vn|=a),qe===4&&Xa(e,se,Ht,!1)),aa(e))}function Od(e,t,a){if((ve&6)!==0)throw Error(r(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||gl(e,t),i=n?my(e,t):Or(e,t,!0),u=n;do{if(i===0){Jn&&!n&&Xa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!fy(a)){i=Or(e,t,!1),u=!1;continue}if(i===2){if(u=t,e.errorRecoveryDisabledLanes&u)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var d=e;i=Vl;var _=d.current.memoizedState.isDehydrated;if(_&&(el(d,s).flags|=256),s=Or(d,s,!1),s!==2){if(Cr&&!_){d.errorRecoveryDisabledLanes|=u,vn|=u,i=4;break e}u=Ct,Ct=i,u!==null&&(Ct===null?Ct=u:Ct.push.apply(Ct,u))}i=s}if(u=!1,i!==2)continue}}if(i===1){el(e,0),Xa(e,t,0,!0);break}e:{switch(n=e,u=i,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Xa(n,t,Ht,!La);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=cu+300-L(),10<i)){if(Xa(n,t,Ht,!La),bi(n,0,!0)!==0)break e;Sa=t,n.timeoutHandle=om(jd.bind(null,n,a,Ct,ou,zr,t,Ht,vn,Fn,La,u,"Throttled",-0,0),i);break e}jd(n,a,Ct,ou,zr,t,Ht,vn,Fn,La,u,null,-0,0)}}break}while(!0);aa(e)}function jd(e,t,a,n,i,u,s,d,_,x,D,j,A,N){if(e.timeoutHandle=-1,j=t.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},Cd(t,u,j);var Q=(u&62914560)===u?cu-L():(u&4194048)===u?Md-L():0;if(Q=Wy(j,Q),Q!==null){Sa=u,e.cancelPendingCommit=Q(Yd.bind(null,e,t,u,a,n,i,s,d,_,D,j,null,A,N)),Xa(e,u,s,!x);return}}Yd(e,t,u,a,n,i,s,d,_)}function fy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],u=i.getSnapshot;i=i.value;try{if(!Mt(u(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,a,n){t&=~Ar,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var u=31-Je(i),s=1<<u;n[u]=-1,i&=~s}a!==0&&Xo(e,a,t)}function su(){return(ve&6)===0?(Il(0),!1):!0}function Dr(){if(ce!==null){if(_e===0)var e=ce.return;else e=ce,sa=on=null,kc(e),$n=null,Ol=0,e=ce;for(;e!==null;)sd(e.alternate,e),e=e.return;ce=null}}function el(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Dy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sa=0,Dr(),Re=e,ce=a=ra(e.current,null),se=t,_e=0,jt=null,La=!1,Jn=gl(e,t),Cr=!1,Fn=Ht=Ar=vn=qa=qe=0,Ct=Vl=null,zr=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Je(n),u=1<<i;t|=e[i],n&=~u}return _a=t,Di(),a}function Hd(e,t){ae=null,z.H=Gl,t===Qn||t===qi?(t=Ws(),_e=3):t===Uc?(t=Ws(),_e=4):_e=t===or?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,ce===null&&(qe=1,Pi(e,Gt(t,e.current)))}function Ud(){var e=Dt.current;return e===null?!0:(se&4194048)===se?$t===null:(se&62914560)===se||(se&536870912)!==0?e===$t:!1}function Bd(){var e=z.H;return z.H=Gl,e===null?Gl:e}function wd(){var e=z.A;return z.A=oy,e}function fu(){qe=4,La||(se&4194048)!==se&&Dt.current!==null||(Jn=!0),(qa&134217727)===0&&(vn&134217727)===0||Re===null||Xa(Re,se,Ht,!1)}function Or(e,t,a){var n=ve;ve|=2;var i=Bd(),u=wd();(Re!==e||se!==t)&&(ou=null,el(e,t)),t=!1;var s=qe;e:do try{if(_e!==0&&ce!==null){var d=ce,_=jt;switch(_e){case 8:Dr(),s=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var x=_e;if(_e=0,jt=null,tl(e,d,_,x),a&&Jn){s=0;break e}break;default:x=_e,_e=0,jt=null,tl(e,d,_,x)}}dy(),s=qe;break}catch(D){Hd(e,D)}while(!0);return t&&e.shellSuspendCounter++,sa=on=null,ve=n,z.H=i,z.A=u,ce===null&&(Re=null,se=0,Di()),s}function dy(){for(;ce!==null;)Ld(ce)}function my(e,t){var a=ve;ve|=2;var n=Bd(),i=wd();Re!==e||se!==t?(ou=null,ru=L()+500,el(e,t)):Jn=gl(e,t);e:do try{if(_e!==0&&ce!==null){t=ce;var u=jt;t:switch(_e){case 1:_e=0,jt=null,tl(e,t,u,1);break;case 2:case 9:if(ks(u)){_e=0,jt=null,qd(t);break}t=function(){_e!==2&&_e!==9||Re!==e||(_e=7),aa(e)},u.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:ks(u)?(_e=0,jt=null,qd(t)):(_e=0,jt=null,tl(e,t,u,7));break;case 5:var s=null;switch(ce.tag){case 26:s=ce.memoizedState;case 5:case 27:var d=ce;if(s?xm(s):d.stateNode.complete){_e=0,jt=null;var _=d.sibling;if(_!==null)ce=_;else{var x=d.return;x!==null?(ce=x,du(x)):ce=null}break t}}_e=0,jt=null,tl(e,t,u,5);break;case 6:_e=0,jt=null,tl(e,t,u,6);break;case 8:Dr(),qe=6;break e;default:throw Error(r(462))}}hy();break}catch(D){Hd(e,D)}while(!0);return sa=on=null,z.H=n,z.A=i,ve=a,ce!==null?0:(Re=null,se=0,Di(),qe)}function hy(){for(;ce!==null&&!Zu();)Ld(ce)}function Ld(e){var t=rd(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?du(e):ce=t}function qd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ad(a,t,t.pendingProps,t.type,void 0,se);break;case 11:t=ad(a,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:kc(t);default:sd(a,t),t=ce=Bs(t,_a),t=rd(a,t,_a)}e.memoizedProps=e.pendingProps,t===null?du(e):ce=t}function tl(e,t,a,n){sa=on=null,kc(t),$n=null,Ol=0;var i=t.return;try{if(ay(e,i,t,a,se)){qe=1,Pi(e,Gt(a,e.current)),ce=null;return}}catch(u){if(i!==null)throw ce=i,u;qe=1,Pi(e,Gt(a,e.current)),ce=null;return}t.flags&32768?(de||n===1?e=!0:Jn||(se&536870912)!==0?e=!1:(La=e=!0,(n===2||n===9||n===3||n===6)&&(n=Dt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Gd(t,e)):du(t)}function du(e){var t=e;do{if((t.flags&32768)!==0){Gd(t,La);return}e=t.return;var a=iy(t.alternate,t,_a);if(a!==null){ce=a;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);qe===0&&(qe=5)}function Gd(e,t){do{var a=uy(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);qe=6,ce=null}function Yd(e,t,a,n,i,u,s,d,_){e.cancelPendingCommit=null;do mu();while(Fe!==0);if((ve&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=_c,kh(e,a,u,s,d,_),e===Re&&(ce=Re=null,se=0),Pn=t,Ya=e,Sa=a,Rr=u,Mr=i,Nd=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vy(ue,function(){return Zd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null,i=w.p,w.p=2,s=ve,ve|=4;try{cy(e,t,a)}finally{ve=s,w.p=i,z.T=n}}Fe=1,Xd(),Qd(),$d()}}function Xd(){if(Fe===1){Fe=0;var e=Ya,t=Pn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var n=w.p;w.p=2;var i=ve;ve|=4;try{Ed(t,e);var u=$r,s=zs(e.containerInfo),d=u.focusedElem,_=u.selectionRange;if(s!==d&&d&&d.ownerDocument&&As(d.ownerDocument.documentElement,d)){if(_!==null&&gc(d)){var x=_.start,D=_.end;if(D===void 0&&(D=x),"selectionStart"in d)d.selectionStart=x,d.selectionEnd=Math.min(D,d.value.length);else{var j=d.ownerDocument||document,A=j&&j.defaultView||window;if(A.getSelection){var N=A.getSelection(),Q=d.textContent.length,I=Math.min(_.start,Q),xe=_.end===void 0?I:Math.min(_.end,Q);!N.extend&&I>xe&&(s=xe,xe=I,I=s);var E=Cs(d,I),S=Cs(d,xe);if(E&&S&&(N.rangeCount!==1||N.anchorNode!==E.node||N.anchorOffset!==E.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var T=j.createRange();T.setStart(E.node,E.offset),N.removeAllRanges(),I>xe?(N.addRange(T),N.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),N.addRange(T))}}}}for(j=[],N=d;N=N.parentNode;)N.nodeType===1&&j.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<j.length;d++){var O=j[d];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Cu=!!Qr,$r=Qr=null}finally{ve=i,w.p=n,z.T=a}}e.current=t,Fe=2}}function Qd(){if(Fe===2){Fe=0;var e=Ya,t=Pn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var n=w.p;w.p=2;var i=ve;ve|=4;try{pd(e,t.alternate,t)}finally{ve=i,w.p=n,z.T=a}}Fe=3}}function $d(){if(Fe===4||Fe===3){Fe=0,U();var e=Ya,t=Pn,a=Sa,n=Nd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,Pn=Ya=null,Kd(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ga=null),Iu(a),t=t.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(bt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=z.T,i=w.p,w.p=2,z.T=null;try{for(var u=e.onRecoverableError,s=0;s<n.length;s++){var d=n[s];u(d.value,{componentStack:d.stack})}}finally{z.T=t,w.p=i}}(Sa&3)!==0&&mu(),aa(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Nr?Wl++:(Wl=0,Nr=e):Wl=0,Il(0)}}function Kd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nl(t)))}function mu(){return Xd(),Qd(),$d(),Zd()}function Zd(){if(Fe!==5)return!1;var e=Ya,t=Rr;Rr=0;var a=Iu(Sa),n=z.T,i=w.p;try{w.p=32>a?32:a,z.T=null,a=Mr,Mr=null;var u=Ya,s=Sa;if(Fe=0,Pn=Ya=null,Sa=0,(ve&6)!==0)throw Error(r(331));var d=ve;if(ve|=4,zd(u.current),xd(u,u.current,s,a),ve=d,Il(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(bt,u)}catch{}return!0}finally{w.p=i,z.T=n,Kd(e,t)}}function kd(e,t,a){t=Gt(a,t),t=rr(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(yl(e,2),aa(e))}function Se(e,t,a){if(e.tag===3)kd(e,e,a);else for(;t!==null;){if(t.tag===3){kd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ga===null||!Ga.has(n))){e=Gt(a,e),a=Vf(2),n=Ha(t,a,2),n!==null&&(Wf(a,n,t,e),yl(n,2),aa(n));break}}t=t.return}}function jr(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new sy;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Cr=!0,i.add(a),e=gy.bind(null,e,t,a),t.then(e,e))}function gy(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Re===e&&(se&a)===a&&(qe===4||qe===3&&(se&62914560)===se&&300>L()-cu?(ve&2)===0&&el(e,0):Ar|=a,Fn===se&&(Fn=0)),aa(e)}function Vd(e,t){t===0&&(t=Yo()),e=un(e,t),e!==null&&(yl(e,t),aa(e))}function yy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Vd(e,a)}function py(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Vd(e,a)}function vy(e,t){return dl(e,t)}var hu=null,al=null,Hr=!1,gu=!1,Ur=!1,Qa=0;function aa(e){e!==al&&e.next===null&&(al===null?hu=al=e:al=al.next=e),gu=!0,Hr||(Hr=!0,_y())}function Il(e,t){if(!Ur&&gu){Ur=!0;do for(var a=!1,n=hu;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var u=0;else{var s=n.suspendedLanes,d=n.pingedLanes;u=(1<<31-Je(42|e)+1)-1,u&=i&~(s&~d),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Fd(n,u))}else u=se,u=bi(n,n===Re?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||gl(n,u)||(a=!0,Fd(n,u));n=n.next}while(a);Ur=!1}}function by(){Wd()}function Wd(){gu=Hr=!1;var e=0;Qa!==0&&Ny()&&(e=Qa);for(var t=L(),a=null,n=hu;n!==null;){var i=n.next,u=Id(n,t);u===0?(n.next=null,a===null?hu=i:a.next=i,i===null&&(al=a)):(a=n,(e!==0||(u&3)!==0)&&(gu=!0)),n=i}Fe!==0&&Fe!==5||Il(e),Qa!==0&&(Qa=0)}function Id(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var s=31-Je(u),d=1<<s,_=i[s];_===-1?((d&a)===0||(d&n)!==0)&&(i[s]=Zh(d,t)):_<=t&&(e.expiredLanes|=d),u&=~d}if(t=Re,a=se,a=bi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ml(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&ml(n),Iu(a)){case 2:case 8:a=Be;break;case 32:a=ue;break;case 268435456:a=Ne;break;default:a=ue}return n=Jd.bind(null,e),a=dl(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&ml(n),e.callbackPriority=2,e.callbackNode=null,2}function Jd(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mu()&&e.callbackNode!==a)return null;var n=se;return n=bi(e,e===Re?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Od(e,n,t),Id(e,L()),e.callbackNode!=null&&e.callbackNode===a?Jd.bind(null,e):null)}function Fd(e,t){if(mu())return null;Od(e,t,!0)}function _y(){Oy(function(){(ve&6)!==0?dl(ge,by):Wd()})}function Br(){if(Qa===0){var e=Yn;e===0&&(e=kt,kt<<=1,(kt&261888)===0&&(kt=256)),Qa=e}return Qa}function Pd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function em(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Sy(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var u=Pd((i[_t]||null).action),s=n.submitter;s&&(t=(t=s[_t]||null)?Pd(t.formAction):s.getAttribute("formAction"),t!==null&&(u=t,s=null));var d=new zi("action","action",null,n,i);e.push({event:d,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Qa!==0){var _=s?em(i,s):new FormData(i);ar(a,{pending:!0,data:_,method:i.method,action:u},null,_)}}else typeof u=="function"&&(d.preventDefault(),_=s?em(i,s):new FormData(i),ar(a,{pending:!0,data:_,method:i.method,action:u},u,_))},currentTarget:i}]})}}for(var wr=0;wr<bc.length;wr++){var Lr=bc[wr],Ey=Lr.toLowerCase(),Ty=Lr[0].toUpperCase()+Lr.slice(1);Vt(Ey,"on"+Ty)}Vt(Ns,"onAnimationEnd"),Vt(Ds,"onAnimationIteration"),Vt(Os,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(qg,"onTransitionRun"),Vt(Gg,"onTransitionStart"),Vt(Yg,"onTransitionCancel"),Vt(js,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function tm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var s=n.length-1;0<=s;s--){var d=n[s],_=d.instance,x=d.currentTarget;if(d=d.listener,_!==u&&i.isPropagationStopped())break e;u=d,i.currentTarget=x;try{u(i)}catch(D){Ni(D)}i.currentTarget=null,u=_}else for(s=0;s<n.length;s++){if(d=n[s],_=d.instance,x=d.currentTarget,d=d.listener,_!==u&&i.isPropagationStopped())break e;u=d,i.currentTarget=x;try{u(i)}catch(D){Ni(D)}i.currentTarget=null,u=_}}}}function re(e,t){var a=t[Ju];a===void 0&&(a=t[Ju]=new Set);var n=e+"__bubble";a.has(n)||(am(t,e,2,!1),a.add(n))}function qr(e,t,a){var n=0;t&&(n|=4),am(a,e,n,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[yu]){e[yu]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(xy.has(a)||qr(a,!1,e),qr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,qr("selectionchange",!1,t))}}function am(e,t,a,n){switch(Dm(t)){case 2:var i=Fy;break;case 8:i=Py;break;default:i=to}a=i.bind(null,t,a,e),i=void 0,!uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Yr(e,t,a,n,i){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var d=n.stateNode.containerInfo;if(d===i)break;if(s===4)for(s=n.return;s!==null;){var _=s.tag;if((_===3||_===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;d!==null;){if(s=xn(d),s===null)return;if(_=s.tag,_===5||_===6||_===26||_===27){n=u=s;continue e}d=d.parentNode}}n=n.return}us(function(){var x=u,D=lc(a),j=[];e:{var A=Hs.get(e);if(A!==void 0){var N=zi,Q=e;switch(e){case"keypress":if(Ci(a)===0)break e;case"keydown":case"keyup":N=pg;break;case"focusin":Q="focus",N=sc;break;case"focusout":Q="blur",N=sc;break;case"beforeblur":case"afterblur":N=sc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=_g;break;case Ns:case Ds:case Os:N=rg;break;case js:N=Eg;break;case"scroll":case"scrollend":N=ng;break;case"wheel":N=xg;break;case"copy":case"cut":case"paste":N=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=fs;break;case"toggle":case"beforetoggle":N=Ag}var I=(t&4)!==0,xe=!I&&(e==="scroll"||e==="scrollend"),E=I?A!==null?A+"Capture":null:A;I=[];for(var S=x,T;S!==null;){var O=S;if(T=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||T===null||E===null||(O=bl(S,E),O!=null&&I.push(Fl(S,O,T))),xe)break;S=S.return}0<I.length&&(A=new N(A,Q,null,a,D),j.push({event:A,listeners:I}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",A&&a!==nc&&(Q=a.relatedTarget||a.fromElement)&&(xn(Q)||Q[Tn]))break e;if((N||A)&&(A=D.window===D?D:(A=D.ownerDocument)?A.defaultView||A.parentWindow:window,N?(Q=a.relatedTarget||a.toElement,N=x,Q=Q?xn(Q):null,Q!==null&&(xe=y(Q),I=Q.tag,Q!==xe||I!==5&&I!==27&&I!==6)&&(Q=null)):(N=null,Q=x),N!==Q)){if(I=os,O="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=fs,O="onPointerLeave",E="onPointerEnter",S="pointer"),xe=N==null?A:vl(N),T=Q==null?A:vl(Q),A=new I(O,S+"leave",N,a,D),A.target=xe,A.relatedTarget=T,O=null,xn(D)===x&&(I=new I(E,S+"enter",Q,a,D),I.target=T,I.relatedTarget=xe,O=I),xe=O,N&&Q)t:{for(I=Cy,E=N,S=Q,T=0,O=E;O;O=I(O))T++;O=0;for(var V=S;V;V=I(V))O++;for(;0<T-O;)E=I(E),T--;for(;0<O-T;)S=I(S),O--;for(;T--;){if(E===S||S!==null&&E===S.alternate){I=E;break t}E=I(E),S=I(S)}I=null}else I=null;N!==null&&nm(j,A,N,I,!1),Q!==null&&xe!==null&&nm(j,xe,Q,I,!0)}}e:{if(A=x?vl(x):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var ye=bs;else if(ps(A))if(_s)ye=Bg;else{ye=Hg;var Z=jg}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?x&&ac(x.elementType)&&(ye=bs):ye=Ug;if(ye&&(ye=ye(e,x))){vs(j,ye,a,D);break e}Z&&Z(e,A,x),e==="focusout"&&x&&A.type==="number"&&x.memoizedProps.value!=null&&tc(A,"number",A.value)}switch(Z=x?vl(x):window,e){case"focusin":(ps(Z)||Z.contentEditable==="true")&&(jn=Z,yc=x,zl=null);break;case"focusout":zl=yc=jn=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Rs(j,a,D);break;case"selectionchange":if(Lg)break;case"keydown":case"keyup":Rs(j,a,D)}var le;if(dc)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else On?gs(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(ds&&a.locale!=="ko"&&(On||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&On&&(le=cs()):(za=D,cc="value"in za?za.value:za.textContent,On=!0)),Z=pu(x,fe),0<Z.length&&(fe=new ss(fe,e,null,a,D),j.push({event:fe,listeners:Z}),le?fe.data=le:(le=ys(a),le!==null&&(fe.data=le)))),(le=Rg?Mg(e,a):Ng(e,a))&&(fe=pu(x,"onBeforeInput"),0<fe.length&&(Z=new ss("onBeforeInput","beforeinput",null,a,D),j.push({event:Z,listeners:fe}),Z.data=le)),Sy(j,e,x,a,D)}tm(j,t)})}function Fl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function pu(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,u=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||u===null||(i=bl(e,a),i!=null&&n.unshift(Fl(e,i,u)),i=bl(e,t),i!=null&&n.push(Fl(e,i,u))),e.tag===3)return n;e=e.return}return[]}function Cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nm(e,t,a,n,i){for(var u=t._reactName,s=[];a!==null&&a!==n;){var d=a,_=d.alternate,x=d.stateNode;if(d=d.tag,_!==null&&_===n)break;d!==5&&d!==26&&d!==27||x===null||(_=x,i?(x=bl(a,u),x!=null&&s.unshift(Fl(a,x,_))):i||(x=bl(a,u),x!=null&&s.push(Fl(a,x,_)))),a=a.return}s.length!==0&&e.push({event:t,listeners:s})}var Ay=/\r\n?/g,zy=/\u0000|\uFFFD/g;function lm(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(zy,"")}function im(e,t){return t=lm(t),lm(e)===t}function Te(e,t,a,n,i,u){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Mn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Mn(e,""+n);break;case"className":Si(e,"class",n);break;case"tabIndex":Si(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(e,a,n);break;case"style":ls(e,n,u);break;case"data":if(t!=="object"){Si(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ti(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Te(e,t,"name",i.name,i,null),Te(e,t,"formEncType",i.formEncType,i,null),Te(e,t,"formMethod",i.formMethod,i,null),Te(e,t,"formTarget",i.formTarget,i,null)):(Te(e,t,"encType",i.encType,i,null),Te(e,t,"method",i.method,i,null),Te(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ti(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ua);break;case"onScroll":n!=null&&re("scroll",e);break;case"onScrollEnd":n!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ti(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":re("beforetoggle",e),re("toggle",e),_i(e,"popover",n);break;case"xlinkActuate":ia(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ia(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ia(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ia(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ia(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ia(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ia(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ia(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ia(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":_i(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tg.get(a)||a,_i(e,a,n))}}function Xr(e,t,a,n,i,u){switch(a){case"style":ls(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Mn(e,n):(typeof n=="number"||typeof n=="bigint")&&Mn(e,""+n);break;case"onScroll":n!=null&&re("scroll",e);break;case"onScrollEnd":n!=null&&re("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),u=e[_t]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,i),typeof n=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):_i(e,a,n)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var n=!1,i=!1,u;for(u in a)if(a.hasOwnProperty(u)){var s=a[u];if(s!=null)switch(u){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Te(e,t,u,s,a,null)}}i&&Te(e,t,"srcSet",a.srcSet,a,null),n&&Te(e,t,"src",a.src,a,null);return;case"input":re("invalid",e);var d=u=s=i=null,_=null,x=null;for(n in a)if(a.hasOwnProperty(n)){var D=a[n];if(D!=null)switch(n){case"name":i=D;break;case"type":s=D;break;case"checked":_=D;break;case"defaultChecked":x=D;break;case"value":u=D;break;case"defaultValue":d=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Te(e,t,n,D,a,null)}}es(e,u,d,_,x,s,i,!1);return;case"select":re("invalid",e),n=s=u=null;for(i in a)if(a.hasOwnProperty(i)&&(d=a[i],d!=null))switch(i){case"value":u=d;break;case"defaultValue":s=d;break;case"multiple":n=d;default:Te(e,t,i,d,a,null)}t=u,a=s,e.multiple=!!n,t!=null?Rn(e,!!n,t,!1):a!=null&&Rn(e,!!n,a,!0);return;case"textarea":re("invalid",e),u=i=n=null;for(s in a)if(a.hasOwnProperty(s)&&(d=a[s],d!=null))switch(s){case"value":n=d;break;case"defaultValue":i=d;break;case"children":u=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:Te(e,t,s,d,a,null)}as(e,n,i,u);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Te(e,t,_,n,a,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(n=0;n<Jl.length;n++)re(Jl[n],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(n=a[x],n!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Te(e,t,x,n,a,null)}return;default:if(ac(t)){for(D in a)a.hasOwnProperty(D)&&(n=a[D],n!==void 0&&Xr(e,t,D,n,a,void 0));return}}for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!=null&&Te(e,t,d,n,a,null))}function Ry(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,u=null,s=null,d=null,_=null,x=null,D=null;for(N in a){var j=a[N];if(a.hasOwnProperty(N)&&j!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":_=j;default:n.hasOwnProperty(N)||Te(e,t,N,null,n,j)}}for(var A in n){var N=n[A];if(j=a[A],n.hasOwnProperty(A)&&(N!=null||j!=null))switch(A){case"type":u=N;break;case"name":i=N;break;case"checked":x=N;break;case"defaultChecked":D=N;break;case"value":s=N;break;case"defaultValue":d=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:N!==j&&Te(e,t,A,N,n,j)}}ec(e,s,d,_,x,D,u,i);return;case"select":N=s=d=A=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":N=_;default:n.hasOwnProperty(u)||Te(e,t,u,null,n,_)}for(i in n)if(u=n[i],_=a[i],n.hasOwnProperty(i)&&(u!=null||_!=null))switch(i){case"value":A=u;break;case"defaultValue":d=u;break;case"multiple":s=u;default:u!==_&&Te(e,t,i,u,n,_)}t=d,a=s,n=N,A!=null?Rn(e,!!a,A,!1):!!n!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":N=A=null;for(d in a)if(i=a[d],a.hasOwnProperty(d)&&i!=null&&!n.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Te(e,t,d,null,n,i)}for(s in n)if(i=n[s],u=a[s],n.hasOwnProperty(s)&&(i!=null||u!=null))switch(s){case"value":A=i;break;case"defaultValue":N=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==u&&Te(e,t,s,i,n,u)}ts(e,A,N);return;case"option":for(var Q in a)if(A=a[Q],a.hasOwnProperty(Q)&&A!=null&&!n.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Te(e,t,Q,null,n,A)}for(_ in n)if(A=n[_],N=a[_],n.hasOwnProperty(_)&&A!==N&&(A!=null||N!=null))switch(_){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Te(e,t,_,A,n,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in a)A=a[I],a.hasOwnProperty(I)&&A!=null&&!n.hasOwnProperty(I)&&Te(e,t,I,null,n,A);for(x in n)if(A=n[x],N=a[x],n.hasOwnProperty(x)&&A!==N&&(A!=null||N!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,t));break;default:Te(e,t,x,A,n,N)}return;default:if(ac(t)){for(var xe in a)A=a[xe],a.hasOwnProperty(xe)&&A!==void 0&&!n.hasOwnProperty(xe)&&Xr(e,t,xe,void 0,n,A);for(D in n)A=n[D],N=a[D],!n.hasOwnProperty(D)||A===N||A===void 0&&N===void 0||Xr(e,t,D,A,n,N);return}}for(var E in a)A=a[E],a.hasOwnProperty(E)&&A!=null&&!n.hasOwnProperty(E)&&Te(e,t,E,null,n,A);for(j in n)A=n[j],N=a[j],!n.hasOwnProperty(j)||A===N||A==null&&N==null||Te(e,t,j,A,n,N)}function um(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],u=i.transferSize,s=i.initiatorType,d=i.duration;if(u&&d&&um(s)){for(s=0,d=i.responseEnd,n+=1;n<a.length;n++){var _=a[n],x=_.startTime;if(x>d)break;var D=_.transferSize,j=_.initiatorType;D&&um(j)&&(_=_.responseEnd,s+=D*(_<d?1:(d-x)/(_-x)))}if(--n,t+=8*(u+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qr=null,$r=null;function vu(e){return e.nodeType===9?e:e.ownerDocument}function cm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zr=null;function Ny(){var e=window.event;return e&&e.type==="popstate"?e===Zr?!1:(Zr=e,!0):(Zr=null,!1)}var om=typeof setTimeout=="function"?setTimeout:void 0,Dy=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,Oy=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(jy)}:om;function jy(e){setTimeout(function(){throw e})}function $a(e){return e==="head"}function fm(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),ul(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Pl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Pl(a);for(var u=a.firstChild;u;){var s=u.nextSibling,d=u.nodeName;u[pl]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=s}}else a==="body"&&Pl(e.ownerDocument.body);a=i}while(a);ul(t)}function dm(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function kr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kr(a),Fu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hy(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Uy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function mm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Vr(e){return e.data==="$?"||e.data==="$~"}function Wr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function By(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ir=null;function hm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ym(e,t,a){switch(t=vu(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Pl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fu(e)}var Zt=new Map,pm=new Set;function bu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=w.d;w.d={f:wy,r:Ly,D:qy,C:Gy,L:Yy,m:Xy,X:$y,S:Qy,M:Ky};function wy(){var e=Ea.f(),t=su();return e||t}function Ly(e){var t=Cn(e);t!==null&&t.tag===5&&t.type==="form"?Hf(t):Ea.r(e)}var nl=typeof document>"u"?null:document;function vm(e,t,a){var n=nl;if(n&&typeof t=="string"&&t){var i=Lt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),pm.has(i)||(pm.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),rt(t,"link",e),tt(t),n.head.appendChild(t)))}}function qy(e){Ea.D(e),vm("dns-prefetch",e,null)}function Gy(e,t){Ea.C(e,t),vm("preconnect",e,t)}function Yy(e,t,a){Ea.L(e,t,a);var n=nl;if(n&&e&&t){var i='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Lt(a.imageSizes)+'"]')):i+='[href="'+Lt(e)+'"]';var u=i;switch(t){case"style":u=ll(e);break;case"script":u=il(e)}Zt.has(u)||(e=C({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(u,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ei(u))||t==="script"&&n.querySelector(ti(u))||(t=n.createElement("link"),rt(t,"link",e),tt(t),n.head.appendChild(t)))}}function Xy(e,t){Ea.m(e,t);var a=nl;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Lt(n)+'"][href="'+Lt(e)+'"]',u=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=il(e)}if(!Zt.has(u)&&(e=C({rel:"modulepreload",href:e},t),Zt.set(u,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ti(u)))return}n=a.createElement("link"),rt(n,"link",e),tt(n),a.head.appendChild(n)}}}function Qy(e,t,a){Ea.S(e,t,a);var n=nl;if(n&&e){var i=An(n).hoistableStyles,u=ll(e);t=t||"default";var s=i.get(u);if(!s){var d={loading:0,preload:null};if(s=n.querySelector(ei(u)))d.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(u))&&Jr(e,a);var _=s=n.createElement("link");tt(_),rt(_,"link",e),_._p=new Promise(function(x,D){_.onload=x,_.onerror=D}),_.addEventListener("load",function(){d.loading|=1}),_.addEventListener("error",function(){d.loading|=2}),d.loading|=4,_u(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:d},i.set(u,s)}}}function $y(e,t){Ea.X(e,t);var a=nl;if(a&&e){var n=An(a).hoistableScripts,i=il(e),u=n.get(i);u||(u=a.querySelector(ti(i)),u||(e=C({src:e,async:!0},t),(t=Zt.get(i))&&Fr(e,t),u=a.createElement("script"),tt(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(i,u))}}function Ky(e,t){Ea.M(e,t);var a=nl;if(a&&e){var n=An(a).hoistableScripts,i=il(e),u=n.get(i);u||(u=a.querySelector(ti(i)),u||(e=C({src:e,async:!0,type:"module"},t),(t=Zt.get(i))&&Fr(e,t),u=a.createElement("script"),tt(u),rt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(i,u))}}function bm(e,t,a,n){var i=(i=ee.current)?bu(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ll(a.href),a=An(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ll(a.href);var u=An(i).hoistableStyles,s=u.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,s),(u=i.querySelector(ei(e)))&&!u._p&&(s.instance=u,s.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),u||Zy(i,e,a,s.state))),t&&n===null)throw Error(r(528,""));return s}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=il(a),a=An(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ll(e){return'href="'+Lt(e)+'"'}function ei(e){return'link[rel="stylesheet"]['+e+"]"}function _m(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Zy(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),rt(t,"link",a),tt(t),e.head.appendChild(t))}function il(e){return'[src="'+Lt(e)+'"]'}function ti(e){return"script[async]"+e}function Sm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(n)return t.instance=n,tt(n),n;var i=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),tt(n),rt(n,"style",i),_u(n,a.precedence,e),t.instance=n;case"stylesheet":i=ll(a.href);var u=e.querySelector(ei(i));if(u)return t.state.loading|=4,t.instance=u,tt(u),u;n=_m(a),(i=Zt.get(i))&&Jr(n,i),u=(e.ownerDocument||e).createElement("link"),tt(u);var s=u;return s._p=new Promise(function(d,_){s.onload=d,s.onerror=_}),rt(u,"link",n),t.state.loading|=4,_u(u,a.precedence,e),t.instance=u;case"script":return u=il(a.src),(i=e.querySelector(ti(u)))?(t.instance=i,tt(i),i):(n=a,(i=Zt.get(u))&&(n=C({},a),Fr(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),tt(i),rt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,_u(n,a.precedence,e));return t.instance}function _u(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,u=i,s=0;s<n.length;s++){var d=n[s];if(d.dataset.precedence===t)u=d;else if(u!==i)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Jr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Su=null;function Em(e,t,a){if(Su===null){var n=new Map,i=Su=new Map;i.set(a,n)}else i=Su,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var u=a[i];if(!(u[pl]||u[lt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var s=u.getAttribute(t)||"";s=e+s;var d=n.get(s);d?d.push(u):n.set(s,[u])}}return n}function Tm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ky(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vy(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=ll(n.href),u=t.querySelector(ei(i));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Eu.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,tt(u);return}u=t.ownerDocument||t,n=_m(n),(i=Zt.get(i))&&Jr(n,i),u=u.createElement("link"),tt(u);var s=u;s._p=new Promise(function(d,_){s.onload=d,s.onerror=_}),rt(u,"link",n),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Eu.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Pr=0;function Wy(e,t){return e.stylesheets&&e.count===0&&xu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Pr===0&&(Pr=62500*My());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Pr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tu=null;function xu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tu=new Map,t.forEach(Iy,e),Tu=null,Eu.call(e))}function Iy(e,t){if(!(t.state.loading&4)){var a=Tu.get(e);if(a)var n=a.get(null);else{a=new Map,Tu.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<i.length;u++){var s=i[u];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(a.set(s.dataset.precedence,s),n=s)}n&&a.set(null,n)}i=t.instance,s=i.getAttribute("data-precedence"),u=a.get(s)||n,u===n&&a.set(null,i),a.set(s,i),this.count++,n=Eu.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),u?u.parentNode.insertBefore(i,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ai={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Jy(e,t,a,n,i,u,s,d,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.hiddenUpdates=Vu(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=u,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Cm(e,t,a,n,i,u,s,d,_,x,D,j){return e=new Jy(e,t,a,s,_,x,D,j,d),t=1,u===!0&&(t|=24),u=Nt(3,null,null,t),e.current=u,u.stateNode=e,t=Oc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:a,cache:t},Bc(u),e}function Am(e){return e?(e=Bn,e):Bn}function zm(e,t,a,n,i,u){i=Am(i),n.context===null?n.context=i:n.pendingContext=i,n=ja(t),n.payload={element:a},u=u===void 0?null:u,u!==null&&(n.callback=u),a=Ha(e,n,t),a!==null&&(At(a,e,t),Hl(a,e,t))}function Rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function eo(e,t){Rm(e,t),(e=e.alternate)&&Rm(e,t)}function Mm(e){if(e.tag===13||e.tag===31){var t=un(e,67108864);t!==null&&At(t,e,67108864),eo(e,67108864)}}function Nm(e){if(e.tag===13||e.tag===31){var t=Ut();t=Wu(t);var a=un(e,t);a!==null&&At(a,e,t),eo(e,t)}}var Cu=!0;function Fy(e,t,a,n){var i=z.T;z.T=null;var u=w.p;try{w.p=2,to(e,t,a,n)}finally{w.p=u,z.T=i}}function Py(e,t,a,n){var i=z.T;z.T=null;var u=w.p;try{w.p=8,to(e,t,a,n)}finally{w.p=u,z.T=i}}function to(e,t,a,n){if(Cu){var i=ao(n);if(i===null)Yr(e,t,n,Au,a),Om(e,n);else if(tp(i,e,t,a,n))n.stopPropagation();else if(Om(e,n),t&4&&-1<ep.indexOf(e)){for(;i!==null;){var u=Cn(i);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var s=en(u.pendingLanes);if(s!==0){var d=u;for(d.pendingLanes|=2,d.entangledLanes|=2;s;){var _=1<<31-Je(s);d.entanglements[1]|=_,s&=~_}aa(u),(ve&6)===0&&(ru=L()+500,Il(0))}}break;case 31:case 13:d=un(u,2),d!==null&&At(d,u,2),su(),eo(u,2)}if(u=ao(n),u===null&&Yr(e,t,n,Au,a),u===i)break;i=u}i!==null&&n.stopPropagation()}else Yr(e,t,n,null,a)}}function ao(e){return e=lc(e),no(e)}var Au=null;function no(e){if(Au=null,e=xn(e),e!==null){var t=y(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=v(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Au=e,null}function Dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F()){case ge:return 2;case Be:return 8;case ue:case Qe:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var lo=!1,Ka=null,Za=null,ka=null,ni=new Map,li=new Map,Va=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function ii(e,t,a,n,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:u,targetContainers:[i]},t!==null&&(t=Cn(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tp(e,t,a,n,i){switch(t){case"focusin":return Ka=ii(Ka,e,t,a,n,i),!0;case"dragenter":return Za=ii(Za,e,t,a,n,i),!0;case"mouseover":return ka=ii(ka,e,t,a,n,i),!0;case"pointerover":var u=i.pointerId;return ni.set(u,ii(ni.get(u)||null,e,t,a,n,i)),!0;case"gotpointercapture":return u=i.pointerId,li.set(u,ii(li.get(u)||null,e,t,a,n,i)),!0}return!1}function jm(e){var t=xn(e.target);if(t!==null){var a=y(t);if(a!==null){if(t=a.tag,t===13){if(t=v(a),t!==null){e.blockedOn=t,Zo(e.priority,function(){Nm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Zo(e.priority,function(){Nm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ao(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);nc=n,a.target.dispatchEvent(n),nc=null}else return t=Cn(a),t!==null&&Mm(t),e.blockedOn=a,!1;t.shift()}return!0}function Hm(e,t,a){zu(e)&&a.delete(t)}function ap(){lo=!1,Ka!==null&&zu(Ka)&&(Ka=null),Za!==null&&zu(Za)&&(Za=null),ka!==null&&zu(ka)&&(ka=null),ni.forEach(Hm),li.forEach(Hm)}function Ru(e,t){e.blockedOn===t&&(e.blockedOn=null,lo||(lo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ap)))}var Mu=null;function Um(e){Mu!==e&&(Mu=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Mu===e&&(Mu=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(no(n||a)===null)continue;break}var u=Cn(a);u!==null&&(e.splice(t,3),t-=3,ar(u,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function ul(e){function t(_){return Ru(_,e)}Ka!==null&&Ru(Ka,e),Za!==null&&Ru(Za,e),ka!==null&&Ru(ka,e),ni.forEach(t),li.forEach(t);for(var a=0;a<Va.length;a++){var n=Va[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Va.length&&(a=Va[0],a.blockedOn===null);)jm(a),a.blockedOn===null&&Va.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],u=a[n+1],s=i[_t]||null;if(typeof u=="function")s||Um(a);else if(s){var d=null;if(u&&u.hasAttribute("formAction")){if(i=u,s=u[_t]||null)d=s.formAction;else if(no(i)!==null)continue}else d=s.action;typeof d=="function"?a[n+1]=d:(a.splice(n,3),n-=3),Um(a)}}}function Bm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function io(e){this._internalRoot=e}Nu.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Ut();zm(a,n,e,t,null,null)},Nu.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zm(e.current,2,null,e,null,null),su(),t[Tn]=null}};function Nu(e){this._internalRoot=e}Nu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ko();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Va.length&&t!==0&&t<Va[a].priority;a++);Va.splice(a,0,e),a===0&&jm(e)}};var wm=c.version;if(wm!=="19.2.4")throw Error(r(527,wm,"19.2.4"));w.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?M(e):null,e=e===null?null:e.stateNode,e};var np={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{bt=Du.inject(np),he=Du}catch{}}return ci.createRoot=function(e,t){if(!m(e))throw Error(r(299));var a=!1,n="",i=$f,u=Kf,s=Zf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cm(e,1,!1,null,null,a,n,null,i,u,s,Bm),e[Tn]=t.current,Gr(e),new io(t)},ci.hydrateRoot=function(e,t,a){if(!m(e))throw Error(r(299));var n=!1,i="",u=$f,s=Kf,d=Zf,_=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(s=a.onCaughtError),a.onRecoverableError!==void 0&&(d=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=Cm(e,1,!0,t,a??null,n,i,_,u,s,d,Bm),t.context=Am(null),a=t.current,n=Ut(),n=Wu(n),i=ja(n),i.callback=null,Ha(a,i,n),a=n,t.current.lanes=a,yl(t,a),aa(t),e[Tn]=t.current,Gr(e),new Nu(t)},ci.version="19.2.4",ci}var km;function mp(){if(km)return ro.exports;km=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),ro.exports=dp(),ro.exports}var hp=mp();const gp=[{id:"end_N",type:"corridor",openings:[1,0,0,0],tags:["dead_end"]},{id:"end_E",type:"corridor",openings:[0,1,0,0],tags:["dead_end"]},{id:"end_S",type:"corridor",openings:[0,0,1,0],tags:["dead_end"]},{id:"end_W",type:"corridor",openings:[0,0,0,1],tags:["dead_end"]},{id:"straight_NS",type:"corridor",openings:[1,0,1,0],tags:["straight"]},{id:"straight_EW",type:"corridor",openings:[0,1,0,1],tags:["straight"]},{id:"corner_NE",type:"corridor",openings:[1,1,0,0],tags:["corner"]},{id:"corner_ES",type:"corridor",openings:[0,1,1,0],tags:["corner"]},{id:"corner_SW",type:"corridor",openings:[0,0,1,1],tags:["corner"]},{id:"corner_WN",type:"corridor",openings:[1,0,0,1],tags:["corner"]},{id:"tee_NSE",type:"corridor",openings:[1,1,1,0],tags:["tee"]},{id:"tee_NSW",type:"corridor",openings:[1,0,1,1],tags:["tee"]},{id:"tee_EWN",type:"corridor",openings:[1,1,0,1],tags:["tee"]},{id:"tee_EWS",type:"corridor",openings:[0,1,1,1],tags:["tee"]},{id:"cross_NESW",type:"corridor",openings:[1,1,1,1],tags:["cross"]},{id:"wild_cross",type:"corridor",openings:[1,1,1,1],tags:["cross","wildcard"],specialRule:"optional_side_seal"}],yp=[{id:"loop_link",type:"corridor",openings:[1,1,1,1],tags:["special","stabilizer"],availability:"post_mvp",specialRule:"loop_closure_link"},{id:"bridge_NS",type:"corridor",openings:[1,0,1,0],tags:["straight","bridge"],availability:"post_mvp"},{id:"bridge_EW",type:"corridor",openings:[0,1,0,1],tags:["straight","bridge"],availability:"post_mvp"},{id:"choke_NS",type:"corridor",openings:[1,0,1,0],tags:["straight","choke"],availability:"post_mvp"},{id:"choke_EW",type:"corridor",openings:[0,1,0,1],tags:["straight","choke"],availability:"post_mvp"}],pp=[{id:"room1_N",type:"room",openings:[1,0,0,0],tags:["room","door_1"]},{id:"room1_E",type:"room",openings:[0,1,0,0],tags:["room","door_1"]},{id:"room1_S",type:"room",openings:[0,0,1,0],tags:["room","door_1"]},{id:"room1_W",type:"room",openings:[0,0,0,1],tags:["room","door_1"]},{id:"room2_NS",type:"room",openings:[1,0,1,0],tags:["room","door_2"]},{id:"room2_EW",type:"room",openings:[0,1,0,1],tags:["room","door_2"]},{id:"room2_NE",type:"room",openings:[1,1,0,0],tags:["room","door_2"]},{id:"room2_ES",type:"room",openings:[0,1,1,0],tags:["room","door_2"]},{id:"room2_SW",type:"room",openings:[0,0,1,1],tags:["room","door_2"]},{id:"room2_WN",type:"room",openings:[1,0,0,1],tags:["room","door_2"]},{id:"room3_NSE",type:"room",openings:[1,1,1,0],tags:["room","door_3"]},{id:"room3_NSW",type:"room",openings:[1,0,1,1],tags:["room","door_3"]},{id:"room3_EWN",type:"room",openings:[1,1,0,1],tags:["room","door_3"]},{id:"room3_EWS",type:"room",openings:[0,1,1,1],tags:["room","door_3"]},{id:"room4_NESW",type:"room",openings:[1,1,1,1],tags:["room","door_4"]}],Ja=[...gp,...pp],Co=[...Ja,...yp];function hh(l){return Co.find(c=>c.id===l)}const vp=[{id:"staggered",harmful:!0,durationTurns:1,stackRule:"refresh_duration",resistFamily:"physical_status",effectPayload:"target loses 1 AP on next turn",ui:{iconId:"status.staggered",shortLabel:"Staggered",description:"Reduced action tempo next turn."}},{id:"rooted",harmful:!0,durationTurns:1,stackRule:"refresh_duration",resistFamily:"arcane_status",effectPayload:"target cannot move",ui:{iconId:"status.rooted",shortLabel:"Rooted",description:"Cannot move until condition expires."}},{id:"exposed",harmful:!0,durationTurns:2,stackRule:"stack_intensity",resistFamily:"none",effectPayload:"target takes increased incoming damage",ui:{iconId:"status.exposed",shortLabel:"Exposed",description:"Incoming damage amplification."}},{id:"guarded",harmful:!1,durationTurns:1,stackRule:"refresh_duration",resistFamily:"none",effectPayload:"increased physical mitigation",ui:{iconId:"status.guarded",shortLabel:"Guarded",description:"Improved physical defense this turn."}},{id:"warded",harmful:!1,durationTurns:1,stackRule:"refresh_duration",resistFamily:"none",effectPayload:"increased arcane/divine mitigation",ui:{iconId:"status.warded",shortLabel:"Warded",description:"Improved magical defense this turn."}},{id:"inspired",harmful:!1,durationTurns:2,stackRule:"unique_no_stack",resistFamily:"none",effectPayload:"small accuracy and damage bonus",ui:{iconId:"status.inspired",shortLabel:"Inspired",description:"Tempo and accuracy boost."}}],bp=[{id:"universal.move",classId:"universal",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"move_self",tiles:1,mode:"step"}],ui:{iconId:"act.move",shortLabel:"Move",description:"Reposition by one tile.",logOnUse:"{actor} moves."}},{id:"universal.basic_melee",classId:"universal",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:6,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"DEX",primaryScaleRatio:1,secondaryScaleRatio:.5}],tags:["basic","melee"],ui:{iconId:"act.basic_melee",shortLabel:"Basic Melee",description:"Universal close-range attack.",logOnUse:"{actor} strikes {target}."}},{id:"universal.guard_brace",classId:"universal",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:1,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"apply_condition",conditionId:"guarded",turns:1},{op:"apply_condition",conditionId:"warded",turns:1}],ui:{iconId:"act.guard_brace",shortLabel:"Guard/Brace",description:"Gain short defensive buffs.",logOnUse:"{actor} braces for impact."}},{id:"universal.retreat",classId:"universal",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"move_self",tiles:1,mode:"retreat"}],ui:{iconId:"act.retreat",shortLabel:"Retreat",description:"Attempt to disengage from encounter.",logOnUse:"{actor} attempts retreat."}},{id:"universal.wait",classId:"universal",kind:"active",family:"support",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"grant_focus",amount:1,target:"self"}],ui:{iconId:"act.wait",shortLabel:"Wait",description:"Hold and recover a small amount of focus.",logOnUse:"{actor} waits."}},{id:"fighter.martial_mastery",classId:"fighter",kind:"passive",family:"melee",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[],tags:["passive","martial_mastery"],ui:{iconId:"passive.fighter.mastery",shortLabel:"Martial Mastery",description:"Melee attacks gain major accuracy and damage bonuses for fighter.",logOnUse:"{actor} channels Martial Mastery."}},{id:"fighter.crushing_strike",classId:"fighter",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:1,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:10,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"DEX"},{op:"apply_condition",conditionId:"staggered",turns:1,chancePercent:35}],ui:{iconId:"act.fighter.crush",shortLabel:"Crushing Strike",description:"Heavy melee hit with stagger chance.",logOnUse:"{actor} crushes {target}."}},{id:"fighter.guard_break",classId:"fighter",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:2,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:8,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"DEX"},{op:"apply_condition",conditionId:"exposed",turns:2}],ui:{iconId:"act.fighter.break",shortLabel:"Guard Break",description:"Applies exposed to improve follow-up pressure.",logOnUse:"{actor} shatters {target}'s guard."}},{id:"fighter.frontline_step",classId:"fighter",kind:"active",family:"support",apCost:1,focusCost:1,cooldownTurns:1,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"move_self",tiles:2,mode:"step"},{op:"apply_condition",conditionId:"guarded",turns:1}],ui:{iconId:"act.fighter.step",shortLabel:"Frontline Step",description:"Advance with a short defensive guard.",logOnUse:"{actor} steps into the frontline."}},{id:"monk.martial_mastery",classId:"monk",kind:"passive",family:"melee",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[],tags:["passive","martial_mastery"],ui:{iconId:"passive.monk.mastery",shortLabel:"Martial Mastery",description:"Melee attacks gain major accuracy and damage bonuses for monk.",logOnUse:"{actor} enters disciplined stance."}},{id:"monk.flurry_strike",classId:"monk",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:1,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:5,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"WIS"},{op:"damage",amount:5,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"WIS"}],ui:{iconId:"act.monk.flurry",shortLabel:"Flurry Strike",description:"Two rapid hits in melee range.",logOnUse:"{actor} unleashes a flurry."}},{id:"monk.centered_breath",classId:"monk",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:2,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"heal",amount:8},{op:"grant_focus",amount:1,target:"self"}],ui:{iconId:"act.monk.breath",shortLabel:"Centered Breath",description:"Recover health and focus.",logOnUse:"{actor} regains composure."}},{id:"monk.force_palm",classId:"monk",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:2,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:7,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"WIS"},{op:"push_or_pull",distance:1,direction:"push"},{op:"apply_condition",conditionId:"staggered",turns:1,chancePercent:30}],ui:{iconId:"act.monk.palm",shortLabel:"Force Palm",description:"Pushes and disrupts the target.",logOnUse:"{actor} drives {target} backward."}},{id:"wizard.arcane_efficiency",classId:"wizard",kind:"passive",family:"arcane",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[],tags:["passive","focus_efficiency"],ui:{iconId:"passive.wizard.efficiency",shortLabel:"Arcane Efficiency",description:"Arcane skills are tuned for better focus economy.",logOnUse:"{actor} channels efficient arcana."}},{id:"wizard.arc_bolt",classId:"wizard",kind:"active",family:"arcane",apCost:1,focusCost:2,cooldownTurns:0,range:4,targeting:{team:"enemy",defense:"ward",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:9,damageFamily:"arcane",primaryScaleStat:"INT",secondaryScaleStat:"WIS"}],ui:{iconId:"act.wizard.bolt",shortLabel:"Arc Bolt",description:"Reliable ranged arcane damage.",logOnUse:"{actor} fires an arc bolt at {target}."}},{id:"wizard.static_lattice",classId:"wizard",kind:"active",family:"arcane",apCost:1,focusCost:3,cooldownTurns:2,range:3,targeting:{team:"enemy",defense:"ward",pattern:"burst",radius:1,requiresLineOfSight:!0},effects:[{op:"apply_condition",conditionId:"rooted",turns:1},{op:"damage",amount:6,damageFamily:"arcane",primaryScaleStat:"INT",secondaryScaleStat:"WIS"}],ui:{iconId:"act.wizard.lattice",shortLabel:"Static Lattice",description:"Root and damage in a small area.",logOnUse:"{actor} binds nearby enemies in static lattice."}},{id:"wizard.mind_lance",classId:"wizard",kind:"active",family:"arcane",apCost:1,focusCost:3,cooldownTurns:1,range:5,targeting:{team:"enemy",defense:"resolve",pattern:"line",length:5,requiresLineOfSight:!0},effects:[{op:"damage",amount:8,damageFamily:"mental",primaryScaleStat:"INT",secondaryScaleStat:"CHA"},{op:"apply_condition",conditionId:"exposed",turns:1,chancePercent:40}],ui:{iconId:"act.wizard.lance",shortLabel:"Mind Lance",description:"Piercing mental strike with expose chance.",logOnUse:"{actor} pierces defenses with a mind lance."}},{id:"enemy.bruiser.heavy_swing",classId:"enemy",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:8,damageFamily:"physical"}],ui:{iconId:"enemy.bruiser.swing",shortLabel:"Heavy Swing",description:"Basic bruiser attack.",logOnUse:"{actor} swings hard at {target}."}},{id:"enemy.skirmisher.knife_dance",classId:"enemy",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:6,damageFamily:"physical"},{op:"move_self",tiles:1,mode:"step"}],ui:{iconId:"enemy.skirmisher.knife",shortLabel:"Knife Dance",description:"Light hit with reposition.",logOnUse:"{actor} slashes and repositions."}},{id:"enemy.controller.snare_hex",classId:"enemy",kind:"active",family:"arcane",apCost:1,focusCost:0,cooldownTurns:1,range:4,targeting:{team:"enemy",defense:"ward",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:5,damageFamily:"arcane"},{op:"apply_condition",conditionId:"rooted",turns:1,chancePercent:45}],ui:{iconId:"enemy.controller.hex",shortLabel:"Snare Hex",description:"Arcane snare with root chance.",logOnUse:"{actor} casts a snare hex."}},{id:"enemy.bruiser.elite_overwhelm",classId:"enemy",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:1,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:12,damageFamily:"physical"},{op:"apply_condition",conditionId:"staggered",turns:1}],ui:{iconId:"enemy.elite.overwhelm",shortLabel:"Overwhelm",description:"Elite bruiser pressure strike.",logOnUse:"{actor} overwhelms {target}."}}],_p=[{id:"fighter",primary:"STR",secondary:"DEX",tertiary:"WIS",passiveAbilityIds:["fighter.martial_mastery"],starterActiveAbilityIds:["fighter.crushing_strike","fighter.guard_break","fighter.frontline_step"],recommendedBasicActions:["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"],maxPartySizeSoftCap:4},{id:"monk",primary:"STR",secondary:"WIS",tertiary:"DEX",passiveAbilityIds:["monk.martial_mastery"],starterActiveAbilityIds:["monk.flurry_strike","monk.centered_breath","monk.force_palm"],recommendedBasicActions:["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"],maxPartySizeSoftCap:4},{id:"wizard",primary:"INT",secondary:"WIS",tertiary:"CHA",passiveAbilityIds:["wizard.arcane_efficiency"],starterActiveAbilityIds:["wizard.arc_bolt","wizard.static_lattice","wizard.mind_lance"],recommendedBasicActions:["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"],maxPartySizeSoftCap:4}],Sp=[{id:"enemy.bruiser.base",role:"bruiser",levelOffset:0,threatValue:5,baseStats:{health:30,focus:2,STR:8,DEX:4,WIS:3,INT:2,CHA:2},abilityIds:["enemy.bruiser.heavy_swing"],aiProfileId:"ai.bruiser.base",ui:{iconId:"enemy.bruiser.base",shortLabel:"Bruiser"}},{id:"enemy.skirmisher.base",role:"skirmisher",levelOffset:0,threatValue:4,baseStats:{health:24,focus:2,STR:5,DEX:8,WIS:4,INT:2,CHA:3},abilityIds:["enemy.skirmisher.knife_dance"],aiProfileId:"ai.skirmisher.base",ui:{iconId:"enemy.skirmisher.base",shortLabel:"Skirmisher"}},{id:"enemy.controller.base",role:"controller",levelOffset:0,threatValue:4,baseStats:{health:22,focus:3,STR:3,DEX:4,WIS:6,INT:8,CHA:5},abilityIds:["enemy.controller.snare_hex"],aiProfileId:"ai.controller.base",ui:{iconId:"enemy.controller.base",shortLabel:"Controller"}},{id:"enemy.bruiser.elite",role:"bruiser",levelOffset:1,threatValue:8,baseStats:{health:42,focus:3,STR:10,DEX:5,WIS:4,INT:2,CHA:3},abilityIds:["enemy.bruiser.heavy_swing","enemy.bruiser.elite_overwhelm"],aiProfileId:"ai.bruiser.elite",isElite:!0,ui:{iconId:"enemy.bruiser.elite",shortLabel:"Elite Bruiser"}}],Ep=[{id:"reward.combat.default",entries:[{kind:"draw_bonus",amount:1,weight:50},{kind:"bonus_map_card",amount:1,weight:30},{kind:"focus_refill_partial",amount:2,weight:20}]},{id:"reward.elite.default",entries:[{kind:"draw_bonus",amount:1,weight:35},{kind:"bonus_map_card",amount:2,weight:45},{kind:"focus_refill_partial",amount:3,weight:20}]}],Tp=[{id:"fail.combat.default",applyWound:!0,hpResetPercent:40,handCardPenalty:1,markEncounterResolvedFail:!0}],xp=[{id:"pack.combat.default",encounterType:"combat",objectiveType:"defeat_all",threatBudgetRange:{min:7,max:12},enemyPoolIds:["enemy.bruiser.base","enemy.skirmisher.base","enemy.controller.base"],spawnRules:{minEnemies:2,maxEnemies:3,allowDuplicateArchetypes:!0,eliteRequired:!1},rewardTableId:"reward.combat.default",failForwardPolicyId:"fail.combat.default"},{id:"pack.elite.default",encounterType:"elite",objectiveType:"defeat_elite",threatBudgetRange:{min:10,max:16},enemyPoolIds:["enemy.bruiser.elite","enemy.controller.base"],spawnRules:{minEnemies:2,maxEnemies:3,allowDuplicateArchetypes:!1,eliteRequired:!0},rewardTableId:"reward.elite.default",failForwardPolicyId:"fail.combat.default"}],Cp=[42011,42029,42043,42077],Ap={ap:{basePerTurn:2,moveCost:1,guaranteedMoveTilesWhenAble:1,maxPartySizeSoftCap:4},hit:{baseChance:60,deltaScale:1.5,minChance:15,maxChance:95},damage:{minimumDamage:1,marginTierBonus:.2},crit:{baseChance:3,dexPerBonusDivisor:3,multiplier:1.5},focus:{baseRegenPerTurn:1,wisRegenDivisor:5,momentumKillGain:2,momentumLootGain:1},initiative:{base:10,dexWeight:2,wisWeight:1,tieBreaker:"player_wins"},retreat:{edgeChancePercent:100,centerChancePercent:40,minChancePercent:20,distancePower:1.15},wound:{applyOnMostFailures:!0,hpResetPercent:40,handCardPenalty:1}},mt={abilities:bp,conditions:vp,classes:_p,enemyArchetypes:Sp,encounterPacks:xp,rewardTables:Ep,failForwardPolicies:Tp,tuning:Ap,scenarioSeeds:Cp},Sn=[{id:"treasure",family:"Treasure",validTargets:"room",stackRules:{maxStacks:3,behavior:"additive"},generationEffects:{lootQualityDelta:3,rewardDelta:2,dangerDelta:0}},{id:"puzzle",family:"Puzzle",validTargets:"room",stackRules:{maxStacks:2,behavior:"highest_only"},generationEffects:{puzzleChanceDelta:4,rewardDelta:1}},{id:"trap_heavy",family:"Trap-heavy",validTargets:"both",stackRules:{maxStacks:3,behavior:"additive"},generationEffects:{trapDensityDelta:4,dangerDelta:2,rewardDelta:1}},{id:"elite",family:"Elite",validTargets:"room",stackRules:{maxStacks:1,behavior:"unique"},generationEffects:{dangerDelta:4,rewardDelta:3}},{id:"swarm",family:"Swarm",validTargets:"room",stackRules:{maxStacks:1,behavior:"unique"},generationEffects:{dangerDelta:3,rewardDelta:2}},{id:"shrine_shop",family:"Shrine/Shop",validTargets:"room",stackRules:{maxStacks:1,behavior:"unique"},generationEffects:{rewardDelta:2,specialRules:["utility_node"]}},{id:"environmental_hazard",family:"Environmental hazard",validTargets:"both",stackRules:{maxStacks:2,behavior:"highest_only"},generationEffects:{trapDensityDelta:1,dangerDelta:2,specialRules:["hazard_field"]}},{id:"ambush",family:"Ambush",validTargets:"both",stackRules:{maxStacks:2,behavior:"highest_only"},generationEffects:{dangerDelta:3,rewardDelta:2,specialRules:["ambush_entry"]}},{id:"challenge",family:"Challenge",validTargets:"both",stackRules:{maxStacks:2,behavior:"additive"},generationEffects:{dangerDelta:3,rewardDelta:3}}],Yu=[{id:"closet_2x1",category:"Micro",sizeRange:{minW:2,maxW:3,minH:1,maxH:1},recommendedExits:[1],difficultyWeight:1},{id:"cell_2x2",category:"Micro",sizeRange:{minW:2,maxW:3,minH:2,maxH:2},recommendedExits:[1,2],difficultyWeight:1},{id:"nook_3x1",category:"Micro",sizeRange:{minW:3,maxW:4,minH:1,maxH:1},recommendedExits:[1],difficultyWeight:1},{id:"alcove_3x2",category:"Micro",sizeRange:{minW:3,maxW:3,minH:2,maxH:2},recommendedExits:[1,2],difficultyWeight:1},{id:"small_square_3x3",category:"Small",sizeRange:{minW:3,maxW:3,minH:3,maxH:3},recommendedExits:[1,2],difficultyWeight:2},{id:"small_rect_4x3",category:"Small",sizeRange:{minW:4,maxW:4,minH:3,maxH:3},recommendedExits:[2],difficultyWeight:2},{id:"small_rect_3x4",category:"Small",sizeRange:{minW:3,maxW:3,minH:4,maxH:4},recommendedExits:[2],difficultyWeight:2},{id:"medium_square_5x5",category:"Medium",sizeRange:{minW:5,maxW:5,minH:5,maxH:5},recommendedExits:[2,3],difficultyWeight:3},{id:"medium_rect_6x4",category:"Medium",sizeRange:{minW:6,maxW:6,minH:4,maxH:4},recommendedExits:[2,3],difficultyWeight:3},{id:"medium_rect_4x6",category:"Medium",sizeRange:{minW:4,maxW:4,minH:6,maxH:6},recommendedExits:[2,3],difficultyWeight:3},{id:"medium_rect_7x5",category:"Medium",sizeRange:{minW:7,maxW:7,minH:5,maxH:5},recommendedExits:[2,3],difficultyWeight:3},{id:"large_square_8x8",category:"Large",sizeRange:{minW:8,maxW:8,minH:8,maxH:8},recommendedExits:[2,3,4],difficultyWeight:4},{id:"great_hall_12x8",category:"Large",sizeRange:{minW:12,maxW:12,minH:8,maxH:8},recommendedExits:[2,3,4],difficultyWeight:4},{id:"cathedral_12x12",category:"Large",sizeRange:{minW:12,maxW:12,minH:12,maxH:12},recommendedExits:[3,4],difficultyWeight:5},{id:"long_gallery_12x4",category:"Large",sizeRange:{minW:12,maxW:12,minH:4,maxH:4},recommendedExits:[2],difficultyWeight:4},{id:"wide_gallery_4x12",category:"Large",sizeRange:{minW:4,maxW:4,minH:12,maxH:12},recommendedExits:[2],difficultyWeight:4},{id:"L_room",category:"Shaped",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[2,3],difficultyWeight:3},{id:"T_room",category:"Shaped",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[3],difficultyWeight:3},{id:"U_room_horseshoe",category:"Shaped",sizeRange:{minW:6,maxW:8,minH:5,maxH:7},recommendedExits:[2,3],difficultyWeight:3},{id:"ring_room_donut",category:"Shaped",sizeRange:{minW:6,maxW:9,minH:6,maxH:9},recommendedExits:[2,3,4],difficultyWeight:4},{id:"split_room_central_wall",category:"Shaped",sizeRange:{minW:6,maxW:9,minH:6,maxH:9},recommendedExits:[2,3],difficultyWeight:4},{id:"double_lobe",category:"Shaped",sizeRange:{minW:6,maxW:8,minH:5,maxH:8},recommendedExits:[2,3],difficultyWeight:4},{id:"zigzag_gallery",category:"Shaped",sizeRange:{minW:7,maxW:10,minH:4,maxH:6},recommendedExits:[2],difficultyWeight:3},{id:"pillar_field",category:"Shaped",sizeRange:{minW:6,maxW:9,minH:6,maxH:9},recommendedExits:[2,3,4],difficultyWeight:4},{id:"mazelet",category:"Shaped",sizeRange:{minW:6,maxW:8,minH:6,maxH:8},recommendedExits:[2,3],difficultyWeight:4},{id:"anteroom_to_chamber",category:"Entrance-driven",sizeRange:{minW:5,maxW:8,minH:4,maxH:7},recommendedExits:[1,2],difficultyWeight:3},{id:"funnel_room",category:"Entrance-driven",sizeRange:{minW:5,maxW:7,minH:5,maxH:8},recommendedExits:[1,2],difficultyWeight:3},{id:"gauntlet_room",category:"Entrance-driven",sizeRange:{minW:6,maxW:10,minH:3,maxH:5},recommendedExits:[1,2],difficultyWeight:3},{id:"corridor_fight_1wide",category:"Corridor-combat arena",sizeRange:{minW:6,maxW:10,minH:1,maxH:1},recommendedExits:[2],difficultyWeight:2},{id:"corridor_fight_2wide",category:"Corridor-combat arena",sizeRange:{minW:6,maxW:10,minH:2,maxH:2},recommendedExits:[2],difficultyWeight:2},{id:"junction_fight_T",category:"Corridor-combat arena",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[3],difficultyWeight:3},{id:"junction_fight_cross",category:"Corridor-combat arena",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[4],difficultyWeight:3}],Ao=[{id:"end_N",openings:[1,0,0,0],compactGlyph:""},{id:"end_E",openings:[0,1,0,0],compactGlyph:""},{id:"end_S",openings:[0,0,1,0],compactGlyph:""},{id:"end_W",openings:[0,0,0,1],compactGlyph:""},{id:"straight_NS",openings:[1,0,1,0],compactGlyph:""},{id:"straight_EW",openings:[0,1,0,1],compactGlyph:""},{id:"corner_NE",openings:[1,1,0,0],compactGlyph:""},{id:"corner_ES",openings:[0,1,1,0],compactGlyph:""},{id:"corner_SW",openings:[0,0,1,1],compactGlyph:""},{id:"corner_WN",openings:[1,0,0,1],compactGlyph:""},{id:"tee_NSE",openings:[1,1,1,0],compactGlyph:""},{id:"tee_NSW",openings:[1,0,1,1],compactGlyph:""},{id:"tee_EWN",openings:[1,1,0,1],compactGlyph:""},{id:"tee_EWS",openings:[0,1,1,1],compactGlyph:""},{id:"cross_NESW",openings:[1,1,1,1],compactGlyph:""},{id:"wild_cross",openings:[1,1,1,1],compactGlyph:""},{id:"room1_N",openings:[1,0,0,0],compactGlyph:""},{id:"room1_E",openings:[0,1,0,0],compactGlyph:""},{id:"room1_S",openings:[0,0,1,0],compactGlyph:""},{id:"room1_W",openings:[0,0,0,1],compactGlyph:""},{id:"room2_NS",openings:[1,0,1,0],compactGlyph:""},{id:"room2_EW",openings:[0,1,0,1],compactGlyph:""},{id:"room2_NE",openings:[1,1,0,0],compactGlyph:""},{id:"room2_ES",openings:[0,1,1,0],compactGlyph:""},{id:"room2_SW",openings:[0,0,1,1],compactGlyph:""},{id:"room2_WN",openings:[1,0,0,1],compactGlyph:""},{id:"room3_NSE",openings:[1,1,1,0],compactGlyph:""},{id:"room3_NSW",openings:[1,0,1,1],compactGlyph:""},{id:"room3_EWN",openings:[1,1,0,1],compactGlyph:""},{id:"room3_EWS",openings:[0,1,1,1],compactGlyph:""},{id:"room4_NESW",openings:[1,1,1,1],compactGlyph:""}],gh=[{category:"Micro",glyph:""},{category:"Small",glyph:""},{category:"Medium",glyph:""},{category:"Large",glyph:""},{category:"Shaped",glyph:""},{category:"Entrance-driven",glyph:""},{category:"Corridor-combat arena",glyph:""},{category:"Objective/Special",glyph:""}],zo=[{modifier:"Treasure",glyph:""},{modifier:"Puzzle",glyph:""},{modifier:"Trap-heavy",glyph:""},{modifier:"Elite",glyph:""},{modifier:"Swarm",glyph:""},{modifier:"Shrine/Shop",glyph:""},{modifier:"Environmental hazard",glyph:""},{modifier:"Ambush",glyph:""},{modifier:"Challenge",glyph:""}],ju=["STR","DEX","WIS","INT","CHA"],yh=["fighter","monk","wizard"],zp=[...yh,"universal","enemy"],Rp=["melee","arcane","support"],Mp=["enemy","ally","self","tile","any"],Np=["evasion","resolve","ward","none"],Dp=["single","self","line","burst"],Op=["physical_status","mental_divine_status","arcane_status","none"],jp=["bruiser","skirmisher","controller"],Hp=["combat","elite"],Up=["defeat_all","defeat_elite"],Bp=["draw_bonus","bonus_map_card","focus_refill_partial","none"];function Vm(l){return l>>>0}function Ro(l){let c=Vm(l);const o=()=>{c=c+1831565813>>>0;let y=Math.imul(c^c>>>15,1|c);return y^=y+Math.imul(y^y>>>7,61|y),((y^y>>>14)>>>0)/4294967296},r=y=>{if(!Number.isInteger(y)||y<=0)throw new Error("maxExclusive must be a positive integer");return Math.floor(o()*y)},m=y=>{if(y.length===0)throw new Error("Cannot pick from an empty array");return y[r(y.length)]};return{seed:Vm(l),nextFloat:o,nextInt:r,pick:m}}const wp=40,Lp=12,qp="fighter";function Uu(l,c,o){return Math.max(c,Math.min(o,l))}function Wm(l){return l>>>0}function Gp(l){return Math.imul(l,1664525)+1013904223>>>0}function mi(l,c){return!Number.isInteger(c)||c<=0?0:(l.rngState=Gp(l.rngState),l.rngState%c)}function zt(l,c){return[c,...l].slice(0,wp)}function Yp(l){const c={STR:6,DEX:6,WIS:6,INT:6,CHA:6};return l==="fighter"?{...c,STR:9,DEX:8,WIS:7}:l==="monk"?{...c,STR:9,WIS:8,DEX:7}:{...c,INT:9,WIS:8,CHA:7}}function Xp(l,c=1){return 28+6*c+3*l.STR+2*l.WIS}function Qp(l,c=1){return 6+l.INT+l.CHA+Math.floor(c/2)}function Hu(l,c){return l.filter(o=>o.id===c).reduce((o,r)=>o+r.stacks,0)}function $p(l,c,o){return o<=0?l.filter(m=>m.id!==c):l.find(m=>m.id===c)?l.map(m=>m.id===c?{...m,stacks:o}:m):[...l,{id:c,stacks:o}]}function ph(l,c){const o=[...l];for(let r=o.length-1;r>0;r-=1){const m=mi(c,r+1),y=o[r],v=o[m];y===void 0||v===void 0||(o[r]=v,o[m]=y)}return o}function Mo(l){let c=[...l.deckAbilityIds],o=[...l.discardAbilityIds],r=[...l.handAbilityIds],m=l.rngState;for(;r.length<l.handSize;){if(c.length===0){if(o.length===0)break;const v={rngState:m,log:l.log};c=ph(o,v),o=[],m=v.rngState}const y=c[0];if(!y)break;c=c.slice(1),r=[...r,y]}return{...l,rngState:m,deckAbilityIds:c,discardAbilityIds:o,handAbilityIds:r}}function vh(l,c){return l.abilities.find(o=>o.id===c)}function Kp(l,c){{const o=l.encounterPacks.find(r=>r.id===c);if(o)return o}return l.encounterPacks.find(o=>o.id==="pack.combat.default")??l.encounterPacks[0]}function Zp(l,c,o){const r=Kp(l,o),m=r.enemyPoolIds.map(p=>l.enemyArchetypes.find(M=>M.id===p)).filter(p=>p!==void 0).sort((p,M)=>p.id.localeCompare(M.id));if(m.length===0)return[];const y=r.spawnRules.maxEnemies-r.spawnRules.minEnemies+1,v=y>1?mi(c,y):0,g=r.spawnRules.minEnemies+v,f=[];for(r.spawnRules.eliteRequired&&f.push(m.find(p=>p.isElite)??m[0]);f.length<g;){const p=r.spawnRules.allowDuplicateArchetypes?m:m.filter(H=>!f.some(Y=>Y.id===H.id));if(p.length===0)break;const M=mi(c,p.length),C=p[M];if(!C)break;f.push(C)}return f}function kp(l,c){const o=l.classes.find(m=>m.id===c);return o?[...o.starterActiveAbilityIds,"universal.basic_melee","universal.guard_brace","universal.wait"].filter((m,y,v)=>v.indexOf(m)===y):[]}function Bt(l,c){return l.stats[c]}function Jt(l,c){return l.stats[c]}function bh(l){return l.family==="melee"?{primary:"STR",secondary:"DEX"}:l.family==="arcane"?{primary:"INT",secondary:"WIS"}:{primary:"WIS",secondary:"CHA"}}function Vp(l,c){const o=c.classId==="wizard",r=c.passiveAbilityIds.includes("wizard.arcane_efficiency");return o&&r&&l.family==="arcane"?Math.max(0,l.focusCost-1):l.focusCost}function _h(l,c,o,r){const m=Uu(r.tuning.hit.baseChance+Math.floor((l-c)*r.tuning.hit.deltaScale),r.tuning.hit.minChance,r.tuning.hit.maxChance);return mi(o,100)+1<=m}function Sh(l,c){return l==="physical"?Math.floor(("classId"in c?Bt(c,"STR"):Jt(c,"STR"))*.8):l==="arcane"?Math.floor(("classId"in c?Bt(c,"INT"):Jt(c,"INT"))*.8):l==="divine"||l==="mental"?Math.floor(("classId"in c?Bt(c,"WIS"):Jt(c,"WIS"))*.8):0}function Im(l,c){const o=l.filter(r=>r.hp>0);return o.length===0?null:c?o.find(r=>r.id===c)??null:[...o].sort((r,m)=>r.hp-m.hp)[0]??null}function Jm(l,c){return l.map(o=>o.id===c.id?c:o)}function Wp(l,c,o,r,m){const y=l;if(o.op==="damage"){const v=Im(y.enemies,m);if(!v)return y;const{primary:g,secondary:f}=bh(c),p=50+4*Bt(y.player,g)+2*Bt(y.player,f),M=c.targeting.defense==="ward"?40+3*Jt(v,"INT")+2*Jt(v,"WIS"):c.targeting.defense==="resolve"?40+3*Jt(v,"WIS")+2*Jt(v,"CHA"):40+3*Jt(v,"DEX")+Jt(v,"WIS");if(!_h(p,M,r,r.content))return r.log=zt(r.log,`${y.player.label} missed ${v.label} with ${c.ui.shortLabel}.`),{...y,log:r.log};const C=o.primaryScaleStat!==void 0?Math.floor(Bt(y.player,o.primaryScaleStat)*(o.primaryScaleRatio??1)):0,H=o.secondaryScaleStat!==void 0?Math.floor(Bt(y.player,o.secondaryScaleStat)*(o.secondaryScaleRatio??1)):0,Y=Sh(o.damageFamily,v),X=1+Hu(v.conditionStates,"exposed")*.2,B=o.damageFamily==="physical"&&Hu(v.conditionStates,"guarded")>0?.8:1,ie=Math.max(r.content.tuning.damage.minimumDamage,Math.ceil((o.amount+C+H-Y)*X*B)),Pe=Math.max(0,v.hp-ie),Ce={...v,hp:Pe},et=Jm(y.enemies,Ce);return r.log=zt(r.log,`${y.player.label} used ${c.ui.shortLabel} on ${v.label} for ${ie}.`),{...y,enemies:et,log:r.log}}if(o.op==="heal"){const v=Uu(y.player.hp+o.amount,0,y.player.maxHp);return r.log=zt(r.log,`${y.player.label} recovered ${o.amount} HP.`),{...y,player:{...y.player,hp:v},log:r.log}}if(o.op==="grant_focus"){const v=Uu(y.player.focus+o.amount,0,y.player.maxFocus);return r.log=zt(r.log,`${y.player.label} gained ${o.amount} Focus.`),{...y,player:{...y.player,focus:v},log:r.log}}if(o.op==="apply_condition"){const v=Im(y.enemies,m);if(!v)return y;if(o.chancePercent!==void 0&&mi(r,100)+1>o.chancePercent)return r.log=zt(r.log,`${c.ui.shortLabel} failed to apply ${o.conditionId}.`),{...y,log:r.log};const g=Hu(v.conditionStates,o.conditionId),f=$p(v.conditionStates,o.conditionId,g+1);return r.log=zt(r.log,`${v.label} gained ${o.conditionId}.`),{...y,enemies:Jm(y.enemies,{...v,conditionStates:f}),log:r.log}}if(o.op==="cleanse_condition"){const v=o.conditionId===null?[]:y.player.conditionStates.filter(g=>g.id!==o.conditionId);return{...y,player:{...y.player,conditionStates:v}}}return y}function Bu(l,c){return l.enemies.some(r=>r.hp>0)?l.player.hp<=0?{...l,outcome:"combat_defeat",log:zt(l.log,"Combat resolved: defeat.")}:l.round>Lp?{...l,outcome:c.tuning.initiative.tieBreaker==="player_wins"?"combat_victory":"combat_defeat",log:zt(l.log,"Combat round limit reached. Tie-break applied.")}:l:{...l,outcome:"combat_victory",log:zt(l.log,"Combat resolved: victory.")}}function Ip(l,c){return c.abilityIds.map(r=>vh(l,r)).filter(r=>r!==void 0).filter(r=>r.kind==="active")[0]}function Jp(l,c){if(l.outcome||l.turnOwner!=="enemy")return l;const o={rngState:l.rngState,log:l.log};let r=l;const m=r.enemies.filter(v=>v.hp>0);for(const v of m){if(r.player.hp<=0)break;const g=Ip(c,v);if(!g)continue;const f=g.effects.filter(Ce=>Ce.op==="damage");if(f.length===0)continue;const p=f[0];if(!p)continue;const{primary:M,secondary:C}=bh(g),H=50+4*Jt(v,M)+2*Jt(v,C),Y=g.targeting.defense==="ward"?40+3*Bt(r.player,"INT")+2*Bt(r.player,"WIS"):g.targeting.defense==="resolve"?40+3*Bt(r.player,"WIS")+2*Bt(r.player,"CHA"):40+3*Bt(r.player,"DEX")+Bt(r.player,"WIS");if(!_h(H,Y,o,c)){o.log=zt(o.log,`${v.label} missed ${r.player.label}.`),r={...r,log:o.log};continue}const $=Sh(p.damageFamily,r.player),X=Hu(r.player.conditionStates,"guarded"),B=p.damageFamily==="physical"&&X>0?.8:1,ie=Math.max(c.tuning.damage.minimumDamage,Math.ceil((p.amount-$)*B)),Pe=Math.max(0,r.player.hp-ie);if(o.log=zt(o.log,`${v.label} used ${g.ui.shortLabel} for ${ie}.`),r={...r,player:{...r.player,hp:Pe},log:o.log},r=Bu(r,c),r.outcome)break}if(r.outcome)return{...r,rngState:o.rngState};const y=c.tuning.focus.baseRegenPerTurn+Math.floor(r.player.stats.WIS/c.tuning.focus.wisRegenDivisor);return r={...r,turnOwner:"player",round:r.round+1,apRemaining:c.tuning.ap.basePerTurn,player:{...r.player,focus:Uu(r.player.focus+y,0,r.player.maxFocus)},rngState:o.rngState,log:zt(o.log,`Round ${r.round+1} starts.`)},Mo(Bu(r,c))}function Fp(l){const c=l.content,o=l.playerClassId??qp,r=c.classes.find(X=>X.id===o);if(!r)throw new Error(`Unable to start combat: missing class definition ${o}`);const m={rngState:Wm(l.seed)},y=Zp(c,m,l.encounterPackId),v=Math.max(1,l.handSize),g=kp(c,o),f=ph([...g,...g],m),p=Yp(o),M=Xp(p),C=Qp(p),H={id:"player.1",label:o.toUpperCase(),classId:o,hp:M,maxHp:M,focus:C,maxFocus:C,stats:p,passiveAbilityIds:[...r.passiveAbilityIds],conditionStates:[]},Y=y.map((X,B)=>({id:`enemy.${B+1}`,label:X.ui.shortLabel,role:X.role,archetypeId:X.id,hp:X.baseStats.health,maxHp:X.baseStats.health,focus:Math.max(0,X.baseStats.focus),maxFocus:Math.max(0,X.baseStats.focus),stats:{STR:X.baseStats.STR,DEX:X.baseStats.DEX,WIS:X.baseStats.WIS,INT:X.baseStats.INT,CHA:X.baseStats.CHA},abilityIds:[...X.abilityIds],conditionStates:[],isElite:!!X.isElite})),$={seed:Wm(l.seed),rngState:m.rngState,round:1,turnOwner:"player",apRemaining:c.tuning.ap.basePerTurn,handSize:v,handAbilityIds:[],deckAbilityIds:f,discardAbilityIds:[],player:H,enemies:Y,log:zt([],"Combat started. Play cards to resolve the encounter."),outcome:null};return Mo(Bu($,c))}function Pp(l,c,o,r){if(l.outcome)return{nextSession:l,issue:"Combat is already resolved."};if(l.turnOwner!=="player")return{nextSession:l,issue:"Cannot play cards during enemy turn."};if(!l.handAbilityIds.includes(c))return{nextSession:l,issue:`Ability "${c}" is not in combat hand.`};const m=vh(o,c);if(!m||m.kind!=="active")return{nextSession:l,issue:`Ability "${c}" is not playable.`};const y=Vp(m,l.player);if(m.apCost>l.apRemaining)return{nextSession:l,issue:"Not enough AP to play that combat card."};if(y>l.player.focus)return{nextSession:l,issue:"Not enough focus to play that combat card."};if(m.targeting.team==="enemy"){if(!r)return{nextSession:l,issue:"Select a combat target before playing that card."};if(!l.enemies.some(p=>p.id===r&&p.hp>0))return{nextSession:l,issue:"Selected combat target is no longer valid."}}const v={rngState:l.rngState,log:l.log,content:o};let g={...l,handAbilityIds:l.handAbilityIds.filter(f=>f!==c),discardAbilityIds:[...l.discardAbilityIds,c],player:{...l.player,focus:Math.max(0,l.player.focus-y)},apRemaining:l.apRemaining-m.apCost,rngState:v.rngState};return m.effects.forEach(f=>{g=Wp(g,m,f,v,r)}),g={...g,rngState:v.rngState,log:v.log},g=Bu(g,o),g.outcome||(g=Mo(g)),!g.outcome&&g.apRemaining<=0&&(g=Eh(g,o).nextSession),{nextSession:g}}function Eh(l,c){if(l.outcome)return{nextSession:l,issue:"Combat is already resolved."};if(l.turnOwner!=="player")return{nextSession:l,issue:"Combat turn already ended."};const o={...l,turnOwner:"enemy",apRemaining:0,log:zt(l.log,"Player turn ended.")};return{nextSession:Jp(o,c)}}function ev(l){const c=l.enemies.length,o=l.enemies.filter(r=>r.hp<=0).length;return{outcome:l.outcome,rounds:l.round,playerRemainingHp:l.player.hp,playerMaxHp:l.player.maxHp,playerRemainingFocus:l.player.focus,enemiesDefeated:o,totalEnemies:c,log:[...l.log].reverse()}}const tv=new Set(["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"]);function bn(l,c,o){const r=new Set;l.forEach(m=>{if(r.has(m)){o.push(`duplicate_${c}_id:${m}`);return}r.add(m)})}function ot(l){return Number.isInteger(l)&&l>0}function Ta(l){return Number.isInteger(l)&&l>=0}function av(l,c){l.ui.iconId||c.push(`missing_ability_icon:${l.id}`),l.ui.shortLabel||c.push(`missing_ability_label:${l.id}`),l.ui.description||c.push(`missing_ability_description:${l.id}`),l.ui.logOnUse||c.push(`missing_ability_log:${l.id}`)}function nv(l,c,o,r){switch(c.op){case"damage":{ot(c.amount)||r.push(`invalid_damage_amount:${l}`),c.primaryScaleStat&&!ju.includes(c.primaryScaleStat)&&r.push(`invalid_damage_primary_scale:${l}`),c.secondaryScaleStat&&!ju.includes(c.secondaryScaleStat)&&r.push(`invalid_damage_secondary_scale:${l}`);break}case"heal":{ot(c.amount)||r.push(`invalid_heal_amount:${l}`);break}case"apply_condition":{o.has(c.conditionId)||r.push(`unknown_effect_condition:${l}:${c.conditionId}`),ot(c.turns)||r.push(`invalid_effect_condition_turns:${l}`),c.chancePercent!==void 0&&(c.chancePercent<1||c.chancePercent>100)&&r.push(`invalid_effect_condition_chance:${l}`);break}case"cleanse_condition":{c.conditionId&&!o.has(c.conditionId)&&r.push(`unknown_cleanse_condition:${l}:${c.conditionId}`);break}case"move_self":{ot(c.tiles)||r.push(`invalid_move_tiles:${l}`);break}case"push_or_pull":{ot(c.distance)||r.push(`invalid_push_pull_distance:${l}`);break}case"grant_focus":case"grant_ap":{ot(c.amount)||r.push(`invalid_resource_grant:${l}:${c.op}`);break}case"grant_temp_stat_mod":{ot(c.turns)||r.push(`invalid_stat_mod_turns:${l}`),ju.includes(c.stat)||r.push(`invalid_stat_mod_stat:${l}`),c.amount===0&&r.push(`invalid_stat_mod_amount:${l}`);break}default:{const m=c;throw new Error(`Unhandled effect operation: ${String(m)}`)}}}function lv(l){const c=[];bn(l.abilities.map(f=>f.id),"ability",c),bn(l.conditions.map(f=>f.id),"condition",c),bn(l.classes.map(f=>f.id),"class",c),bn(l.enemyArchetypes.map(f=>f.id),"enemy_archetype",c),bn(l.encounterPacks.map(f=>f.id),"encounter_pack",c),bn(l.rewardTables.map(f=>f.id),"reward_table",c),bn(l.failForwardPolicies.map(f=>f.id),"fail_forward_policy",c);const o=new Set(l.abilities.map(f=>f.id)),r=new Set(l.conditions.map(f=>f.id)),m=new Set(l.enemyArchetypes.map(f=>f.id)),y=new Set(l.rewardTables.map(f=>f.id)),v=new Set(l.failForwardPolicies.map(f=>f.id));l.conditions.forEach(f=>{Op.includes(f.resistFamily)||c.push(`invalid_condition_resist_family:${f.id}`),(f.durationTurns<0||!Number.isInteger(f.durationTurns))&&c.push(`invalid_condition_duration:${f.id}`),f.ui.iconId||c.push(`missing_condition_icon:${f.id}`),f.ui.shortLabel||c.push(`missing_condition_label:${f.id}`),f.ui.description||c.push(`missing_condition_description:${f.id}`)}),l.abilities.forEach(f=>{zp.includes(f.classId)||c.push(`invalid_ability_class:${f.id}`),Rp.includes(f.family)||c.push(`invalid_ability_family:${f.id}`),(!Ta(f.apCost)||f.apCost>2)&&c.push(`invalid_ability_ap_cost:${f.id}`),(!Ta(f.focusCost)||f.focusCost>8)&&c.push(`invalid_ability_focus_cost:${f.id}`),Ta(f.cooldownTurns)||c.push(`invalid_ability_cooldown:${f.id}`),Ta(f.range)||c.push(`invalid_ability_range:${f.id}`),Mp.includes(f.targeting.team)||c.push(`invalid_target_team:${f.id}`),Np.includes(f.targeting.defense)||c.push(`invalid_target_defense:${f.id}`),Dp.includes(f.targeting.pattern)||c.push(`invalid_target_pattern:${f.id}`),f.targeting.pattern==="line"&&(!f.targeting.length||f.targeting.length<1)&&c.push(`missing_line_length:${f.id}`),f.targeting.pattern==="burst"&&(!f.targeting.radius||f.targeting.radius<1)&&c.push(`missing_burst_radius:${f.id}`),f.kind==="active"&&f.effects.length===0&&c.push(`active_missing_effects:${f.id}`),av(f,c),f.effects.forEach(p=>{nv(f.id,p,r,c)})}),l.classes.forEach(f=>{yh.includes(f.id)||c.push(`invalid_playable_class:${f.id}`),f.passiveAbilityIds.length!==1&&c.push(`invalid_class_passive_count:${f.id}`),f.starterActiveAbilityIds.length<3&&c.push(`invalid_class_active_count:${f.id}`);const p=f.passiveAbilityIds[0],M=l.abilities.find(C=>C.id===p);M?(M.kind!=="passive"&&c.push(`class_passive_not_passive:${f.id}:${M.id}`),M.classId!==f.id&&c.push(`class_passive_mismatch:${f.id}:${M.id}`)):c.push(`missing_class_passive_ability:${f.id}:${p}`),f.starterActiveAbilityIds.forEach(C=>{const H=l.abilities.find(Y=>Y.id===C);if(!H){c.push(`missing_class_active_ability:${f.id}:${C}`);return}H.kind!=="active"&&c.push(`class_active_not_active:${f.id}:${H.id}`),H.classId!==f.id&&c.push(`class_active_mismatch:${f.id}:${H.id}`)}),tv.forEach(C=>{f.recommendedBasicActions.includes(C)||c.push(`missing_recommended_basic_action:${f.id}:${C}`)}),f.recommendedBasicActions.forEach(C=>{o.has(C)||c.push(`unknown_recommended_action:${f.id}:${C}`)}),f.maxPartySizeSoftCap!==void 0&&f.maxPartySizeSoftCap<1&&c.push(`invalid_party_size_soft_cap:${f.id}`)}),l.enemyArchetypes.forEach(f=>{jp.includes(f.role)||c.push(`invalid_enemy_role:${f.id}`),Ta(f.levelOffset)||c.push(`invalid_enemy_level_offset:${f.id}`),ot(f.threatValue)||c.push(`invalid_enemy_threat:${f.id}`),f.abilityIds.length===0&&c.push(`missing_enemy_abilities:${f.id}`),f.abilityIds.forEach(p=>{const M=l.abilities.find(C=>C.id===p);if(!M){c.push(`unknown_enemy_ability:${f.id}:${p}`);return}M.classId!=="enemy"&&c.push(`enemy_ability_must_be_enemy_class:${f.id}:${p}`)}),ju.forEach(p=>{ot(f.baseStats[p])||c.push(`invalid_enemy_stat:${f.id}:${p}`)}),ot(f.baseStats.health)||c.push(`invalid_enemy_health:${f.id}`),Ta(f.baseStats.focus)||c.push(`invalid_enemy_focus:${f.id}`)}),l.rewardTables.forEach(f=>{f.entries.length===0&&c.push(`empty_reward_table:${f.id}`),f.entries.forEach((p,M)=>{Bp.includes(p.kind)||c.push(`invalid_reward_kind:${f.id}:${M}`),Ta(p.amount)||c.push(`invalid_reward_amount:${f.id}:${M}`),ot(p.weight)||c.push(`invalid_reward_weight:${f.id}:${M}`)})}),l.failForwardPolicies.forEach(f=>{(f.hpResetPercent<1||f.hpResetPercent>100)&&c.push(`invalid_fail_forward_hp_reset:${f.id}`),Ta(f.handCardPenalty)||c.push(`invalid_fail_forward_hand_penalty:${f.id}`)}),l.encounterPacks.forEach(f=>{Hp.includes(f.encounterType)||c.push(`invalid_encounter_type:${f.id}`),Up.includes(f.objectiveType)||c.push(`invalid_objective_type:${f.id}`),(!ot(f.threatBudgetRange.min)||!ot(f.threatBudgetRange.max)||f.threatBudgetRange.max<f.threatBudgetRange.min)&&c.push(`invalid_threat_budget_range:${f.id}`),f.enemyPoolIds.length===0&&c.push(`empty_enemy_pool:${f.id}`),f.enemyPoolIds.forEach(p=>{m.has(p)||c.push(`unknown_enemy_pool_member:${f.id}:${p}`)}),ot(f.spawnRules.minEnemies)||c.push(`invalid_spawn_min:${f.id}`),ot(f.spawnRules.maxEnemies)||c.push(`invalid_spawn_max:${f.id}`),f.spawnRules.maxEnemies<f.spawnRules.minEnemies&&c.push(`invalid_spawn_range:${f.id}`),y.has(f.rewardTableId)||c.push(`missing_reward_table:${f.id}:${f.rewardTableId}`),v.has(f.failForwardPolicyId)||c.push(`missing_fail_forward_policy:${f.id}:${f.failForwardPolicyId}`),f.objectiveType==="defeat_elite"&&(f.enemyPoolIds.some(M=>{const C=l.enemyArchetypes.find(H=>H.id===M);return!!(C!=null&&C.isElite)})||c.push(`elite_objective_missing_elite:${f.id}`),f.spawnRules.eliteRequired||c.push(`elite_pack_not_marked_elite_required:${f.id}`))}),ot(l.tuning.ap.basePerTurn)||c.push("invalid_tuning_ap_base_per_turn"),l.tuning.ap.moveCost<1&&c.push("invalid_tuning_move_cost"),l.tuning.ap.guaranteedMoveTilesWhenAble<1&&c.push("invalid_tuning_guaranteed_move_tiles"),l.tuning.ap.maxPartySizeSoftCap<1&&c.push("invalid_tuning_max_party_size_soft_cap"),(l.tuning.hit.minChance<1||l.tuning.hit.maxChance>100||l.tuning.hit.maxChance<=l.tuning.hit.minChance)&&c.push("invalid_tuning_hit_clamp"),l.tuning.focus.momentumKillGain<0&&c.push("invalid_tuning_focus_kill_gain"),l.tuning.focus.momentumLootGain<0&&c.push("invalid_tuning_focus_loot_gain"),l.tuning.initiative.tieBreaker!=="player_wins"&&c.push("invalid_tuning_initiative_tie_breaker"),l.tuning.retreat.edgeChancePercent!==100&&c.push("invalid_tuning_retreat_edge_chance"),l.tuning.retreat.centerChancePercent<l.tuning.retreat.minChancePercent&&c.push("invalid_tuning_retreat_center_chance"),l.tuning.retreat.minChancePercent<0&&c.push("invalid_tuning_retreat_min_chance"),l.tuning.wound.hpResetPercent<1&&c.push("invalid_tuning_wound_hp_reset"),l.tuning.wound.hpResetPercent>100&&c.push("invalid_tuning_wound_hp_reset"),Ta(l.tuning.wound.handCardPenalty)||c.push("invalid_tuning_wound_hand_penalty"),l.scenarioSeeds.length===0&&c.push("missing_scenario_seeds");const g=new Set;return l.scenarioSeeds.forEach(f=>{if(!ot(f)){c.push(`invalid_scenario_seed:${f}`);return}if(g.has(f)){c.push(`duplicate_scenario_seed:${f}`);return}g.add(f)}),{ok:c.length===0,errors:c,counts:{abilities:l.abilities.length,conditions:l.conditions.length,classes:l.classes.length,enemyArchetypes:l.enemyArchetypes.length,encounterPacks:l.encounterPacks.length,rewardTables:l.rewardTables.length,failForwardPolicies:l.failForwardPolicies.length,scenarioSeeds:l.scenarioSeeds.length}}}const iv={cards:Co,roomTemplates:Yu,modifiers:Sn,combat:mt};function mo(l,c,o){const r=new Set;l.forEach(m=>{if(r.has(m)){o.push(`duplicate_${c}_id:${m}`);return}r.add(m)})}function uv(l){return l===0||l===1}function cv(l){const c=[],o=l.combat??mt;mo(l.cards.map(g=>g.id),"card",c),mo(l.roomTemplates.map(g=>g.id),"room_template",c),mo(l.modifiers.map(g=>g.id),"modifier",c),l.cards.forEach(g=>{(g.openings.length!==4||!g.openings.every(f=>uv(f)))&&c.push(`invalid_openings:${g.id}`)}),l.roomTemplates.forEach(g=>{(g.sizeRange.minW<=0||g.sizeRange.minH<=0||g.sizeRange.maxW<g.sizeRange.minW||g.sizeRange.maxH<g.sizeRange.minH)&&c.push(`invalid_size_range:${g.id}`),(g.recommendedExits.length===0||g.recommendedExits.some(f=>!Number.isInteger(f)||f<1||f>4))&&c.push(`invalid_recommended_exits:${g.id}`)}),l.modifiers.forEach(g=>{["room","corridor","both"].includes(g.validTargets)||c.push(`invalid_modifier_target:${g.id}`),(!Number.isInteger(g.stackRules.maxStacks)||g.stackRules.maxStacks<1)&&c.push(`invalid_modifier_stack_rules:${g.id}`)});const r=new Set(Ao.map(g=>g.id));Ja.forEach(g=>{r.has(g.id)||c.push(`missing_connector_symbol:${g.id}`)});const m=new Set(gh.map(g=>g.category));l.roomTemplates.forEach(g=>{m.has(g.category)||c.push(`missing_room_category_symbol:${g.category}`)});const y=new Set(zo.map(g=>g.modifier));l.modifiers.forEach(g=>{y.has(g.family)||c.push(`missing_modifier_symbol:${g.family}`)});const v=lv(o);return v.errors.forEach(g=>{c.push(`combat_${g}`)}),{ok:c.length===0,errors:c,counts:{cards:l.cards.length,roomTemplates:l.roomTemplates.length,modifiers:l.modifiers.length,abilities:v.counts.abilities,conditions:v.counts.conditions,classes:v.counts.classes,enemyArchetypes:v.counts.enemyArchetypes,encounterPacks:v.counts.encounterPacks,rewardTables:v.counts.rewardTables,failForwardPolicies:v.counts.failForwardPolicies,scenarioSeeds:v.counts.scenarioSeeds},combat:v}}function rv(){return cv(iv)}const yi=["N","E","S","W"],No={N:0,E:1,S:2,W:3};function Xu(l){return(l%4+4)%4}function Do(l,c){let o=[...l];const r=Xu(c);for(let m=0;m<r;m+=1)o=[o[3],o[0],o[1],o[2]];return o}function Oo(l){switch(l){case"N":return"S";case"E":return"W";case"S":return"N";case"W":return"E"}}function wu(l,c){return l[No[c]]===1}function Th(l){return l.reduce((c,o)=>c+o,0)}function ov(l,c,o){if(c.card.specialRule!=="optional_side_seal")return o;const r=[...o];for(const m of yi){const y=xh(l,Qu(c.position,m));if(!y)continue;const v=Oo(m);wu(y.openings,v)||(r[No[m]]=0)}return r}function ht(l){return`${l.x},${l.y}`}function hi(l){const[c,o]=l.split(",");return{x:Number(c),y:Number(o)}}function Qu(l,c){switch(c){case"N":return{x:l.x,y:l.y-1};case"E":return{x:l.x+1,y:l.y};case"S":return{x:l.x,y:l.y+1};case"W":return{x:l.x-1,y:l.y}}}function sv(){return{nodes:{},nextNodeId:1}}function xh(l,c){return l.nodes[ht(c)]}function Ch(l,c,o,r){return{id:`node_${l.nextNodeId}`,cardId:c.id,cardType:c.type,tags:c.tags,openings:o,owner:r}}function fv(l,c){const o=Xu(c.rotationQuarterTurns??0),r=Do(c.card.openings,o),m=ht(c.position);if(l.nodes[m])throw new Error(`Seed position "${m}" is already occupied`);return{nodes:{...l.nodes,[m]:Ch(l,c.card,r,c.placedBy)},nextNodeId:l.nextNodeId+1}}function jo(l,c){const o=Xu(c.rotationQuarterTurns??0),r=Do(c.card.openings,o),m=ov(l,c,r),y=ht(c.position),v=[],g=[];if(l.nodes[y])return v.push("target_occupied"),{isLegal:!1,reasons:v,connectedDirections:g,rotatedOpenings:m};for(const f of yi){const p=Qu(c.position,f),M=xh(l,p);if(!M)continue;const C=wu(m,f),H=Oo(f),Y=wu(M.openings,H);if(C!==Y){v.push(`mismatch_${f}`);continue}C&&Y&&g.push(f)}return g.length===0&&v.push("no_open_connection"),{isLegal:v.length===0,reasons:v,connectedDirections:g,rotatedOpenings:m}}function Ah(l,c){const o=jo(l,c);if(!o.isLegal)throw new Error(`Illegal placement at "${ht(c.position)}": ${o.reasons.join(", ")}`);const r=ht(c.position);return{nodes:{...l.nodes,[r]:Ch(l,c.card,o.rotatedOpenings,c.placedBy??"player")},nextNodeId:l.nextNodeId+1}}function zh(l){const c=[];for(const[o,r]of Object.entries(l.nodes)){const m=hi(o);for(const y of yi){if(r.openings[No[y]]===0)continue;const v=Qu(m,y),g=ht(v);l.nodes[g]||c.push({from:o,direction:y,to:g})}}return c}function $u(l){return zh(l).length}function dv(l){return $u(l)>0}function Rh(l){const c=new Set;return zh(l).forEach(o=>{c.add(o.to)}),[...c].map(o=>hi(o))}function yo(l,c,o=[0,1,2,3]){const r=[],m=new Set,y=Rh(l);for(const v of y)for(const g of o){const f=jo(l,{position:v,card:c,rotationQuarterTurns:g});if(!f.isLegal)continue;const p=`${ht(v)}:${f.rotatedOpenings.join("")}`;m.has(p)||(m.add(p),r.push({position:v,rotationQuarterTurns:Xu(g),validation:f}))}return r}function mv(l,c){if(!jo(l,c).isLegal)return!1;const r=Ah(l,c);return dv(r)}function Mh(l,c){if(!mv(l,c))throw new Error(`Placement would violate never-seal rule at "${ht(c.position)}"`);return Ah(l,c)}const po=["safe_floor","hidden_trap","persistent_hazard","loot_container","puzzle_trigger","enemy_trigger","environmental_feature"],Fm={safe_floor:70,hidden_trap:8,persistent_hazard:6,loot_container:7,puzzle_trigger:4,enemy_trigger:3,environmental_feature:2};function Nh(l,c,o){const r=l.map(v=>({item:v,weight:Math.max(1,c(v))})),m=r.reduce((v,g)=>v+g.weight,0);let y=o.nextInt(m);for(const v of r)if(y-=v.weight,y<0)return v.item;return r[r.length-1].item}function Pm(l,c,o){if(l>c)throw new Error(`Invalid range: min ${l} is greater than max ${c}`);return l===c?l:l+o.nextInt(c-l+1)}function hv(l){return Th(l)}function gv(l,c){const o=hv(l);return c.filter(r=>r.recommendedExits.includes(o))}function yv(l,c){return c?!0:l.some(o=>(o.generationEffects.specialRules??[]).includes("ambush_entry"))}function pv(l,c){let o=l.difficultyWeight;return c.forEach(r=>{const m=r.generationEffects.trapDensityDelta??0,y=r.generationEffects.dangerDelta??0,v=r.generationEffects.rewardDelta??0,g=r.generationEffects.puzzleChanceDelta??0;m+y>0&&(l.category==="Large"&&(o+=1),l.category==="Shaped"&&(o+=1),l.category==="Corridor-combat arena"&&(o+=2)),v>0&&l.category==="Large"&&(o+=1),g>0&&l.category==="Shaped"&&(o+=2),g>0&&l.category==="Entrance-driven"&&(o+=1)}),Math.max(1,o)}function vv(l,c,o,r){const m=gv(l,c);if(m.length===0)throw new Error("No room templates match connector door count");const y=r.modifiers??[],v=yv(y,r.preferCorridorCombat??!1);let g=m;if(v){const f=m.filter(p=>p.category==="Corridor-combat arena");f.length>0&&(g=f)}return Nh(g,f=>pv(f,y),o)}function bv(l,c,o){if(!Number.isInteger(c)||c<=0||!Number.isInteger(o)||o<=0)throw new Error("Room bounds must be positive integers");const r=Math.floor(c/2),m=Math.floor(o/2),y=[];for(const v of yi)if(wu(l,v)){if(v==="N"){y.push({direction:v,x:r,y:0});continue}if(v==="E"){y.push({direction:v,x:c-1,y:m});continue}if(v==="S"){y.push({direction:v,x:r,y:o-1});continue}y.push({direction:v,x:0,y:m})}return y}function Dh(l,c){return Array.from({length:c},()=>Array.from({length:l},()=>!0))}function xa(l,c){return Array.from({length:c},()=>Array.from({length:l},()=>!1))}function cl(l,c,o){o<0||o>=l.length||c<0||c>=l[0].length||(l[o][c]=!0)}function ri(l,c){for(let o=0;o<l.length;o+=1)for(let r=0;r<l[0].length;r+=1)c(r,o)&&(l[o][r]=!1)}function _v(l){return l.some(c=>c.some(o=>o))}function vt(l){return l.length===0||l[0].length===0||_v(l)?l:Dh(l[0].length,l.length)}function Sv(l,c,o){if(!Number.isInteger(c)||c<=0||!Number.isInteger(o)||o<=0)throw new Error("Template bounds must be positive integers");const r=l.toLowerCase(),m=Math.floor(c/2),y=Math.floor(o/2);if(r==="t_room"||r==="junction_fight_t"){const g=xa(c,o),f=Math.max(1,Math.floor(o/3)),p=Math.max(1,Math.floor(c/3)),M=Math.max(0,m-Math.floor(p/2)),C=Math.min(c,M+p);for(let H=0;H<o;H+=1)for(let Y=0;Y<c;Y+=1)(H<f||Y>=M&&Y<C)&&(g[H][Y]=!0);return vt(g)}if(r==="junction_fight_cross"){const g=xa(c,o),f=Math.max(1,Math.floor(c/3)),p=Math.max(1,Math.floor(o/3)),M=Math.max(0,m-Math.floor(f/2)),C=Math.min(c,M+f),H=Math.max(0,y-Math.floor(p/2)),Y=Math.min(o,H+p);for(let $=0;$<o;$+=1)for(let X=0;X<c;X+=1)X>=M&&X<C&&(g[$][X]=!0),$>=H&&$<Y&&(g[$][X]=!0);return vt(g)}const v=Dh(c,o);if(r==="l_room"){const g=Math.ceil(c/2),f=Math.ceil(o/2);return ri(v,(p,M)=>p>=g&&M<f),vt(v)}if(r==="u_room_horseshoe")return c>3&&o>3&&ri(v,(g,f)=>g>0&&g<c-1&&f>0&&f<o-2),vt(v);if(r==="ring_room_donut")return c>3&&o>3&&ri(v,(g,f)=>g>0&&g<c-1&&f>0&&f<o-1),vt(v);if(r==="split_room_central_wall")return c>2&&ri(v,(g,f)=>g===m&&f!==y),vt(v);if(r==="double_lobe"){const g=xa(c,o),f=Math.max(0,Math.floor(c*.3)),p=Math.min(c-1,Math.floor(c*.7)),M=Math.max(1,Math.floor(c/4)),C=Math.max(1,Math.floor(o/3));for(let $=0;$<o;$+=1)for(let X=0;X<c;X+=1){const B=(X-f)*(X-f)/(M*M)+($-y)*($-y)/(C*C),ie=(X-p)*(X-p)/(M*M)+($-y)*($-y)/(C*C);(B<=1||ie<=1)&&(g[$][X]=!0)}const H=Math.min(f,p),Y=Math.max(f,p);for(let $=H;$<=Y;$+=1)cl(g,$,y);return vt(g)}if(r==="zigzag_gallery"){const g=xa(c,o);let f=Math.floor(c/2);for(let p=0;p<o;p+=1)cl(g,f,p),cl(g,f+1,p),p%2===0?f=Math.min(c-2,f+1):f=Math.max(0,f-1);return vt(g)}if(r==="mazelet")return c>3&&o>3&&ri(v,(g,f)=>g>0&&g<c-1&&f>0&&f<o-1&&(g+f)%3===0),vt(v);if(r==="anteroom_to_chamber"){const g=xa(c,o),f=Math.max(1,Math.floor(o/3));for(let p=0;p<o;p+=1)if(p<f)cl(g,m,p),cl(g,m-1,p),cl(g,m+1,p);else for(let M=0;M<c;M+=1)g[p][M]=!0;return vt(g)}if(r==="funnel_room"){const g=xa(c,o);for(let f=0;f<o;f+=1){const p=o<=1?1:f/(o-1),M=Math.max(1,Math.floor(p*(c/2))),C=Math.max(0,m-M),H=Math.min(c-1,m+M);for(let Y=C;Y<=H;Y+=1)g[f][Y]=!0}return vt(g)}if(r==="gauntlet_room"){const g=xa(c,o);for(let f=0;f<o;f+=1)for(let p=0;p<c;p+=1)(Math.abs(p-m)<=1||f%3===0)&&(g[f][p]=!0);return vt(g)}if(r==="corridor_fight_1wide"){const g=xa(c,o);for(let f=0;f<c;f+=1)g[y][f]=!0;return vt(g)}if(r==="corridor_fight_2wide"){const g=xa(c,o),f=Math.max(0,y-1),p=Math.min(o-1,f+1);for(let M=f;M<=p;M+=1)for(let C=0;C<c;C+=1)g[M][C]=!0;return vt(g)}return vt(v)}function Oh(l,c,o){return l==="N"?Array.from({length:c},(r,m)=>({x:m,y:0})):l==="E"?Array.from({length:o},(r,m)=>({x:c-1,y:m})):l==="S"?Array.from({length:c},(r,m)=>({x:m,y:o-1})):Array.from({length:o},(r,m)=>({x:0,y:m}))}function Ev(l,c){const o=new Map;return yi.forEach(r=>{Oh(r,l,c).forEach(m=>{o.set(`${m.x},${m.y}`,m)})}),[...o.values()]}function Tv(l,c,o,r){const m=o.length,y=o[0].length,v=Oh(l,y,m).filter(C=>o[C.y][C.x]),g=Ev(y,m).filter(C=>o[C.y][C.x]),f=v.length>0?v:g;if(f.length===0)return c;const p=[...f].sort((C,H)=>{const Y=Math.abs(C.x-c.x)+Math.abs(C.y-c.y),$=Math.abs(H.x-c.x)+Math.abs(H.y-c.y);return Y-$});return p.find(C=>!r.has(`${C.x},${C.y}`))??p[0]}function xv(l,c){if(c.length===0||c[0].length===0)throw new Error("Mask must have positive dimensions");const o=c[0].length,r=c.length,m=bv(l,o,r),y=new Set;return m.map(v=>{const g=Tv(v.direction,{x:v.x,y:v.y},c,y);return y.add(`${g.x},${g.y}`),{direction:v.direction,x:g.x,y:g.y}})}function Cv(){return{safe_floor:0,hidden_trap:0,persistent_hazard:0,loot_container:0,puzzle_trigger:0,enemy_trigger:0,environmental_feature:0}}function Av(l=[]){const c={...Fm};return l.forEach(r=>{const m=r.generationEffects.trapDensityDelta??0,y=r.generationEffects.lootQualityDelta??0,v=r.generationEffects.puzzleChanceDelta??0,g=r.generationEffects.dangerDelta??0,f=r.generationEffects.rewardDelta??0;c.hidden_trap+=m*2,c.persistent_hazard+=m,c.loot_container+=y*2,c.puzzle_trigger+=v*2,c.enemy_trigger+=g*2,c.persistent_hazard+=g,c.hidden_trap+=Math.max(0,g-1),c.loot_container+=f,c.puzzle_trigger+=Math.max(0,Math.floor(f/2)),c.environmental_feature+=Math.max(0,Math.floor(f/2)),c.safe_floor-=Math.max(0,m+Math.floor(g/2));const p=r.generationEffects.specialRules??[];p.includes("ambush_entry")&&(c.enemy_trigger+=8),p.includes("hazard_field")&&(c.persistent_hazard+=6),p.includes("utility_node")&&(c.environmental_feature+=4,c.safe_floor+=2)}),po.forEach(r=>{c[r]=Math.max(0,c[r])}),po.reduce((r,m)=>r+c[m],0)===0?{...Fm}:c}function zv(l,c){const o=po.filter(m=>l[m]>0);return o.length===0?"safe_floor":Nh(o,m=>l[m],c)}function Rv(l,c,o,r){const m=new Set(c.map(f=>`${f.x},${f.y}`)),y=l.length,v=l[0].length,g=[];for(let f=0;f<y;f+=1){const p=[];for(let M=0;M<v;M+=1){if(!l[f][M]){p.push(null);continue}const C=m.has(`${M},${f}`),H=C?"safe_floor":zv(o,r);p.push({x:M,y:f,type:H,state:"face_down",isDoorAnchor:C})}g.push(p)}return g}function jh(l){const c=Cv();return l.forEach(o=>{o.forEach(r=>{r&&(c[r.type]+=1)})}),c}function Hh(l,c,o,r={}){const m=vv(l,c,o,r),y=Pm(m.sizeRange.minW,m.sizeRange.maxW,o),v=Pm(m.sizeRange.minH,m.sizeRange.maxH,o),g=Sv(m.id,y,v),f=xv(l,g),p=Av(r.modifiers??[]),M=Rv(g,f,p,o);return{templateId:m.id,category:m.category,width:y,height:v,doorAnchors:f,mask:g,tiles:M,tileWeights:p,modifierIds:(r.modifiers??[]).map(C=>C.id)}}const Mv={ecological:1,pressure_pulse:2,branch_keeper:1},Nv={ecological:1,pressure_pulse:2,branch_keeper:1};function _n(l,c){return l.tags.includes(c)}function eh(l,c){return $u(l)<=2?"branch_keeper":c.dangerScore<c.targetDanger-2?"pressure_pulse":"ecological"}function th(l,c){let r=Th(l.openings);return c==="branch_keeper"&&(_n(l,"tee")&&(r+=8),_n(l,"cross")&&(r+=8),_n(l,"door_3")&&(r+=5),_n(l,"door_4")&&(r+=6),_n(l,"dead_end")&&(r-=6)),c==="pressure_pulse"&&(l.type==="room"&&(r+=5),_n(l,"tee")&&(r+=2),_n(l,"cross")&&(r+=2)),c==="ecological"&&(l.type==="corridor"&&(r+=2),l.type==="room"&&(r+=1)),r}function Dv(l,c){return[...l].sort((o,r)=>th(r,c)-th(o,c))}function Ov(l,c){return c.validTargets==="both"?!0:c.validTargets===l}function jv(l,c){const o=l.filter(r=>r===c.id).length;return c.stackRules.behavior==="additive"?o<c.stackRules.maxStacks:o===0}function ah(l,c){let o=0;return c==="pressure_pulse"?o+=l.generationEffects.dangerDelta??0:c==="ecological"?o+=l.generationEffects.rewardDelta??0:o+=(l.generationEffects.dangerDelta??0)+1,o}function Hv(l,c){return[...l].sort((o,r)=>ah(r,c)-ah(o,c))}function Uv(){return{dangerScore:0,rewardScore:0,targetDanger:4,modifierBudget:1}}function Bv(l){return l.kind==="place_card"?`[${l.mode}] placed ${l.cardId} at ${l.positionKey} rot=${l.rotationQuarterTurns}`:l.kind==="add_modifier"?`[${l.mode}] modifier ${l.modifierId} on ${l.nodeKey}`:`[${l.mode}] skipped: ${l.reason}`}function wv(l){const c=l.placementCap,o=l.modifierCap;let r=l.mapState,m={...l.modifierStacks},y={...l.budgets};const v=[];for(let f=0;f<c;f+=1){const p=eh(r,y),M=Dv(l.structuralCards,p);let C=!1;for(const H of M){const Y=yo(r,H);if(Y.length===0)continue;const $=l.rng.pick(Y),X=ht($.position);try{r=Mh(r,{position:$.position,card:H,rotationQuarterTurns:$.rotationQuarterTurns,placedBy:"director"}),v.push({kind:"place_card",cardId:H.id,positionKey:X,rotationQuarterTurns:$.rotationQuarterTurns,mode:p,reason:p==="branch_keeper"?"branching_bias":"scored_pick"}),y={...y,dangerScore:y.dangerScore+Mv[p],rewardScore:y.rewardScore+Nv[p],modifierBudget:p==="pressure_pulse"?2:1},C=!0;break}catch{continue}}if(!C){v.push({kind:"skip",mode:p,reason:"no_legal_structural_placement"});break}}let g=Math.min(o,y.modifierBudget);for(;g>0;){const f=eh(r,y),p=Hv(l.modifiers,f);let M=!1;for(const C of p){const H=Object.keys(r.nodes).filter(X=>{const B=r.nodes[X];if(!Ov(B.cardType,C))return!1;const ie=m[X]??[];return jv(ie,C)});if(H.length===0)continue;const Y=l.rng.pick(H),$=m[Y]??[];m={...m,[Y]:[...$,C.id]},v.push({kind:"add_modifier",modifierId:C.id,nodeKey:Y,mode:f,reason:"budgeted_overlay"}),y={...y,dangerScore:y.dangerScore+(C.generationEffects.dangerDelta??0),rewardScore:y.rewardScore+(C.generationEffects.rewardDelta??0)},M=!0;break}if(!M)break;g-=1}return{nextMapState:r,nextModifierStacks:m,nextBudgets:y,actions:v}}const Lv={none:8,loot:5,hazard:4,combat_stub:3,event:2},qv={applyWound:!0,hpResetPercent:40,handCardPenalty:1};function Gv(l,c,o){const r=l.map(v=>({candidate:v,weight:Math.max(0,c(v))})),m=r.reduce((v,g)=>v+g.weight,0);if(m<=0)return l[0];let y=o.nextInt(m);for(const v of r)if(y-=v.weight,y<0)return v.candidate;return r[r.length-1].candidate}function Uh(l){const c=Number.parseInt(l.replace(/\D+/g,""),10);return!Number.isFinite(c)||c<=0?1:c}function rl(l,c){return c}function Yv(l){return l.includes("ambush")?"combat_stub":l.includes("trap_heavy")||l.includes("environmental_hazard")?"hazard":l.includes("challenge")?"event":null}function Xv(l,c){const o={...Lv};return l.forEach(r=>{const m=c.get(r);if(!m)return;const y=m.generationEffects.trapDensityDelta??0,v=m.generationEffects.lootQualityDelta??0,g=m.generationEffects.puzzleChanceDelta??0,f=m.generationEffects.dangerDelta??0,p=m.generationEffects.rewardDelta??0;o.hazard+=y+Math.max(0,f-1),o.loot+=v+p,o.event+=Math.max(0,g),o.combat_stub+=Math.max(0,f);const M=m.generationEffects.specialRules??[];M.includes("ambush_entry")&&(o.combat_stub+=6),M.includes("hazard_field")&&(o.hazard+=5),M.includes("utility_node")&&(o.loot+=2,o.event+=1)}),o}function Qv(l,c,o,r){const m=Uh(l.id);if(l.cardType==="corridor"){const g=Yv(c);return{state:g?"pending":"none",encounterKind:g,seed:m}}const y=Xv(c,o),v=Gv(["none","loot","hazard","combat_stub","event"],g=>y[g],r);return{state:v==="none"?"none":"pending",encounterKind:v==="none"?null:v,seed:m}}function Bh(l,c){const o=l.nodes[c];if(!o)return[];const r=hi(c),m=new Set;return["N","E","S","W"].forEach((y,v)=>{if(o.openings[v]===0)return;const g=Qu(r,y),f=ht(g),p=l.nodes[f];if(!p)return;const M=Oo(y),C=M==="N"?0:M==="E"?1:M==="S"?2:3;p.openings[C]!==0&&m.add(f)}),[...m].sort()}function $v(l,c,o){return Bh(l,c).includes(o)}function Ou(l,c){return{...l,state:c}}function Kv(l,c){const o=l.tiles.map(r=>r.map(m=>{if(!m)return null;if(m.isDoorAnchor||c==="safe_loot"||c==="combat_victory")return Ou(m,"revealed");if(c==="trap_damage"||c==="combat_defeat"){if(m.type==="hidden_trap"||m.type==="persistent_hazard")return Ou(m,"revealed");if(m.type==="enemy_trigger")return Ou(m,"ghost_trap")}return m}));return{...l,tiles:o}}function nh(l,c,o=qv){const r={applyWound:o.applyWound,hpResetPercent:Math.max(1,Math.min(100,Math.round(o.hpResetPercent))),handCardPenalty:Math.max(0,Math.round(o.handCardPenalty))};if(l==="safe_loot")return{drawBonus:1,bonusStructuralCardIds:["room2_NS"],handCardPenalty:0,woundApplied:!1,hpResetPercent:null,log:[`Room resolved (${c}): gained loot and +1 draw.`]};if(l==="combat_victory")return{drawBonus:1,bonusStructuralCardIds:["tee_NSE"],handCardPenalty:0,woundApplied:!1,hpResetPercent:null,log:[`Room resolved (${c}): combat victory rewards granted.`]};if(l==="combat_defeat"){const m=r.applyWound?"wound applied":"no wound",y=r.handCardPenalty>0?`hand -${r.handCardPenalty}`:"no hand penalty";return{drawBonus:0,bonusStructuralCardIds:[],handCardPenalty:r.handCardPenalty,woundApplied:r.applyWound,hpResetPercent:r.hpResetPercent,log:[`Room resolved (${c}): combat defeat, ${m}, HP reset ${r.hpResetPercent}%, ${y}.`]}}return{drawBonus:0,bonusStructuralCardIds:[],handCardPenalty:0,woundApplied:!1,hpResetPercent:null,log:[`Room resolved (${c}): trap damage, no bonus draw.`]}}function wh(l,c){return Ro(l+Uh(c))}const Zv=8,kv=10,Vv=20260222,Ho=20261003,Lh=3,Wv=Lh,Iv="fighter",Uo="pack.combat.default",Jv=4,Fv="tee_NSE",qh=6,vo=3,Pv=100,bo="S:",_o="M:",e0=new Map(Sn.map(l=>[l.id,l])),t0=new Set(mt.classes.map(l=>l.id)),Bo=new Map(mt.abilities.map(l=>[l.id,l]));function a0(l){return t0.has(l)}function Ge(l,c){return[c,...l].slice(0,Zv)}function n0(){var l;return((l=Ja.find(c=>c.id==="cross_NESW"))==null?void 0:l.id)??Ja[0].id}function So(l){return`${bo}${l}`}function l0(l){return`${_o}${l}`}function i0(l){if(l.startsWith(bo))return{kind:"structural",id:l.slice(bo.length)};if(l.startsWith(_o))return{kind:"modifier",id:l.slice(_o.length)}}function u0(l){return Ja.find(c=>c.id===l)??Ja[0]}function wo(l){if(l)return hh(l)}function Lo(l){return Sn.find(c=>c.id===l)}function c0(l,c){return c==="both"?!0:l===c}function r0(l,c){const o=l.filter(r=>r===c.id).length;return c.stackRules.behavior==="additive"?o<c.stackRules.maxStacks:o===0}function ne(l,c,o){return{...l,lastIssue:c,actionLog:o?Ge(l.actionLog,o):l.actionLog}}function o0(l){return fv(sv(),{position:{x:0,y:0},card:u0(l),placedBy:"player"})}function lh(l){return(l%4+4)%4}function Eo(l,c){const o=l.indexOf(c);return o<0?l:[...l.slice(0,o),...l.slice(o+1)]}function Lu(l,c){return l&&c.includes(l)?l:c[0]??""}function s0(l,c){const o=Bo.get(l);return!o||o.kind!=="active"?null:c.player.classId==="wizard"&&c.player.passiveAbilityIds.includes("wizard.arcane_efficiency")&&o.family==="arcane"?Math.max(0,o.focusCost-1):o.focusCost}function f0(l){return l.runPhase!=="room_detail"||!l.roomSession||l.roomSession.encounterKind!=="combat_stub"||!l.roomSession.enemyTriggered||!l.roomSession.combatState||l.roomSession.combatState.outcome!==null?null:l.roomSession.combatState}function ih(l,c){if(!l.handAbilityIds.includes(c))return`Ability "${c}" is not in combat hand.`;const o=Bo.get(c);if(!o||o.kind!=="active")return`Ability "${c}" is not playable.`;if(l.turnOwner!=="player")return"Cannot play cards during enemy turn.";const r=s0(c,l);return r===null?`Ability "${c}" is not playable.`:o.apCost>l.apRemaining?"Not enough AP to play that combat card.":r>l.player.focus?"Not enough focus to play that combat card.":null}function d0(l,c){const o=[],r=Math.max(l.length,c.length);for(let m=0;m<r;m+=1){const y=l[m];y&&o.push(y);const v=c[m];v&&o.push(v)}return o}function m0(l){const c=Ja.map(y=>y.id).filter(y=>y!==l).map(y=>So(y)),o=So(Fv),r=c.includes(o)?[o,...c.filter(y=>y!==o)]:c,m=Sn.map(y=>l0(y.id));return d0(r,m)}function h0(l){return Ja.map(c=>c.id).filter(c=>c!==l).reverse()}function gi(l,c){let o=[...l.deckCardIds],r=[...l.discardCardIds],m=[...l.handCardIds],y=0;for(;m.length<c;){if(o.length===0){if(r.length===0)break;o=[...r],r=[]}const v=o[0];if(!v)break;o=o.slice(1),m=[...m,v],y+=1}return{deckCardIds:o,discardCardIds:r,handCardIds:m,drewCount:y}}function g0(l){return l.map(c=>wo(c)).filter(c=>c!==void 0)}function y0(l){return l.map(c=>Lo(c)).filter(c=>c!==void 0)}function p0(l,c){return l.includes(c)?l:[...l,c]}function v0(l,c,o){const r=wh(Ho+o*31,l.id);return Qv(l,c,e0,r)}function qu(l,c,o,r){const m={};return Object.entries(l.nodes).forEach(([y,v])=>{const g=o[y],f=c[y]??[],p=!g||g.state==="none"&&g.encounterKind===null;m[y]=p?v0(v,f,r):g}),m}function Ca(l,c){return[c,...l].slice(0,kv)}function Gh(l,c){return Math.abs(l.x-c.x)+Math.abs(l.y-c.y)}function b0(l,c){return Gh(l,c)===1}function qo(l,c){const o=l.tiles[c.y];return o?o[c.x]??null:null}function Yh(l,c){const o=qo(l,c);if(!o)return{layout:l,tile:null,newlyRevealed:!1};if(o.state==="revealed")return{layout:l,tile:o,newlyRevealed:!1};const r={...o,state:"revealed"},m=l.tiles.map((y,v)=>y.map((g,f)=>!g||f!==c.x||v!==c.y?g:r));return{layout:{...l,tiles:m},tile:r,newlyRevealed:!0}}function Xh(l,c,o=1){let r=!1;const m=l.tiles.map((y,v)=>y.map((g,f)=>g?Gh(c,{x:f,y:v})>o?g:g.state==="face_down"&&(g.type==="hidden_trap"||g.type==="persistent_hazard")?(r=!0,{...g,state:"ghost_trap"}):g:null));return r?{...l,tiles:m}:l}function Qh(l){return l.tiles.flat().filter(c=>!!c).filter(c=>c.state==="revealed").length}function _0(l){var c;for(let o=0;o<l.height;o+=1)for(let r=0;r<l.width;r+=1)if((c=l.tiles[o])!=null&&c[r])return{x:r,y:o};return null}function S0(l){for(const c of l.doorAnchors){const o={x:c.x,y:c.y};if(qo(l,o))return o}return _0(l)}function Gu(l){var c;return l.encounterKind==="loot"?l.collectedLootCount>=1:l.encounterKind==="hazard"?l.revealedTileCount>=4:l.encounterKind==="combat_stub"?l.enemyTriggered?((c=l.combatState)==null?void 0:c.outcome)!==null:!1:l.puzzleTriggered||l.revealedTileCount>=5}function ho(l){if(l.encounterKind==="combat_stub"){const c=l.combatState;if(!c||!c.outcome)return{outcome:"trap_damage",summary:"Combat unresolved.",combatReport:null};const o=ev(c),r=c.outcome,m={seed:c.seed,rounds:o.rounds,outcome:r==="combat_victory"?"victory":"defeat",playerRemainingHp:o.playerRemainingHp,playerMaxHp:o.playerMaxHp,playerRemainingFocus:o.playerRemainingFocus,enemiesDefeated:o.enemiesDefeated,totalEnemies:o.totalEnemies,log:o.log},y=r==="combat_victory"?`Combat victory in ${o.rounds} rounds (${o.enemiesDefeated}/${o.totalEnemies} enemies defeated).`:`Combat defeat after ${o.rounds} rounds (HP ${o.playerRemainingHp}/${o.playerMaxHp}).`;return{outcome:r,summary:y,combatReport:m}}return l.damageTaken>=2||l.encounterKind==="hazard"&&l.damageTaken>=1?{outcome:"trap_damage",summary:"Room failed due to hazard pressure.",combatReport:null}:{outcome:"safe_loot",summary:"Room objective completed successfully.",combatReport:null}}function E0(l=Uo){const c=mt.tuning.wound,o=mt.encounterPacks.find(m=>m.id===l),r=mt.failForwardPolicies.find(m=>m.id===(o==null?void 0:o.failForwardPolicyId));return{applyWound:(r==null?void 0:r.applyWound)??c.applyOnMostFailures,hpResetPercent:(r==null?void 0:r.hpResetPercent)??mt.tuning.wound.hpResetPercent,handCardPenalty:(r==null?void 0:r.handCardPenalty)??mt.tuning.wound.handCardPenalty}}function T0(l){return l==="loot"?"loot_container":l==="hazard"?"persistent_hazard":"puzzle_trigger"}function x0(l,c){let o=!1,r=0;const m=T0(c);let y=l.tiles.map(v=>v.map(g=>g?g.type!=="enemy_trigger"||(r+=1,c==="combat_stub")?g:(o=!0,{...g,type:m}):null));if(c==="combat_stub"&&r===0){let v=null;for(const g of y){for(const f of g)if(f&&!f.isDoorAnchor&&f.state==="face_down"){v=f;break}if(v)break}if(!v)for(const g of y){for(const f of g)if(f&&!f.isDoorAnchor){v=f;break}if(v)break}if(!v)for(const g of y){for(const f of g)if(f){v=f;break}if(v)break}v&&(o=!0,y=y.map(g=>g.map(f=>f?f.x!==v.x||f.y!==v.y||f.type==="enemy_trigger"?f:{...f,type:"enemy_trigger"}:null)))}return o?{...l,tiles:y}:l}function C0(l,c,o){if(l.status!=="active")return{issue:"Room is already resolved."};if(l.encounterKind==="combat_stub"&&l.enemyTriggered&&l.combatState&&!l.combatState.outcome)return{issue:"Combat is active. Play combat cards or retreat."};if(c.x===l.playerPosition.x&&c.y===l.playerPosition.y)return{issue:"Already at that tile."};if(!b0(l.playerPosition,c))return{issue:"Room movement must be one orthogonal tile."};if(!qo(l.layout,c))return{issue:"Cannot move into blocked tile."};const m=Yh(l.layout,c);let y=m.layout;const v=m.tile;let g=l.collectedLootCount,f=l.damageTaken,p=l.enemyTriggered,M=l.puzzleTriggered,C=l.combatState,H=l.roomLog;if(m.newlyRevealed&&v)if(v.type==="loot_container")g+=1,H=Ca(H,"Found loot cache.");else if(v.type==="hidden_trap"||v.type==="persistent_hazard")f+=1,H=Ca(H,"Triggered trap/hazard and took damage.");else if(v.type==="enemy_trigger")if(l.encounterKind==="combat_stub"){if(p=!0,H=Ca(H,"Enemy trigger activated."),!l.combatState){const X=Ho+l.encounterSeed+c.x*17+c.y*23;C=Fp({seed:X,content:mt,encounterPackId:Uo,playerClassId:o,handSize:Jv}),H=Ca(H,`Combat engaged as ${o.toUpperCase()}. Play cards from the combat hand.`)}}else H=Ca(H,"Enemy marker ignored in non-combat encounter.");else v.type==="puzzle_trigger"&&(M=!0,H=Ca(H,"Puzzle trigger discovered."));y=Xh(y,c,1);const Y={...l,layout:y,playerPosition:c,revealedTileCount:Qh(y),collectedLootCount:g,damageTaken:f,enemyTriggered:p,puzzleTriggered:M,combatState:C,roomLog:Ca(H,`Moved to ${c.x},${c.y}.`),canResolve:!1},$={...Y,canResolve:Gu(Y)};return $.damageTaken>=Wv?{nextSession:$,forcedOutcome:"trap_damage"}:{nextSession:$}}function A0(l,c,o){var $;const r=l.mapState.nodes[c];if(!r)return null;const m=y0(l.modifierStacks[c]??[]),y=wh(Ho+l.turnIndex*101,r.id),v=Hh(r.openings,Yu,y,{modifiers:m,preferCorridorCombat:o==="combat_stub"}),g=x0(v,o),f=S0(g);if(!f)return null;const p=Yh(g,f),M=Xh(p.layout,f,1),C=Qh(M),H=(($=l.nodeEncounters[c])==null?void 0:$.seed)??1,Y={nodeKey:c,encounterSeed:H,encounterKind:o,layout:M,playerPosition:f,revealedTileCount:C,collectedLootCount:0,damageTaken:0,enemyTriggered:!1,puzzleTriggered:!1,canResolve:!1,roomLog:[`Entered room at ${f.x},${f.y}. Objective active.`],resultSummary:null,status:"active",resolvedOutcome:null,combatReport:null,combatState:null};return{...Y,canResolve:Gu(Y)}}function oi(l,c,o,r=null){if(!l.roomSession)return ne(l,"Room resolution failed: no active room session.");const m=l.roomSession.nodeKey,y=l.nodeEncounters[m],v=Kv(l.roomSession.layout,c),g=c==="combat_defeat"?nh(c,l.roomSession.encounterKind,E0(Uo)):nh(c,l.roomSession.encounterKind),f=l.playerWoundCount+(g.woundApplied?1:0),p=g.hpResetPercent??l.playerHpPercent,M=c==="trap_damage"||c==="combat_defeat"?"Room Failed":c==="combat_victory"?"Room Cleared (Combat)":"Room Cleared",C=c==="trap_damage"||c==="combat_defeat"?`Room failed (${c}). Apply rewards to continue.`:"",H=`${M}: ${o}`;let Y=Ca(l.roomSession.roomLog,o);return r&&r.log.slice(Math.max(0,r.log.length-4)).forEach(X=>{Y=Ca(Y,`[Combat] ${X}`)}),{...l,runPhase:rl(l.runPhase,"resolve_rewards"),playerWoundCount:f,playerHpPercent:p,roomSession:{...l.roomSession,layout:v,status:"resolved",resolvedOutcome:c,canResolve:!0,roomLog:Y,resultSummary:H,combatReport:r},nodeEncounters:{...l.nodeEncounters,[m]:{state:"resolved",encounterKind:l.roomSession.encounterKind,seed:(y==null?void 0:y.seed)??1}},pendingRewards:g,selectedCombatAbilityId:null,lastIssue:C,actionLog:Ge(Ge(l.actionLog,H),`Room resolved at ${m} with outcome ${c}.`)}}function z0(l){return l.map(c=>wo(c)).filter(c=>c!==void 0).map(c=>So(c.id))}function si(l,c={}){const o=Math.max(0,c.drawBonus??0),r=Math.max(0,c.handCardPenalty??0),m=z0(c.bonusStructuralCardIds??[]),y=l.turnIndex+1,v=Math.max(1,qh+o-r);let g=[...l.playerHandCardIds],f=[...l.playerDiscardCardIds,...m],p=0;for(;g.length>v;){const H=g[g.length-1];if(!H)break;g=g.slice(0,-1),f=[...f,H],p+=1}const M=gi({deckCardIds:l.playerDeckCardIds,discardCardIds:f,handCardIds:g},v);let C=l.actionLog;return c.leadMessage&&(C=Ge(C,c.leadMessage)),c.rewardLog&&c.rewardLog.forEach(H=>{C=Ge(C,H)}),m.length>0&&(C=Ge(C,`Turn ${y}: reward cards queued (${m.join(", ")}).`)),r>0&&(C=Ge(C,`Turn ${y}: fail-forward hand size penalty ${r} applied.`)),p>0&&(C=Ge(C,`Turn ${y}: discarded ${p} card(s) from hand due to penalty.`)),M.drewCount>0&&(C=Ge(C,`Turn ${y}: drew ${M.drewCount} card(s).`)),C=Ge(C,`Turn ${y} build phase started.`),{...l,runPhase:rl(l.runPhase,"map_build"),turnIndex:y,playerDeckCardIds:M.deckCardIds,playerDiscardCardIds:M.discardCardIds,playerHandCardIds:M.handCardIds,selectedCardId:Lu(l.selectedCardId,M.handCardIds),selectedCombatAbilityId:null,pendingRewards:null,roomSession:null,lastIssue:"",actionLog:C}}function uh(l,c){const o=l.nodeEncounters[c];if(!o||o.state!=="pending"||!o.encounterKind)return ne(l,`No pending encounter at ${c}.`,`Travel: no encounter at ${c}`);const r=A0(l,c,o.encounterKind);return r?{...l,runPhase:rl(l.runPhase,"room_detail"),selectedNodeKey:c,selectedCombatAbilityId:null,roomSession:r,lastIssue:"",actionLog:Ge(l.actionLog,`Entered room detail at ${c} (${o.encounterKind}).`)}:ne(l,`Failed to create room session at ${c}.`,`Room entry failed at ${c}`)}function R0(l){const c=gi({deckCardIds:l.directorDeckCardIds,discardCardIds:l.directorDiscardCardIds,handCardIds:l.directorHandCardIds},vo),o=wv({mapState:l.mapState,modifierStacks:l.modifierStacks,budgets:l.aiBudgets,structuralCards:g0(c.handCardIds),modifiers:Sn,rng:Ro(Vv+(l.turnIndex-1)),placementCap:1,modifierCap:1});let r={deckCardIds:c.deckCardIds,discardCardIds:c.discardCardIds,handCardIds:c.handCardIds};o.actions.forEach(p=>{p.kind==="place_card"&&(r={...r,handCardIds:Eo(r.handCardIds,p.cardId),discardCardIds:[...r.discardCardIds,p.cardId]})});const m=gi(r,vo),y=o.actions.map(p=>Bv(p)),v=[...o.actions].reverse().find(p=>p.kind==="place_card"),g=qu(o.nextMapState,o.nextModifierStacks,l.nodeEncounters,l.turnIndex);let f=l.actionLog;return y.length>0&&(f=Ge(f,`Director build: ${y.join(" | ")}`)),f=Ge(f,"Travel phase: move one edge or wait."),{...l,runPhase:rl(l.runPhase,"travel"),mapState:o.nextMapState,modifierStacks:o.nextModifierStacks,nodeEncounters:g,aiBudgets:o.nextBudgets,aiRecap:y,lastAiActions:o.actions,selectedNodeKey:(v==null?void 0:v.kind)==="place_card"?v.positionKey:l.selectedNodeKey,directorDeckCardIds:m.deckCardIds,directorDiscardCardIds:m.discardCardIds,directorHandCardIds:m.handCardIds,selectedCombatAbilityId:null,lastIssue:"",actionLog:f}}function $h(l){const c=l.selectedCardId;if(!c)return;const o=i0(c);if(!o)return;if(o.kind==="structural"){const m=wo(o.id);return m?{token:c,kind:"structural",structural:m}:void 0}const r=Lo(o.id);if(r)return{token:c,kind:"modifier",modifier:r}}function M0(l){if(l.selectedNodeKey)return l.mapState.nodes[l.selectedNodeKey]}function N0(l){return l.selectedNodeKey?l.modifierStacks[l.selectedNodeKey]??[]:[]}function To(l,c,o){const r=l.mapState.nodes[o];if(!r)return!1;const m=Lo(c);if(!m||!c0(r.cardType,m.validTargets))return!1;const y=l.modifierStacks[o]??[];return r0(y,m)}function D0(l){return Bh(l.mapState,l.playerPositionKey)}function O0(l){return l.runPhase==="map_build"&&$u(l.mapState)>0}function Kh(l=n0()){const c=o0(l),o=gi({deckCardIds:m0(l),discardCardIds:[],handCardIds:[]},qh),r=gi({deckCardIds:h0(l),discardCardIds:[],handCardIds:[]},vo),m="0,0",y=qu(c,{},{},1);return{runPhase:"map_build",seedCardId:l,mapState:c,modifierStacks:{},turnIndex:1,playerPositionKey:m,visitedNodeKeys:[m],nodeEncounters:y,roomSession:null,pendingRewards:null,selectedCardId:Lu("",o.handCardIds),selectedRotation:0,selectedNodeKey:m,selectedCombatAbilityId:null,lastIssue:"",aiBudgets:Uv(),aiRecap:[],lastAiActions:[],actionLog:[`Turn 1 start: seeded ${l} at 0,0`],playerWoundCount:0,playerHpPercent:Pv,selectedCombatClassId:Iv,playerDeckCardIds:o.deckCardIds,playerDiscardCardIds:o.discardCardIds,playerHandCardIds:o.handCardIds,directorDeckCardIds:r.deckCardIds,directorDiscardCardIds:r.discardCardIds,directorHandCardIds:r.handCardIds}}function j0(l,c){switch(c.type){case"set_selected_card":return l.playerHandCardIds.includes(c.cardId)?{...l,selectedCardId:c.cardId,lastIssue:""}:ne(l,`Card "${c.cardId}" is not in hand.`,`Turn ${l.turnIndex}: card select blocked (not in hand)`);case"set_combat_class":return a0(c.classId)?l.selectedCombatClassId===c.classId?l:{...l,selectedCombatClassId:c.classId,lastIssue:"",actionLog:Ge(l.actionLog,`Combat class set to ${c.classId.toUpperCase()}.`)}:ne(l,`Unknown combat class "${c.classId}".`);case"set_selected_combat_ability":{if(c.abilityId===null)return l.selectedCombatAbilityId===null?l:{...l,selectedCombatAbilityId:null,lastIssue:""};const o=f0(l);if(!o)return ne(l,"Combat card selection is only valid during active combat.");const r=ih(o,c.abilityId);return r?ne(l,r):{...l,selectedCombatAbilityId:c.abilityId,lastIssue:""}}case"rotate_left":return l.runPhase!=="map_build"?ne(l,"Rotation is available only during build phase."):{...l,selectedRotation:lh(l.selectedRotation-1),lastIssue:""};case"rotate_right":return l.runPhase!=="map_build"?ne(l,"Rotation is available only during build phase."):{...l,selectedRotation:lh(l.selectedRotation+1),lastIssue:""};case"set_selected_node":return{...l,selectedNodeKey:c.nodeKey,lastIssue:""};case"place_card":{if(l.runPhase!=="map_build")return ne(l,"Card play is only valid during build phase.",`Turn ${l.turnIndex}: play blocked (phase ${l.runPhase})`);const o=$h(l);if(!o)return ne(l,"No selected card in hand.",`Turn ${l.turnIndex}: play blocked (no selected card)`);if(!l.playerHandCardIds.includes(o.token))return ne(l,`Selected card "${o.token}" is not in hand.`,`Turn ${l.turnIndex}: play blocked (card not in hand)`);if(o.kind==="structural")try{const p=Mh(l.mapState,{position:c.position,card:o.structural,rotationQuarterTurns:l.selectedRotation,placedBy:"player"}),M=ht(c.position),C=Eo(l.playerHandCardIds,o.token),H=qu(p,l.modifierStacks,l.nodeEncounters,l.turnIndex);return{...l,mapState:p,nodeEncounters:H,selectedNodeKey:M,selectedCardId:Lu(l.selectedCardId,C),playerHandCardIds:C,playerDiscardCardIds:[...l.playerDiscardCardIds,o.token],lastIssue:"",actionLog:Ge(l.actionLog,`Turn ${l.turnIndex}: placed ${o.structural.id} rot=${l.selectedRotation} at ${M}`)}}catch(p){const M=p instanceof Error?p.message:"Placement failed";return ne(l,M,`Turn ${l.turnIndex}: placement blocked (${M})`)}const r=ht(c.position);if(!l.mapState.nodes[r])return ne(l,`Modifier "${o.modifier.id}" requires an occupied node target.`);if(!To(l,o.modifier.id,r))return ne(l,`Modifier "${o.modifier.id}" is not valid at ${r}.`);const y=l.modifierStacks[r]??[],v=Eo(l.playerHandCardIds,o.token),g={...l.modifierStacks,[r]:[...y,o.modifier.id]},f=qu(l.mapState,g,l.nodeEncounters,l.turnIndex);return{...l,selectedNodeKey:r,selectedCardId:Lu(l.selectedCardId,v),modifierStacks:g,nodeEncounters:f,playerHandCardIds:v,playerDiscardCardIds:[...l.playerDiscardCardIds,o.token],lastIssue:"",actionLog:Ge(l.actionLog,`Turn ${l.turnIndex}: played modifier ${o.modifier.id} on ${r}`)}}case"end_build":case"end_turn":{if(l.runPhase!=="map_build")return ne(l,"Build can only end during build phase.",`Turn ${l.turnIndex}: end build blocked (phase ${l.runPhase})`);if($u(l.mapState)===0)return ne(l,"End build blocked: no open expansion ports remain.",`Turn ${l.turnIndex}: end build blocked (no expansion ports)`);const o={...l,runPhase:rl(l.runPhase,"ai_build")};return R0(o)}case"travel_to":{if(l.runPhase!=="travel")return ne(l,"Travel movement is only valid during travel phase.");if(!$v(l.mapState,l.playerPositionKey,c.nodeKey))return ne(l,`Cannot travel from ${l.playerPositionKey} to ${c.nodeKey}.`,`Travel blocked: ${l.playerPositionKey} -> ${c.nodeKey}`);const o={...l,playerPositionKey:c.nodeKey,visitedNodeKeys:p0(l.visitedNodeKeys,c.nodeKey),selectedNodeKey:c.nodeKey,lastIssue:"",actionLog:Ge(l.actionLog,`Travel: moved to ${c.nodeKey}.`)},r=o.nodeEncounters[c.nodeKey];return(r==null?void 0:r.state)==="pending"&&r.encounterKind?uh(o,c.nodeKey):si(o)}case"wait_travel":return l.runPhase!=="travel"?ne(l,"Wait is only valid during travel phase."):si(l,{leadMessage:`Travel: waited at ${l.playerPositionKey}.`});case"enter_room":return l.runPhase!=="travel"?ne(l,"Room entry is only valid during travel phase."):c.nodeKey!==l.playerPositionKey?ne(l,`Room entry requires current node ${l.playerPositionKey}.`):uh(l,c.nodeKey);case"room_move":{if(l.runPhase!=="room_detail"||!l.roomSession)return ne(l,"Room movement is only valid in active room detail.");const o=C0(l.roomSession,c.position,l.selectedCombatClassId);return o.nextSession?o.forcedOutcome?oi({...l,roomSession:o.nextSession},o.forcedOutcome,"Room collapsed under hazard pressure."):{...l,roomSession:o.nextSession,selectedCombatAbilityId:null,lastIssue:"",actionLog:Ge(l.actionLog,`Room move: ${o.nextSession.playerPosition.x},${o.nextSession.playerPosition.y}`)}:ne(l,o.issue??"Room movement failed.")}case"combat_play_card":{if(l.runPhase!=="room_detail"||!l.roomSession)return ne(l,"Combat cards can only be played in room detail.");if(l.roomSession.encounterKind!=="combat_stub")return ne(l,"Combat cards are only valid in combat encounters.");if(!l.roomSession.enemyTriggered||!l.roomSession.combatState)return ne(l,"Combat has not started in this room yet.");const o=c.abilityId??l.selectedCombatAbilityId;if(!o)return ne(l,"Select a combat card before choosing a target.");const r=ih(l.roomSession.combatState,o);if(r)return ne(l,r);const m=Bo.get(o);if((m==null?void 0:m.kind)==="active"&&m.targeting.team==="enemy"&&!c.targetEnemyId)return ne(l,"Select a highlighted enemy target before playing that combat card.");let v="";if(c.targetEnemyId){const M=l.roomSession.combatState.enemies.find(C=>C.id===c.targetEnemyId&&C.hp>0);if(!M)return ne(l,"Selected combat target is no longer valid.");v=` on ${M.label}`}const g=Pp(l.roomSession.combatState,o,mt,c.targetEnemyId);if(g.issue)return ne(l,g.issue);const f={...l.roomSession,combatState:g.nextSession,canResolve:Gu({...l.roomSession,combatState:g.nextSession})},p={...l,roomSession:f,selectedCombatAbilityId:null,lastIssue:"",actionLog:Ge(l.actionLog,`Combat: played ${o}${v}.`)};if(f.canResolve){const M=ho(f);return oi(p,M.outcome,M.summary,M.combatReport)}return p}case"combat_end_turn":{if(l.runPhase!=="room_detail"||!l.roomSession)return ne(l,"Combat turn can only end in room detail.");if(l.roomSession.encounterKind!=="combat_stub")return ne(l,"Combat turn end is only valid in combat encounters.");if(!l.roomSession.enemyTriggered||!l.roomSession.combatState)return ne(l,"Combat has not started in this room yet.");const o=Eh(l.roomSession.combatState,mt);if(o.issue)return ne(l,o.issue);const r={...l.roomSession,combatState:o.nextSession,canResolve:Gu({...l.roomSession,combatState:o.nextSession})},m={...l,roomSession:r,selectedCombatAbilityId:null,lastIssue:"",actionLog:Ge(l.actionLog,"Combat: ended player turn.")};if(r.canResolve){const y=ho(r);return oi(m,y.outcome,y.summary,y.combatReport)}return m}case"room_complete":{if(l.runPhase!=="room_detail"||!l.roomSession)return ne(l,"Room completion is only valid in active room detail.");if(l.roomSession.encounterKind==="combat_stub"&&l.roomSession.enemyTriggered&&l.roomSession.combatState&&!l.roomSession.combatState.outcome)return ne(l,"Combat is in progress. Play combat cards to resolve the encounter.");if(!l.roomSession.canResolve)return ne(l,"Room objective not complete yet.","Room completion blocked: objective incomplete.");const o=ho(l.roomSession);return oi(l,o.outcome,o.summary,o.combatReport)}case"room_resolve":return l.runPhase!=="room_detail"||!l.roomSession?ne(l,"Room resolve is only valid in active room detail."):c.outcome==="retreat"?si({...l,roomSession:null,pendingRewards:null,lastIssue:""},{leadMessage:`Retreated from room at ${l.playerPositionKey}. Encounter remains pending.`}):oi(l,c.outcome,`Resolved room via manual override (${c.outcome}).`);case"room_exit":return l.runPhase!=="room_detail"&&l.runPhase!=="resolve_rewards"||!l.roomSession?ne(l,"Room exit is only valid while in room flow."):l.pendingRewards?{...l,runPhase:rl(l.runPhase,"resolve_rewards"),selectedCombatAbilityId:null,lastIssue:"",actionLog:Ge(l.actionLog,"Apply rewards to return to build phase.")}:si({...l,roomSession:null,pendingRewards:null,lastIssue:""},{leadMessage:`Exited room at ${l.playerPositionKey}.`});case"apply_rewards":{if(l.runPhase!=="resolve_rewards")return ne(l,"Reward application is only valid after room resolution.");const o=l.pendingRewards;return si({...l,roomSession:null,pendingRewards:null,lastIssue:""},{drawBonus:(o==null?void 0:o.drawBonus)??0,bonusStructuralCardIds:(o==null?void 0:o.bonusStructuralCardIds)??[],handCardPenalty:(o==null?void 0:o.handCardPenalty)??0,rewardLog:(o==null?void 0:o.log)??[],leadMessage:l.roomSession?`Exited room at ${l.roomSession.nodeKey}.`:void 0})}case"reset_run":{const o=Kh(l.seedCardId);return{...o,actionLog:Ge(o.actionLog,"Run reset.")}}default:return l}}function H0(l,c){const[o,r,m,y]=l,v=` ${o?"":" "} `,g=`${y?"":" "}${c}${r?"":" "}`;return`${v}
${g}
${` ${m?"":" "} `}`}function U0({cardId:l,cardType:c,openings:o,compactGlyph:r,className:m,title:y,subtitle:v}){return h.jsxs("div",{className:["structural-card-face",m].filter(Boolean).join(" "),"aria-label":`${l} face`,children:[h.jsx("span",{className:"structural-card-glyph",children:r}),h.jsx("pre",{className:"structural-card-node",children:H0(o,c==="room"?"":"")}),y?h.jsx("strong",{className:"structural-card-title",children:y}):null,v?h.jsx("span",{className:"structural-card-type",children:v}):null]})}const Ia=12,B0=new Map(mt.abilities.map(l=>[l.id,l]));function w0(l,c){return c.player.classId==="wizard"&&c.player.passiveAbilityIds.includes("wizard.arcane_efficiency")&&l.family==="arcane"?Math.max(0,l.focusCost-1):l.focusCost}function L0(l){return l==="safe_floor"?"":l==="hidden_trap"?"":l==="persistent_hazard"?"":l==="loot_container"?"":l==="puzzle_trigger"?"?":l==="enemy_trigger"?"":""}function q0(l,c){return c==="face_down"?"":c==="ghost_trap"?"!":L0(l)}function G0(l,c){return Math.abs(l.x-c.x)+Math.abs(l.y-c.y)}function Y0(l){return l.encounterKind==="loot"?"Objective: find at least 1 loot tile.":l.encounterKind==="hazard"?"Objective: reveal 4 tiles and survive.":l.encounterKind==="combat_stub"?"Objective: trigger enemy contact, then resolve combat.":"Objective: discover puzzle trigger or reveal 5 tiles."}function X0(l){if(l.encounterKind==="loot")return`Progress: loot ${l.collectedLootCount}/1`;if(l.encounterKind==="hazard")return`Progress: revealed ${l.revealedTileCount}/4`;if(l.encounterKind==="combat_stub"){if(!l.enemyTriggered)return"Progress: enemy trigger not found.";if(!l.combatState)return"Progress: combat setup pending.";if(l.combatState.outcome==="combat_victory")return"Progress: combat victory secured.";if(l.combatState.outcome==="combat_defeat")return"Progress: combat defeat sustained.";const c=l.combatState.enemies.filter(o=>o.hp>0).length;return`Progress: round ${l.combatState.round} | ${l.combatState.turnOwner} turn | enemies ${c}/${l.combatState.enemies.length}`}return l.puzzleTriggered?"Progress: puzzle trigger discovered.":`Progress: revealed ${l.revealedTileCount}/5`}function Q0({runPhase:l,roomSession:c,pendingRewards:o,damageFailThreshold:r,selectedCombatAbilityId:m,onMove:y,onComplete:v,onCombatSelectTarget:g,onCombatEndTurn:f,onRetreat:p,onExit:M,onApplyRewards:C}){const H=jh(c.layout.tiles),Y=l==="room_detail"&&c.status==="active",$=l==="resolve_rewards",X=c.encounterKind==="combat_stub",B=c.combatState,ie=Y&&X&&c.enemyTriggered&&B!==null&&B.outcome===null,Pe=c.resolvedOutcome==="trap_damage"||c.resolvedOutcome==="combat_defeat",Ce=Pe?"Room Failed":"Room Cleared",et=c.resultSummary??(c.resolvedOutcome?`Room resolved with ${c.resolvedOutcome}.`:""),gt=o?[`Draw bonus: +${o.drawBonus}`,o.bonusStructuralCardIds.length>0?`Bonus cards: ${o.bonusStructuralCardIds.join(", ")}`:"Bonus cards: none",o.handCardPenalty>0?`Hand penalty: -${o.handCardPenalty}`:"Hand penalty: none",o.woundApplied?`Wound applied; HP reset to ${o.hpResetPercent??100}%`:"Wound applied: no"]:["No pending rewards."],Ve=Math.floor((Ia-c.layout.width)/2),te=Math.floor((Ia-c.layout.height)/2),We=new Map,me=[],yt=(B==null?void 0:B.enemies.filter(z=>z.hp>0).length)??0,Ae=m?B0.get(m):void 0,Me=ie&&(Ae==null?void 0:Ae.kind)==="active"&&Ae.targeting.team==="enemy",Rt=ie&&B&&(Ae==null?void 0:Ae.kind)==="active"&&B.turnOwner==="player"&&Ae.apCost<=B.apRemaining&&w0(Ae,B)<=B.player.focus,st=!!Me&&!!Rt,nt=new Map;if(c.layout.tiles.forEach(z=>{z.forEach(w=>{if(!w)return;const K=w.x+Ve,J=w.y+te;if(K<0||K>=Ia||J<0||J>=Ia)return;const W=`${K},${J}`;We.set(W,w),me.push({key:W,stageX:K,stageY:J,tile:w})})}),ie&&B){const z=me.filter(b=>b.tile.type==="enemy_trigger").sort((b,R)=>b.stageY===R.stageY?b.stageX-R.stageX:b.stageY-R.stageY),w=me.filter(b=>b.tile.type!=="enemy_trigger"&&!b.tile.isDoorAnchor).sort((b,R)=>b.stageY===R.stageY?b.stageX-R.stageX:b.stageY-R.stageY),K=me.filter(b=>!b.tile.isDoorAnchor).sort((b,R)=>b.stageY===R.stageY?b.stageX-R.stageX:b.stageY-R.stageY),J=[...z,...w,...K],W=new Set;B.enemies.forEach((b,R)=>{const q=J.find(G=>!W.has(G.key));q&&(W.add(q.key),nt.set(q.key,{enemyId:b.id,label:b.label,hp:b.hp,maxHp:b.maxHp,defeated:b.hp<=0,order:R}))})}return h.jsxs("section",{className:"room-view-shell",children:[$?h.jsxs("section",{className:["room-result-banner",Pe?"room-result-fail":"room-result-success"].filter(Boolean).join(" "),children:[h.jsx("strong",{children:Ce}),h.jsx("p",{children:et}),Pe?h.jsx("p",{children:"This is a room-level failure, not run death. Apply rewards to continue."}):null]}):null,h.jsx("section",{className:"room-stage-grid","aria-label":"Room tile grid",children:Array.from({length:Ia*Ia}).map((z,w)=>{const K=w%Ia,J=Math.floor(w/Ia),W=We.get(`${K},${J}`);if(!W)return h.jsx("span",{className:"room-stage-cell room-stage-cell-empty","aria-hidden":"true"},`room-stage-empty-${K}-${J}`);const b={x:W.x,y:W.y},R=c.playerPosition.x===W.x&&c.playerPosition.y===W.y,q=Y&&!ie&&!R&&G0(c.playerPosition,b)===1,G=`${K},${J}`,k=nt.get(G),ee=!!k,oe=k!==void 0&&!k.defeated&&st,Ie=q||oe,Oe=R?"@":k?k.defeated?"":`${k.order%9+1}`:q0(W.type,W.state),na=k?`${k.label} HP ${Math.max(0,k.hp)}/${k.maxHp}`:`${W.type} (${W.state})`;return h.jsx("button",{type:"button",className:["room-stage-cell","room-stage-cell-button",`room-tile-${W.state}`,`room-tile-${W.type}`,W.isDoorAnchor?"room-tile-door":"",R?"room-tile-player":"",ee?"room-tile-combat-enemy":"",q?"room-tile-step-target":"",oe?"room-tile-combat-target":""].filter(Boolean).join(" "),title:na,disabled:!Ie,onClick:()=>{if(oe&&k){g(k.enemyId);return}y(b)},children:Oe},`room-stage-${K}-${J}`)})}),ie&&B?h.jsxs("section",{className:"combat-hand-panel",children:[h.jsxs("header",{className:"combat-hand-header",children:[h.jsx("h3",{children:"Combat"}),h.jsxs("p",{children:["Round ",B.round," | Turn ",B.turnOwner," | AP"," ",B.apRemaining," | Focus ",B.player.focus,"/",B.player.maxFocus]})]}),h.jsx("p",{className:"overlay-stack-preview",children:st&&(Ae==null?void 0:Ae.kind)==="active"?`Selected ${Ae.ui.shortLabel}. Click a highlighted enemy tile to play.`:"Use Q1..Q12 to choose combat cards. Enemy-target cards require a board target click."}),h.jsx("div",{className:"combat-enemy-row",children:B.enemies.map(z=>h.jsxs("article",{className:["combat-enemy-chip",z.hp<=0?"defeated":""].filter(Boolean).join(" "),children:[h.jsx("strong",{children:z.label}),h.jsxs("span",{children:["HP ",Math.max(0,z.hp),"/",z.maxHp]})]},z.id))}),h.jsx("button",{type:"button",onClick:f,disabled:B.turnOwner!=="player",children:"End Combat Turn"}),B.log.length>0?h.jsx("ul",{className:"combat-log-list",children:B.log.slice(0,8).map((z,w)=>h.jsx("li",{children:z},`${z}-${w}`))}):null]}):null,h.jsxs("section",{className:"room-view-meta",children:[h.jsxs("article",{className:"room-meta-column",children:[h.jsx("h3",{children:"Room Detail"}),h.jsxs("p",{className:"overlay-stack-preview",children:["Node ",c.nodeKey," | encounter ",c.encounterKind," | template ",c.layout.templateId]}),h.jsx("p",{className:"overlay-stack-preview",children:Y0(c)}),h.jsx("p",{className:"overlay-stack-preview",children:X0(c)})]}),h.jsxs("article",{className:"room-meta-column",children:[h.jsx("h3",{children:"Stats"}),h.jsxs("p",{className:"overlay-stack-preview",children:["Stats: revealed ",c.revealedTileCount," | loot"," ",c.collectedLootCount," | damage ",c.damageTaken,"/",r," | enemy"," ",c.enemyTriggered?"yes":"no"," | puzzle"," ",c.puzzleTriggered?"yes":"no"]}),c.combatReport?h.jsxs("p",{className:"overlay-stack-preview",children:["Combat:"," ",c.combatReport.outcome==="victory"?"victory":"defeat"," ","in ",c.combatReport.rounds," rounds | HP"," ",c.combatReport.playerRemainingHp,"/",c.combatReport.playerMaxHp," | kills"," ",c.combatReport.enemiesDefeated,"/",c.combatReport.totalEnemies]}):null,B&&!c.combatReport?h.jsxs("p",{className:"overlay-stack-preview",children:["Combat: round ",B.round," | turn ",B.turnOwner," | AP ",B.apRemaining," | focus ",B.player.focus,"/",B.player.maxFocus," | HP ",B.player.hp,"/",B.player.maxHp," | enemies ",yt,"/",B.enemies.length]}):null,h.jsxs("p",{className:"overlay-stack-preview",children:["Tile mix: F ",H.safe_floor," | T ",H.hidden_trap," | H"," ",H.persistent_hazard," | L ",H.loot_container," | P"," ",H.puzzle_trigger," | E ",H.enemy_trigger]}),h.jsxs("p",{className:"overlay-stack-preview",children:["Rewards: ",gt.join(" | ")]})]})]}),c.roomLog.length>0?h.jsx("ul",{className:"room-reward-log",children:c.roomLog.map((z,w)=>h.jsx("li",{children:z},`${z}-${w}`))}):null,h.jsxs("section",{className:"room-action-row",children:[Y?h.jsxs(h.Fragment,{children:[ie?null:h.jsx("button",{type:"button",onClick:v,disabled:!c.canResolve,title:"Complete encounter when objective is met",children:"Complete Encounter"}),h.jsx("button",{type:"button",className:"danger-button",onClick:p,children:"Retreat"})]}):null,l==="resolve_rewards"?h.jsx("button",{type:"button",onClick:C,children:"Apply Rewards"}):null,h.jsx("button",{type:"button",onClick:M,children:"Exit Room"})]})]})}const $0=[0,0,0,0],ch=280,rh="map-interaction-hint",oh="S:",sh="M:",fh=7,dh=12,K0=["0100000","1110111","1110111","1110111","0100111","0100000"],Z0={"0,1":"HEAD","1,0":"CAPE","1,1":"NECK","1,2":"MAIN","2,0":"BACK","2,1":"CHEST","2,2":"OFF","3,0":"ACC","3,1":"BELT","3,2":"ACC2","4,1":"LEGS","5,1":"BOOTS"},fi=new Map(Ao.map(l=>[l.id,l.compactGlyph])),Go=new Map(Sn.map(l=>[l.id,l])),k0=new Map(zo.map(l=>[l.modifier,l.glyph])),V0=new Map(mt.abilities.map(l=>[l.id,l])),W0={melee:"",arcane:"",support:""};function di(l){const c=Go.get(l);return c?k0.get(c.family)??"?":"?"}function I0(l){return W0[l.family]??""}function J0(l,c,o){return c==="wizard"&&o.includes("wizard.arcane_efficiency")&&l.family==="arcane"?Math.max(0,l.focusCost-1):l.focusCost}function F0(l){return l==="safe_floor"?"":l==="hidden_trap"?"":l==="persistent_hazard"?"":l==="loot_container"?"":l==="puzzle_trigger"?"?":l==="enemy_trigger"?"":""}function P0(l){return l.map(c=>c.map(o=>o?F0(o.type):" ").join("")).join(`
`)}function e1(l){const c=Number.parseInt(l.replace(/\D+/g,""),10);return!Number.isFinite(c)||c<=0?1:c}function go(l){return l==="map_build"?"MAP BUILD":l==="ai_build"?"AI BUILD":l==="travel"?"TRAVEL":l==="room_detail"?"ROOM DETAIL":l==="resolve_rewards"?"RESOLVE REWARDS":l.toUpperCase()}function t1(l,c){return l<1||l>4||c<4||c>6?null:(l-1)*3+(c-4)}function mh(l){if(l.startsWith(oh)){const c=l.slice(oh.length),o=hh(c);return o?{token:l,kind:"structural",structural:o}:void 0}if(l.startsWith(sh)){const c=l.slice(sh.length),o=Go.get(c);return o?{token:l,kind:"modifier",modifier:o}:void 0}}function a1(l){if(!(l instanceof HTMLElement))return!1;const c=l.tagName.toLowerCase();return c==="input"||c==="textarea"||c==="select"?!0:l.isContentEditable}function n1(l){const c=[l.positionKey];return l.node?c.push(`occupied ${l.node.cardType} ${l.node.cardId}`,`owner ${l.node.owner}`):c.push("empty cell"),l.modifierCount>0&&c.push(`${l.modifierCount} modifier overlay${l.modifierCount===1?"":"s"}`),l.canPlayStructural?c.push("Press Enter or Space to place selected structural card"):l.canPlayModifier?c.push("Press Enter or Space to apply selected modifier"):l.isTravelTarget?c.push("Press Enter or Space to travel here"):l.node&&c.push("Press Enter or Space to select node"),l.isSelected&&c.push("selected"),c.join(". ")}function l1(){const[l,c]=be.useReducer(j0,void 0,Kh),[o,r]=be.useState(null),[m,y]=be.useState(null),[v,g]=be.useState(!1),[f,p]=be.useState(null),[M,C]=be.useState(!1),H=be.useRef(new Map),Y=be.useRef(new Map),$=be.useRef(null),X=be.useMemo(()=>l.playerHandCardIds.map(U=>mh(U)).filter(U=>U!==void 0),[l.playerHandCardIds]),B=be.useMemo(()=>$h(l),[l]),ie=(B==null?void 0:B.kind)==="structural"?B.structural:void 0,Pe=be.useMemo(()=>ie?Do(ie.openings,l.selectedRotation):$0,[ie,l.selectedRotation]),Ce=be.useMemo(()=>Rh(l.mapState),[l.mapState]),et=be.useMemo(()=>new Set(Ce.map(U=>ht(U))),[Ce]),gt=be.useMemo(()=>ie?yo(l.mapState,ie,[l.selectedRotation]):[],[l.mapState,ie,l.selectedRotation]),Ve=be.useMemo(()=>new Set(gt.map(U=>ht(U.position))),[gt]),te=be.useMemo(()=>D0(l),[l]),We=be.useMemo(()=>new Set(te),[te]),me=l.runPhase==="map_build",yt=l.runPhase==="travel",Ae=l.runPhase==="room_detail"||l.runPhase==="resolve_rewards",Me=be.useMemo(()=>l.runPhase!=="room_detail"||!l.roomSession||l.roomSession.encounterKind!=="combat_stub"||!l.roomSession.enemyTriggered||!l.roomSession.combatState||l.roomSession.combatState.outcome!==null?null:l.roomSession.combatState,[l.runPhase,l.roomSession]),Rt=Me!==null,st=be.useMemo(()=>Me?Me.handAbilityIds.map(U=>{const L=V0.get(U);if(!L||L.kind!=="active")return null;const F=J0(L,Me.player.classId,Me.player.passiveAbilityIds),ge=Me.turnOwner==="player"&&L.apCost<=Me.apRemaining&&F<=Me.player.focus;return{abilityId:U,ability:L,focusCost:F,canPlay:ge}}).filter(U=>U!==null):[],[Me]),nt=be.useMemo(()=>l.selectedCombatAbilityId?st.find(L=>L.abilityId===l.selectedCombatAbilityId)??null:null,[st,l.selectedCombatAbilityId]),z=O0(l),w=l.lastIssue||l.actionLog[0]||`Turn ${l.turnIndex} ${go(l.runPhase)} ready.`,K=be.useMemo(()=>Object.keys(l.mapState.nodes),[l.mapState.nodes]),J=M0(l),W=N0(l),b=be.useMemo(()=>{if(!J||J.cardType!=="room")return null;const U=W.map(L=>Go.get(L)).filter(L=>L!==void 0);try{const L=Hh(J.openings,Yu,Ro(e1(J.id)),{modifiers:U}),F=jh(L.tiles),ge=[`F:${F.safe_floor}`,`T:${F.hidden_trap}`,`H:${F.persistent_hazard}`,`L:${F.loot_container}`,`P:${F.puzzle_trigger}`,`E:${F.enemy_trigger}`].join(" ");return{...L,previewGlyphRows:P0(L.tiles),tileCountSummary:ge}}catch{return null}},[J,W]),R=be.useMemo(()=>{const U=[{x:0,y:0}];Object.keys(l.mapState.nodes).forEach(ue=>{U.push(hi(ue))}),Ce.forEach(ue=>{U.push(ue)});const L=Math.min(...U.map(ue=>ue.x))-1,F=Math.max(...U.map(ue=>ue.x))+1,ge=Math.min(...U.map(ue=>ue.y))-1,Be=Math.max(...U.map(ue=>ue.y))+1;return{minX:L,maxX:F,minY:ge,maxY:Be}},[l.mapState.nodes,Ce]),q=be.useMemo(()=>{const U=fh,L=R.maxX-R.minX+1,F=R.maxY-R.minY+1,ge=hi(l.playerPositionKey);let Be=R.minX,ue=R.minY;if(L<=U)Be=R.minX-Math.floor((U-L)/2);else{const Ne=ge.x-Math.floor(U/2);Be=Math.max(R.minX,Math.min(Ne,R.maxX-U+1))}if(F<=U)ue=R.minY-Math.floor((U-F)/2);else{const Ne=ge.y-Math.floor(U/2);ue=Math.max(R.minY,Math.min(Ne,R.maxY-U+1))}const Qe=[];for(let Ne=0;Ne<U;Ne+=1){const De=[];for(let je=0;je<U;je+=1)De.push({x:Be+je,y:ue+Ne});Qe.push(De)}return Qe},[l.playerPositionKey,R]),G=be.useMemo(()=>{const U=new Set;return me&&X.forEach(L=>{if(L.kind==="structural"){yo(l.mapState,L.structural).length>0&&U.add(L.token);return}K.some(ge=>To(l,L.modifier.id,ge))&&U.add(L.token)}),U},[l,X,me,K]);be.useEffect(()=>()=>{$.current!==null&&window.clearTimeout($.current)},[]),be.useEffect(()=>{function U(){y(null),r(null)}return window.addEventListener("dragend",U),window.addEventListener("drop",U),()=>{window.removeEventListener("dragend",U),window.removeEventListener("drop",U)}},[]),be.useEffect(()=>{function U(L){if(L.repeat||a1(document.activeElement))return;const F=L.key.toLowerCase();if(F==="q"&&me){L.preventDefault(),c({type:"rotate_left"});return}if(F==="e"&&me){L.preventDefault(),c({type:"rotate_right"});return}(L.ctrlKey||L.metaKey)&&F==="enter"&&z&&(L.preventDefault(),c({type:"end_build"}))}return window.addEventListener("keydown",U),()=>{window.removeEventListener("keydown",U)}},[c,z,me]);function k(){$.current!==null&&(window.clearTimeout($.current),$.current=null)}function ee(){k(),C(!1),p(null)}function oe(U,L){if(L){H.current.set(U,L);return}H.current.delete(U)}function Ie(U,L){if(L){Y.current.set(U,L);return}Y.current.delete(U)}function Oe(U,L){if(!U)return;const F=H.current.get(U),ge=Y.current.get(L),Be=mh(U);if(!F||!ge||!Be)return;const ue=F.getBoundingClientRect(),Qe=ge.getBoundingClientRect(),Ne=ue.left+ue.width/2,De=ue.top+ue.height/2,je=Qe.left+Qe.width/2,bt=Qe.top+Qe.height/2,he=Qe.width/ue.width,ze=Math.max(.45,Math.min(.9,he)),Je={token:Be.token,kind:Be.kind,title:Be.kind==="structural"?Be.structural.id:Be.modifier.id,glyph:Be.kind==="structural"?fi.get(Be.structural.id)??"?":di(Be.modifier.id),fromLeft:ue.left,fromTop:ue.top,fromWidth:ue.width,fromHeight:ue.height,deltaX:je-Ne,deltaY:bt-De,scale:ze};k(),C(!1),p(Je),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{C(!0)})}),$.current=window.setTimeout(()=>{ee()},ch+80)}function na(U,L){return me&&(B==null?void 0:B.kind)==="structural"&&!L&&Ve.has(U)}function En(U,L){return!me||(B==null?void 0:B.kind)!=="modifier"||!L?!1:To(l,B.modifier.id,U)}function Fa(U,L){me&&(Oe(L??(B==null?void 0:B.token),ht(U)),c({type:"place_card",position:U}))}function pi(){c({type:"end_build"})}function la(){c({type:"wait_travel"})}function ol(){c({type:"rotate_left"})}function sl(){c({type:"rotate_right"})}function Ku(){c({type:"reset_run"}),r(null),y(null),ee()}function vi(U){me&&(c({type:"set_selected_card",cardId:U}),y({token:U}))}function fl(){y(null),r(null)}function dl(U,L,F){!L&&!F||(Fa(U,(m==null?void 0:m.token)??(B==null?void 0:B.token)),y(null),r(null))}function ml(U){if(U.ability.targeting.team!=="enemy"){c({type:"combat_play_card",abilityId:U.abilityId});return}c({type:"set_selected_combat_ability",abilityId:l.selectedCombatAbilityId===U.abilityId?null:U.abilityId})}function Zu(U){c({type:"combat_play_card",targetEnemyId:U})}return h.jsxs("article",{className:"map-phase-root",children:[h.jsxs("header",{className:"map-phase-header",children:[h.jsxs("div",{className:"map-phase-header-main",children:[h.jsx("h2",{children:"Play Space Prototype"}),h.jsx("p",{className:"subtitle",children:"Dark tabletop board with a unified card hand and deterministic map logic."}),h.jsxs("p",{className:"map-help-text",id:rh,children:["Map cards render in the upper-left grid. Keyboard: ",h.jsx("kbd",{children:"Q"}),"/",h.jsx("kbd",{children:"E"})," rotate during build, ",h.jsx("kbd",{children:"Enter"})," or"," ",h.jsx("kbd",{children:"Space"})," on map cells for phase actions, ",h.jsx("kbd",{children:"Ctrl"}),"+",h.jsx("kbd",{children:"Enter"})," to end build."]})]}),h.jsxs("section",{className:"table-control-strip map-header-controls",children:[h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Rotation"}),h.jsxs("div",{className:"button-row",children:[h.jsx("button",{type:"button",onClick:ol,disabled:!me,"aria-label":"Rotate selected structural card left",title:"Rotate left (Q)",children:""}),h.jsxs("strong",{children:[l.selectedRotation*90,""]}),h.jsx("button",{type:"button",onClick:sl,disabled:!me,"aria-label":"Rotate selected structural card right",title:"Rotate right (E)",children:""})]})]}),h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Map Focus"}),h.jsx("strong",{children:l.playerPositionKey}),h.jsx("p",{className:"overlay-stack-preview",children:"Upper-left grid is the active map."}),h.jsxs("p",{className:"overlay-stack-preview",children:["HP ",l.playerHpPercent,"% | Wounds"," ",l.playerWoundCount]})]}),h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Turn"}),h.jsxs("div",{className:"button-row",children:[h.jsx("strong",{children:l.turnIndex}),h.jsx("button",{type:"button",onClick:pi,disabled:!z,title:"End build (Ctrl+Enter)",children:"End Build"}),yt?h.jsx("button",{type:"button",onClick:la,title:"Wait this travel step",children:"Wait"}):null,h.jsx("button",{type:"button",className:"danger-button",onClick:Ku,title:"Reset current run",children:"Reset Run"})]})]}),h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Combat Class"}),h.jsx("select",{"aria-label":"Combat class selection",value:l.selectedCombatClassId,onChange:U=>{const L=mt.classes.find(F=>F.id===U.target.value);L&&c({type:"set_combat_class",classId:L.id})},children:mt.classes.map(U=>h.jsx("option",{value:U.id,children:U.id.toUpperCase()},`combat-class-${U.id}`))}),h.jsx("p",{className:"overlay-stack-preview",children:"Applies when new combat encounters are created."})]})]})]}),h.jsx("p",{className:"sr-only",role:"status","aria-live":"polite",children:w}),h.jsxs("section",{className:"play-stage-shell",children:[h.jsxs("aside",{className:"card-focus-left-rail",children:[h.jsx("section",{className:"half-card-grid half-card-grid-top","aria-describedby":rh,"aria-label":"Top-left map card grid",children:q.map(U=>U.map(L=>{const F=ht(L),ge=l.mapState.nodes[F],Be=!!ge,ue=Ve.has(F),Qe=et.has(F),Ne=We.has(F),De=l.playerPositionKey===F,je=o===F,bt=l.modifierStacks[F]??[],he=na(F,Be),ze=En(F,Be),Je=me&&(m==null?void 0:m.token)===(B==null?void 0:B.token)&&(B==null?void 0:B.kind)==="structural"&&he,hl=me&&(m==null?void 0:m.token)===(B==null?void 0:B.token)&&(B==null?void 0:B.kind)==="modifier"&&ze,Ft=l.selectedNodeKey===F,ku=n1({positionKey:F,node:ge,modifierCount:bt.length,canPlayStructural:he,canPlayModifier:ze,isTravelTarget:yt&&Ne,isSelected:Ft});let kt=" ";return ge?kt=fi.get(ge.cardId)??"?":me&&ie&&ue&&je?kt=fi.get(ie.id)??"":me&&ue&&(kt=""),yt&&Ne&&(kt=ge?kt:""),h.jsxs("button",{type:"button",className:["map-cell","half-map-slot",Be?"occupied":"empty",ge?`owner-${ge.owner}`:"",ue?"legal":"",Qe?"candidate":"",Ne&&yt?"travel-target":"",De?"player-position":"",he?"playable-structural":"",ze?"playable-modifier":"",Je?"drop-target-structural":"",hl?"drop-target-modifier":"",je?"hovered":"",Ft?"selected":""].filter(Boolean).join(" "),"aria-label":ku,"aria-pressed":Ft,ref:ft=>Ie(F,ft),onMouseEnter:()=>r(F),onMouseLeave:()=>r(null),onDragOver:ft=>{me&&(ft.dataTransfer.dropEffect=he||ze?"move":"none",!(!he&&!ze)&&(ft.preventDefault(),r(F)))},onDragLeave:ft=>{const Pa=ft.relatedTarget;Pa instanceof Node&&ft.currentTarget.contains(Pa)||r(null)},onDrop:ft=>{if(!me){y(null),r(null);return}if(!he&&!ze){y(null),r(null);return}ft.preventDefault(),dl(L,he,ze)},onClick:()=>{if(yt){Ne&&c({type:"travel_to",nodeKey:F});return}if(ge){c({type:"set_selected_node",nodeKey:F}),ze&&Fa(L,B==null?void 0:B.token);return}he&&Fa(L,B==null?void 0:B.token)},children:[h.jsx("span",{className:"half-map-glyph",children:kt}),De?h.jsx("span",{className:"player-pos-badge",children:"P"}):null,bt.length>0?h.jsx("span",{className:"overlay-badge",children:bt.slice(0,2).map(ft=>di(ft)).join("")}):null,h.jsx("span",{className:"coord-tag",children:F})]},`map-top-${F}`)}))}),h.jsx("section",{className:"half-card-grid half-card-grid-spacer","aria-label":"Half-card spacer row",children:Array.from({length:fh}).map((U,L)=>h.jsx("div",{className:"half-card-slot spacer"},`spacer-${L}`))}),h.jsx("section",{className:"half-card-grid half-card-grid-lower","aria-label":"Equipment and quick-use half-card grid",children:K0.flatMap((U,L)=>U.split("").map((F,ge)=>{const Be=F==="1",ue=Z0[`${L},${ge}`],Qe=t1(L,ge),Ne=Qe!==null?`Q${Qe+1}`:null,De=Qe!==null?X[Qe]:void 0,je=Qe!==null?st[Qe]:void 0,bt=ue??Ne??"";if(Rt&&je){const he=l.selectedCombatAbilityId===je.abilityId,ze=`Quick slot ${Ne}. Combat card ${je.ability.ui.shortLabel}. AP ${je.ability.apCost}, Focus ${je.focusCost}. ${je.canPlay?"Playable.":"Not playable right now."} ${he?"Selected.":"Press to select."}`;return h.jsxs("button",{type:"button",className:["half-card-slot","quick-slot","quick-slot-card","quick-hand-card",je.canPlay?"playable":"unplayable",he?"selected":""].filter(Boolean).join(" "),title:`${je.ability.ui.shortLabel} (${je.abilityId})`,onClick:()=>je.canPlay?ml(je):void 0,disabled:!je.canPlay,"aria-label":ze,"aria-disabled":!je.canPlay,"aria-pressed":he,children:[h.jsx("span",{className:"quick-hand-card-glyph",children:I0(je.ability)}),h.jsx("span",{className:"quick-hand-card-id",children:Ne})]},`lower-${L}-${ge}`)}if(!Rt&&De){const he=l.selectedCardId===De.token,ze=G.has(De.token),Je=De.kind==="structural"?fi.get(De.structural.id)??"?":di(De.modifier.id),hl=De.kind==="structural"?`Quick slot ${Ne}. Structural card ${De.structural.id}. ${ze?"Playable.":"No legal placement right now."} ${he?"Selected.":"Press to select."}`:`Quick slot ${Ne}. Modifier card ${De.modifier.id}. ${ze?"Playable.":"No valid node target right now."} ${he?"Selected.":"Press to select."}`;return h.jsxs("button",{type:"button",className:["half-card-slot","quick-slot","quick-slot-card","quick-hand-card",De.kind==="modifier"?"quick-hand-card-modifier":"",ze?"playable":"unplayable",he?"selected":"",(m==null?void 0:m.token)===De.token?"dragging":""].filter(Boolean).join(" "),draggable:ze,title:De.token,ref:Ft=>oe(De.token,Ft),onDragStart:Ft=>{Ft.dataTransfer.effectAllowed="move",Ft.dataTransfer.setData("text/plain",De.token),vi(De.token)},onDragEnd:fl,onClick:()=>c({type:"set_selected_card",cardId:De.token}),"aria-label":hl,"aria-disabled":!ze,"aria-pressed":he,children:[h.jsx("span",{className:"quick-hand-card-glyph",children:Je}),h.jsx("span",{className:"quick-hand-card-id",children:Ne})]},`lower-${L}-${ge}`)}return Qe!==null?h.jsx("div",{className:"half-card-slot quick-slot quick-slot-empty",title:`Empty ${Ne}`,children:Ne},`lower-${L}-${ge}`):h.jsx("div",{className:["half-card-slot",Be?"filled":"empty",ue?"equipment-slot":""].filter(Boolean).join(" "),title:bt||"Empty slot",children:bt},`lower-${L}-${ge}`)}))}),Rt?h.jsx("p",{className:"map-help-text",children:nt?`Selected combat card: ${nt.ability.ui.shortLabel}. Click a highlighted target on the room stage to confirm play.`:"Combat active: select a card from Q1..Q12, then click a highlighted target on the room stage."}):null]}),h.jsxs("section",{className:"play-board-stage",children:[l.lastIssue?h.jsx("p",{className:"error",children:l.lastIssue}):null,h.jsxs("section",{className:"full-card-stage-shell",children:[Ae&&l.roomSession?null:h.jsx("div",{className:"full-card-grid-bg","aria-hidden":"true",children:Array.from({length:dh*dh}).map((U,L)=>h.jsx("div",{className:"full-card-bg-cell"},`bg-${L}`))}),h.jsx("div",{className:"full-card-grid-foreground",children:Ae&&l.roomSession?h.jsx(Q0,{runPhase:l.runPhase,roomSession:l.roomSession,pendingRewards:l.pendingRewards,damageFailThreshold:Lh,selectedCombatAbilityId:l.selectedCombatAbilityId,onMove:U=>c({type:"room_move",position:U}),onComplete:()=>c({type:"room_complete"}),onCombatSelectTarget:Zu,onCombatEndTurn:()=>c({type:"combat_end_turn"}),onRetreat:()=>c({type:"room_resolve",outcome:"retreat"}),onExit:()=>c({type:"room_exit"}),onApplyRewards:()=>c({type:"apply_rewards"})}):h.jsxs("section",{className:"combat-flow-shell","aria-live":"polite",children:[h.jsxs("header",{className:"combat-flow-header",children:[h.jsx("h3",{children:"Combat Flow Stage"}),h.jsx("p",{children:"Right-side full card grid is reserved for encounter flow and room resolution visuals."})]}),h.jsxs("ul",{className:"combat-flow-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Run phase"}),h.jsx("strong",{children:go(l.runPhase)})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Current node"}),h.jsx("strong",{children:l.playerPositionKey})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Travel options"}),h.jsx("strong",{children:te.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Pending rewards"}),h.jsx("strong",{children:l.pendingRewards?`+${l.pendingRewards.drawBonus} draw`:"none"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Run vitals"}),h.jsxs("strong",{children:["HP ",l.playerHpPercent,"% | W"," ",l.playerWoundCount]})]})]}),h.jsx("p",{className:"combat-flow-note",children:"Build and travel through the upper-left map grid. Entering a triggered room opens detailed room play here."})]})})]})]})]}),h.jsx("button",{type:"button",className:["info-drawer-toggle",v?"open":""].filter(Boolean).join(" "),onClick:()=>g(U=>!U),"aria-expanded":v,"aria-controls":"run-info-drawer",children:v?"Hide HUD":"Show HUD"}),h.jsx("aside",{id:"run-info-drawer",className:["info-drawer",v?"open":""].filter(Boolean).join(" "),"aria-label":"Run details drawer",children:h.jsxs("div",{className:"info-drawer-content",children:[h.jsxs("article",{className:"status-card compact-status-card",children:[h.jsx("h3",{children:"Run Snapshot"}),h.jsxs("ul",{className:"status-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Phase"}),h.jsx("strong",{children:go(l.runPhase)})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Turn"}),h.jsx("strong",{children:l.turnIndex})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Travel targets"}),h.jsx("strong",{children:yt?te.length:0})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Player node"}),h.jsx("strong",{children:l.playerPositionKey})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Map nodes"}),h.jsx("strong",{children:K.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"HP reset level"}),h.jsxs("strong",{children:[l.playerHpPercent,"%"]})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Wounds"}),h.jsx("strong",{children:l.playerWoundCount})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Combat class"}),h.jsx("strong",{children:l.selectedCombatClassId.toUpperCase()})]})]})]}),h.jsxs("article",{className:"status-card",children:[h.jsx("h3",{children:"Selected Card"}),(B==null?void 0:B.kind)==="structural"?h.jsx("div",{className:"selected-card-preview",children:h.jsx(U0,{cardId:B.structural.id,cardType:B.structural.type,openings:Pe,compactGlyph:fi.get(B.structural.id)??"?",title:B.structural.id,subtitle:B.structural.type})}):(B==null?void 0:B.kind)==="modifier"?h.jsx("div",{className:"selected-card-preview",children:h.jsxs("div",{className:"modifier-card-face",children:[h.jsx("span",{className:"modifier-card-glyph",children:di(B.modifier.id)}),h.jsx("strong",{className:"modifier-card-title",children:B.modifier.id}),h.jsxs("span",{className:"modifier-card-target",children:["target: ",B.modifier.validTargets]})]})}):h.jsx("p",{children:"No selected card in hand."})]}),h.jsxs("article",{className:"status-card",children:[h.jsx("h3",{children:"Mode Details"}),h.jsxs("ul",{className:"status-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Selected node"}),h.jsx("strong",{children:l.selectedNodeKey??"none"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Overlay stack"}),h.jsx("strong",{children:W.length>0?W.map(U=>di(U)).join(" "):"(empty)"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Pending rewards"}),h.jsx("strong",{children:l.pendingRewards?`+${l.pendingRewards.drawBonus} draw`:"none"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Hand penalty"}),h.jsx("strong",{children:l.pendingRewards&&l.pendingRewards.handCardPenalty>0?`-${l.pendingRewards.handCardPenalty}`:"none"})]})]})]}),h.jsxs("article",{className:"status-card",children:[h.jsx("h3",{children:"Room Probe"}),(J==null?void 0:J.cardType)==="room"&&b?h.jsxs(h.Fragment,{children:[h.jsxs("ul",{className:"room-probe-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Template"}),h.jsx("strong",{children:b.templateId})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Category"}),h.jsx("strong",{children:b.category})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Bounds"}),h.jsxs("strong",{children:[b.width,"x",b.height]})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Door anchors"}),h.jsx("strong",{children:b.doorAnchors.map(U=>`${U.direction}(${U.x},${U.y})`).join(" ")})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Tile mix"}),h.jsx("strong",{children:b.tileCountSummary})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Modifier bias"}),h.jsxs("strong",{children:["T",b.tileWeights.hidden_trap,"/H",b.tileWeights.persistent_hazard,"/L",b.tileWeights.loot_container]})]})]}),h.jsx("pre",{className:"room-layout-preview",children:b.previewGlyphRows})]}):h.jsx("p",{className:"overlay-stack-preview",children:"Select a room node to preview template and mapped door anchors."})]})]})}),h.jsxs("section",{className:"panel action-log-panel",children:[h.jsx("h3",{children:"Action Log"}),h.jsx("ul",{className:"action-log",children:l.actionLog.map((U,L)=>h.jsx("li",{children:U},`${U}-${L}`))})]}),f?h.jsx("div",{className:"card-flight-layer","aria-hidden":"true",children:h.jsxs("div",{className:["card-flight",f.kind==="modifier"?"card-flight-modifier":"",M?"is-active":""].filter(Boolean).join(" "),style:{left:`${f.fromLeft}px`,top:`${f.fromTop}px`,width:`${f.fromWidth}px`,height:`${f.fromHeight}px`,"--flight-dx":`${f.deltaX}px`,"--flight-dy":`${f.deltaY}px`,"--flight-scale":`${f.scale}`,"--flight-duration":`${ch}ms`},onTransitionEnd:()=>{M&&ee()},children:[h.jsx("span",{className:"card-flight-glyph",children:f.glyph}),h.jsx("span",{className:"card-flight-title",children:f.title})]})}):null]})}function i1(l,c=""){const[o,r,m,y]=l,v=` ${o?"":" "} `,g=`${y?"":" "}${c}${r?"":" "}`;return`${v}
${g}
${` ${m?"":" "} `}`}function u1(){const l=rv();return h.jsxs("main",{className:"app-shell",children:[h.jsxs("header",{children:[h.jsx("h1",{children:"The Rouge Path Glyph Prototype"}),h.jsx("p",{className:"subtitle",children:"Unicode map connectors with unscii grid rendering."})]}),h.jsx("section",{className:"panel status-grid app-status-grid",children:h.jsxs("article",{className:"status-card",children:[h.jsx("h2",{children:"Content Pack Status"}),h.jsxs("ul",{className:"status-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Structural cards"}),h.jsx("strong",{children:Co.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Room templates"}),h.jsx("strong",{children:Yu.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Modifiers"}),h.jsx("strong",{children:Sn.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Validation"}),h.jsx("strong",{className:l.ok?"ok":"error",children:l.ok?"PASS":"FAIL"})]})]})]})}),h.jsx("section",{className:"panel",children:h.jsx(l1,{})}),h.jsxs("section",{className:"panel",children:[h.jsx("h2",{children:"Connector Legend"}),h.jsx("div",{className:"connector-grid",role:"table","aria-label":"Connector legend",children:Ao.map(c=>h.jsxs("article",{className:"connector-card",children:[h.jsx("h3",{children:c.id}),h.jsxs("p",{children:["compact: ",h.jsx("span",{className:"glyph",children:c.compactGlyph})]}),h.jsx("pre",{className:"node3x3","aria-label":`${c.id} expanded glyph`,children:i1(c.openings)})]},c.id))})]}),h.jsxs("section",{className:"panel two-col",children:[h.jsxs("article",{children:[h.jsx("h2",{children:"Room Category Glyphs"}),h.jsx("ul",{className:"legend-list",children:gh.map(c=>h.jsxs("li",{children:[h.jsx("span",{children:c.category}),h.jsx("span",{className:"glyph",children:c.glyph})]},c.category))})]}),h.jsxs("article",{children:[h.jsx("h2",{children:"Modifier Glyphs"}),h.jsx("ul",{className:"legend-list",children:zo.map(c=>h.jsxs("li",{children:[h.jsx("span",{children:c.modifier}),h.jsx("span",{className:"glyph",children:c.glyph})]},c.modifier))})]})]})]})}hp.createRoot(document.getElementById("root")).render(h.jsx(be.StrictMode,{children:h.jsx(u1,{})}));
