(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const y of m)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function o(m){const y={};return m.integrity&&(y.integrity=m.integrity),m.referrerPolicy&&(y.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?y.credentials="include":m.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function r(m){if(m.ep)return;m.ep=!0;const y=o(m);fetch(m.href,y)}})();var uo={exports:{}},ui={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function rp(){if(qm)return ui;qm=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function o(r,m,y){var v=null;if(y!==void 0&&(v=""+y),m.key!==void 0&&(v=""+m.key),"key"in m){y={};for(var g in m)g!=="key"&&(y[g]=m[g])}else y=m;return m=y.ref,{$$typeof:l,type:r,key:v,ref:m!==void 0?m:null,props:y}}return ui.Fragment=c,ui.jsx=o,ui.jsxs=o,ui}var Gm;function op(){return Gm||(Gm=1,uo.exports=rp()),uo.exports}var h=op(),co={exports:{}},F={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function sp(){if(Ym)return F;Ym=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.iterator;function Y(_){return _===null||typeof _!="object"?null:(_=U&&_[U]||_["@@iterator"],typeof _=="function"?_:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,B={};function ue(_,D,L){this.props=_,this.context=D,this.refs=B,this.updater=L||Q}ue.prototype.isReactComponent={},ue.prototype.setState=function(_,D){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,D,"setState")},ue.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function Je(){}Je.prototype=ue.prototype;function Ce(_,D,L){this.props=_,this.context=D,this.refs=B,this.updater=L||Q}var Fe=Ce.prototype=new Je;Fe.constructor=Ce,X(Fe,ue.prototype),Fe.isPureReactComponent=!0;var mt=Array.isArray;function Ve(){}var P={H:null,A:null,T:null,S:null},ke=Object.prototype.hasOwnProperty;function he(_,D,L){var q=L.ref;return{$$typeof:l,type:_,key:D,ref:q!==void 0?q:null,props:L}}function ht(_,D){return he(_.type,D,_.props)}function Ae(_){return typeof _=="object"&&_!==null&&_.$$typeof===l}function Re(_){var D={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(L){return D[L]})}var zt=/\/+/g;function ot(_,D){return typeof _=="object"&&_!==null&&_.key!=null?Re(""+_.key):D.toString(36)}function tt(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Ve,Ve):(_.status="pending",_.then(function(D){_.status==="pending"&&(_.status="fulfilled",_.value=D)},function(D){_.status==="pending"&&(_.status="rejected",_.reason=D)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function z(_,D,L,q,k){var ne=typeof _;(ne==="undefined"||ne==="boolean")&&(_=null);var ce=!1;if(_===null)ce=!0;else switch(ne){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(_.$$typeof){case l:case c:ce=!0;break;case R:return ce=_._init,z(ce(_._payload),D,L,q,k)}}if(ce)return k=k(_),ce=q===""?"."+ot(_,0):q,mt(k)?(L="",ce!=null&&(L=ce.replace(zt,"$&/")+"/"),z(k,D,L,"",function(na){return na})):k!=null&&(Ae(k)&&(k=ht(k,L+(k.key==null||_&&_.key===k.key?"":(""+k.key).replace(zt,"$&/")+"/")+ce)),D.push(k)),1;ce=0;var qe=q===""?".":q+":";if(mt(_))for(var Me=0;Me<_.length;Me++)q=_[Me],ne=qe+ot(q,Me),ce+=z(q,D,L,ne,k);else if(Me=Y(_),typeof Me=="function")for(_=Me.call(_),Me=0;!(q=_.next()).done;)q=q.value,ne=qe+ot(q,Me++),ce+=z(q,D,L,ne,k);else if(ne==="object"){if(typeof _.then=="function")return z(tt(_),D,L,q,k);throw D=String(_),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ce}function w(_,D,L){if(_==null)return _;var q=[],k=0;return z(_,q,"","",function(ne){return D.call(L,ne,k++)}),q}function K(_){if(_._status===-1){var D=_._result;D=D(),D.then(function(L){(_._status===0||_._status===-1)&&(_._status=1,_._result=L)},function(L){(_._status===0||_._status===-1)&&(_._status=2,_._result=L)}),_._status===-1&&(_._status=0,_._result=D)}if(_._status===1)return _._result.default;throw _._result}var ee=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},J={map:w,forEach:function(_,D,L){w(_,function(){D.apply(this,arguments)},L)},count:function(_){var D=0;return w(_,function(){D++}),D},toArray:function(_){return w(_,function(D){return D})||[]},only:function(_){if(!Ae(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return F.Activity=C,F.Children=J,F.Component=ue,F.Fragment=o,F.Profiler=m,F.PureComponent=Ce,F.StrictMode=r,F.Suspense=f,F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,F.__COMPILER_RUNTIME={__proto__:null,c:function(_){return P.H.useMemoCache(_)}},F.cache=function(_){return function(){return _.apply(null,arguments)}},F.cacheSignal=function(){return null},F.cloneElement=function(_,D,L){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var q=X({},_.props),k=_.key;if(D!=null)for(ne in D.key!==void 0&&(k=""+D.key),D)!ke.call(D,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&D.ref===void 0||(q[ne]=D[ne]);var ne=arguments.length-2;if(ne===1)q.children=L;else if(1<ne){for(var ce=Array(ne),qe=0;qe<ne;qe++)ce[qe]=arguments[qe+2];q.children=ce}return he(_.type,k,q)},F.createContext=function(_){return _={$$typeof:v,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:y,_context:_},_},F.createElement=function(_,D,L){var q,k={},ne=null;if(D!=null)for(q in D.key!==void 0&&(ne=""+D.key),D)ke.call(D,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(k[q]=D[q]);var ce=arguments.length-2;if(ce===1)k.children=L;else if(1<ce){for(var qe=Array(ce),Me=0;Me<ce;Me++)qe[Me]=arguments[Me+2];k.children=qe}if(_&&_.defaultProps)for(q in ce=_.defaultProps,ce)k[q]===void 0&&(k[q]=ce[q]);return he(_,ne,k)},F.createRef=function(){return{current:null}},F.forwardRef=function(_){return{$$typeof:g,render:_}},F.isValidElement=Ae,F.lazy=function(_){return{$$typeof:R,_payload:{_status:-1,_result:_},_init:K}},F.memo=function(_,D){return{$$typeof:p,type:_,compare:D===void 0?null:D}},F.startTransition=function(_){var D=P.T,L={};P.T=L;try{var q=_(),k=P.S;k!==null&&k(L,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ve,ee)}catch(ne){ee(ne)}finally{D!==null&&L.types!==null&&(D.types=L.types),P.T=D}},F.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},F.use=function(_){return P.H.use(_)},F.useActionState=function(_,D,L){return P.H.useActionState(_,D,L)},F.useCallback=function(_,D){return P.H.useCallback(_,D)},F.useContext=function(_){return P.H.useContext(_)},F.useDebugValue=function(){},F.useDeferredValue=function(_,D){return P.H.useDeferredValue(_,D)},F.useEffect=function(_,D){return P.H.useEffect(_,D)},F.useEffectEvent=function(_){return P.H.useEffectEvent(_)},F.useId=function(){return P.H.useId()},F.useImperativeHandle=function(_,D,L){return P.H.useImperativeHandle(_,D,L)},F.useInsertionEffect=function(_,D){return P.H.useInsertionEffect(_,D)},F.useLayoutEffect=function(_,D){return P.H.useLayoutEffect(_,D)},F.useMemo=function(_,D){return P.H.useMemo(_,D)},F.useOptimistic=function(_,D){return P.H.useOptimistic(_,D)},F.useReducer=function(_,D,L){return P.H.useReducer(_,D,L)},F.useRef=function(_){return P.H.useRef(_)},F.useState=function(_){return P.H.useState(_)},F.useSyncExternalStore=function(_,D,L){return P.H.useSyncExternalStore(_,D,L)},F.useTransition=function(){return P.H.useTransition()},F.version="19.2.4",F}var Xm;function xo(){return Xm||(Xm=1,co.exports=sp()),co.exports}var _e=xo(),ro={exports:{}},ci={},oo={exports:{}},so={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function fp(){return $m||($m=1,(function(l){function c(z,w){var K=z.length;z.push(w);e:for(;0<K;){var ee=K-1>>>1,J=z[ee];if(0<m(J,w))z[ee]=w,z[K]=J,K=ee;else break e}}function o(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var w=z[0],K=z.pop();if(K!==w){z[0]=K;e:for(var ee=0,J=z.length,_=J>>>1;ee<_;){var D=2*(ee+1)-1,L=z[D],q=D+1,k=z[q];if(0>m(L,K))q<J&&0>m(k,L)?(z[ee]=k,z[q]=K,ee=q):(z[ee]=L,z[D]=K,ee=D);else if(q<J&&0>m(k,K))z[ee]=k,z[q]=K,ee=q;else break e}}return w}function m(z,w){var K=z.sortIndex-w.sortIndex;return K!==0?K:z.id-w.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;l.unstable_now=function(){return y.now()}}else{var v=Date,g=v.now();l.unstable_now=function(){return v.now()-g}}var f=[],p=[],R=1,C=null,U=3,Y=!1,Q=!1,X=!1,B=!1,ue=typeof setTimeout=="function"?setTimeout:null,Je=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function Fe(z){for(var w=o(p);w!==null;){if(w.callback===null)r(p);else if(w.startTime<=z)r(p),w.sortIndex=w.expirationTime,c(f,w);else break;w=o(p)}}function mt(z){if(X=!1,Fe(z),!Q)if(o(f)!==null)Q=!0,Ve||(Ve=!0,Re());else{var w=o(p);w!==null&&tt(mt,w.startTime-z)}}var Ve=!1,P=-1,ke=5,he=-1;function ht(){return B?!0:!(l.unstable_now()-he<ke)}function Ae(){if(B=!1,Ve){var z=l.unstable_now();he=z;var w=!0;try{e:{Q=!1,X&&(X=!1,Je(P),P=-1),Y=!0;var K=U;try{t:{for(Fe(z),C=o(f);C!==null&&!(C.expirationTime>z&&ht());){var ee=C.callback;if(typeof ee=="function"){C.callback=null,U=C.priorityLevel;var J=ee(C.expirationTime<=z);if(z=l.unstable_now(),typeof J=="function"){C.callback=J,Fe(z),w=!0;break t}C===o(f)&&r(f),Fe(z)}else r(f);C=o(f)}if(C!==null)w=!0;else{var _=o(p);_!==null&&tt(mt,_.startTime-z),w=!1}}break e}finally{C=null,U=K,Y=!1}w=void 0}}finally{w?Re():Ve=!1}}}var Re;if(typeof Ce=="function")Re=function(){Ce(Ae)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,ot=zt.port2;zt.port1.onmessage=Ae,Re=function(){ot.postMessage(null)}}else Re=function(){ue(Ae,0)};function tt(z,w){P=ue(function(){z(l.unstable_now())},w)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return U},l.unstable_next=function(z){switch(U){case 1:case 2:case 3:var w=3;break;default:w=U}var K=U;U=w;try{return z()}finally{U=K}},l.unstable_requestPaint=function(){B=!0},l.unstable_runWithPriority=function(z,w){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=U;U=z;try{return w()}finally{U=K}},l.unstable_scheduleCallback=function(z,w,K){var ee=l.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,z={id:R++,callback:w,priorityLevel:z,startTime:K,expirationTime:J,sortIndex:-1},K>ee?(z.sortIndex=K,c(p,z),o(f)===null&&z===o(p)&&(X?(Je(P),P=-1):X=!0,tt(mt,K-ee))):(z.sortIndex=J,c(f,z),Q||Y||(Q=!0,Ve||(Ve=!0,Re()))),z},l.unstable_shouldYield=ht,l.unstable_wrapCallback=function(z){var w=U;return function(){var K=U;U=w;try{return z.apply(this,arguments)}finally{U=K}}}})(so)),so}var Qm;function dp(){return Qm||(Qm=1,oo.exports=fp()),oo.exports}var fo={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function mp(){if(Km)return st;Km=1;var l=xo();function c(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)p+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(c(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function y(f,p,R){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:C==null?null:""+C,children:f,containerInfo:p,implementation:R}}var v=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,st.createPortal=function(f,p){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(c(299));return y(f,p,null,R)},st.flushSync=function(f){var p=v.T,R=r.p;try{if(v.T=null,r.p=2,f)return f()}finally{v.T=p,r.p=R,r.d.f()}},st.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},st.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},st.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var R=p.as,C=g(R,p.crossOrigin),U=typeof p.integrity=="string"?p.integrity:void 0,Y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;R==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:U,fetchPriority:Y}):R==="script"&&r.d.X(f,{crossOrigin:C,integrity:U,fetchPriority:Y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},st.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var R=g(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},st.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var R=p.as,C=g(R,p.crossOrigin);r.d.L(f,R,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},st.preloadModule=function(f,p){if(typeof f=="string")if(p){var R=g(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},st.requestFormReset=function(f){r.d.r(f)},st.unstable_batchedUpdates=function(f,p){return f(p)},st.useFormState=function(f,p,R){return v.H.useFormState(f,p,R)},st.useFormStatus=function(){return v.H.useHostTransitionStatus()},st.version="19.2.4",st}var Zm;function hp(){if(Zm)return fo.exports;Zm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),fo.exports=mp(),fo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function gp(){if(Vm)return ci;Vm=1;var l=dp(),c=xo(),o=hp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(y(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var u=i.alternate;if(u===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===a)return f(i),e;if(u===n)return f(i),t;u=u.sibling}throw Error(r(188))}if(a.return!==n.return)a=i,n=u;else{for(var s=!1,d=i.child;d;){if(d===a){s=!0,a=i,n=u;break}if(d===n){s=!0,n=i,a=u;break}d=d.sibling}if(!s){for(d=u.child;d;){if(d===a){s=!0,a=u,n=i;break}if(d===n){s=!0,n=u,a=i;break}d=d.sibling}if(!s)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,U=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),Je=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case ue:return"Profiler";case B:return"StrictMode";case mt:return"Suspense";case Ve:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case Ce:return e.displayName||"Context";case Je:return(e._context.displayName||"Context")+".Consumer";case Fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:ot(e.type)||"Memo";case ke:t=e._payload,e=e._init;try{return ot(e(t))}catch{}}return null}var tt=Array.isArray,z=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ee=[],J=-1;function _(e){return{current:e}}function D(e){0>J||(e.current=ee[J],ee[J]=null,J--)}function L(e,t){J++,ee[J]=e.current,e.current=t}var q=_(null),k=_(null),ne=_(null),ce=_(null);function qe(e,t){switch(L(ne,t),L(k,e),L(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rm(t),e=om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(q),L(q,e)}function Me(){D(q),D(k),D(ne)}function na(e){e.memoizedState!==null&&L(ce,e);var t=q.current,a=om(t,e.type);t!==a&&(L(k,e),L(q,a))}function bn(e){k.current===e&&(D(q),D(k)),ce.current===e&&(D(ce),ai._currentValue=K)}var rl,pi;function Vt(e){if(rl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);rl=t&&t[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rl+e+pi}var ol=!1;function sl(e,t){if(!e||ol)return"";ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(M){var A=M}Reflect.construct(e,[],H)}else{try{H.call()}catch(M){A=M}e.call(H.prototype)}}else{try{throw Error()}catch(M){A=M}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(M){if(M&&A&&typeof M.stack=="string")return[M.stack,A.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),s=u[0],d=u[1];if(s&&d){var b=s.split(`
`),x=d.split(`
`);for(i=n=0;n<b.length&&!b[n].includes("DetermineComponentFrameRoot");)n++;for(;i<x.length&&!x[i].includes("DetermineComponentFrameRoot");)i++;if(n===b.length||i===x.length)for(n=b.length-1,i=x.length-1;1<=n&&0<=i&&b[n]!==x[i];)i--;for(;1<=n&&0<=i;n--,i--)if(b[n]!==x[i]){if(n!==1||i!==1)do if(n--,i--,0>i||b[n]!==x[i]){var O=`
`+b[n].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=n&&0<=i);break}}}finally{ol=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Vt(a):""}function Qu(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return sl(e.type,!1);case 11:return sl(e.type.render,!1);case 1:return sl(e.type,!0);case 31:return Vt("Activity");default:return""}}function vi(e){try{var t="",a=null;do t+=Qu(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var fl=Object.prototype.hasOwnProperty,dl=l.unstable_scheduleCallback,ml=l.unstable_cancelCallback,Ku=l.unstable_shouldYield,Zu=l.unstable_requestPaint,gt=l.unstable_now,N=l.unstable_getCurrentPriorityLevel,G=l.unstable_ImmediatePriority,V=l.unstable_UserBlockingPriority,le=l.unstable_NormalPriority,ge=l.unstable_LowPriority,re=l.unstable_IdlePriority,at=l.log,He=l.unstable_setDisableYieldValue,Xe=null,Ue=null;function vt(e){if(typeof at=="function"&&He(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Xe,e)}catch{}}var Oe=Math.clz32?Math.clz32:Vu,Bt=Math.log,hl=Math.LN2;function Vu(e){return e>>>=0,e===0?32:31-(Bt(e)/hl|0)|0}var Ca=256,Sn=262144,kt=4194304;function We(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fa(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,u=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var d=n&134217727;return d!==0?(n=d&~u,n!==0?i=We(n):(s&=d,s!==0?i=We(s):a||(a=d&~e,a!==0&&(i=We(a))))):(d=n&~u,d!==0?i=We(d):s!==0?i=We(s):a||(a=n&~e,a!==0&&(i=We(a)))),i===0?0:t!==0&&t!==i&&(t&u)===0&&(u=i&-i,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:i}function gl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var e=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),e}function ku(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function yl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,t,a,n,i,u){var s=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var d=e.entanglements,b=e.expirationTimes,x=e.hiddenUpdates;for(a=s&~a;0<a;){var O=31-Oe(a),H=1<<O;d[O]=0,b[O]=-1;var A=x[O];if(A!==null)for(x[O]=null,O=0;O<A.length;O++){var M=A[O];M!==null&&(M.lane&=-536870913)}a&=~H}n!==0&&$o(e,n,0),u!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=u&~(s&~t))}function $o(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Oe(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Qo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Oe(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Ko(e,t){var a=t&-t;return a=(a&42)!==0?1:Wu(a),(a&(e.suspendedLanes|t))!==0?0:a}function Wu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Iu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zo(){var e=w.p;return e!==0?e:(e=window.event,e===void 0?32:Om(e.type))}function Vo(e,t){var a=w.p;try{return w.p=e,t()}finally{w.p=a}}var Aa=Math.random().toString(36).slice(2),nt="__reactFiber$"+Aa,_t="__reactProps$"+Aa,En="__reactContainer$"+Aa,Ju="__reactEvents$"+Aa,Jh="__reactListeners$"+Aa,Fh="__reactHandles$"+Aa,ko="__reactResources$"+Aa,pl="__reactMarker$"+Aa;function Fu(e){delete e[nt],delete e[_t],delete e[Ju],delete e[Jh],delete e[Fh]}function Tn(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[En]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ym(e);e!==null;){if(a=e[nt])return a;e=ym(e)}return t}e=a,a=e.parentNode}return null}function xn(e){if(e=e[nt]||e[En]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Cn(e){var t=e[ko];return t||(t=e[ko]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[pl]=!0}var Wo=new Set,Io={};function Pa(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(Io[e]=t,e=0;e<t.length;e++)Wo.add(t[e])}var Ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Fo={};function eg(e){return fl.call(Fo,e)?!0:fl.call(Jo,e)?!1:Ph.test(e)?Fo[e]=!0:(Jo[e]=!0,!1)}function _i(e,t,a){if(eg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function bi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function la(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Po(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tg(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){a=""+s,u.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pu(e){if(!e._valueTracker){var t=Po(e)?"checked":"value";e._valueTracker=tg(e,t,""+e[t])}}function es(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Po(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ag=/[\n"\\]/g;function wt(e){return e.replace(ag,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ec(e,t,a,n,i,u,s,d){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?tc(e,s,Lt(t)):a!=null?tc(e,s,Lt(a)):n!=null&&e.removeAttribute("value"),i==null&&u!=null&&(e.defaultChecked=!!u),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Lt(d):e.removeAttribute("name")}function ts(e,t,a,n,i,u,s,d){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Pu(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,d||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=d?e.checked:!!n,e.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Pu(e)}function tc(e,t,a){t==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function as(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function ns(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(r(92));if(tt(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Pu(e)}function Rn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ls(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ng.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function is(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&ls(e,i,n)}else for(var u in t)t.hasOwnProperty(u)&&ls(e,u,t[u])}function ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(e){return ig.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ia(){}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mn=null,Nn=null;function us(e){var t=xn(e);if(t&&(e=t.stateNode)){var a=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(ec(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[_t]||null;if(!i)throw Error(r(90));ec(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&es(n)}break e;case"textarea":as(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zn(e,!!a.multiple,t,!1)}}}var ic=!1;function cs(e,t,a){if(ic)return e(t,a);ic=!0;try{var n=e(t);return n}finally{if(ic=!1,(Mn!==null||Nn!==null)&&(ou(),Mn&&(t=Mn,e=Nn,Nn=Mn=null,us(t),e)))for(t=0;t<e.length;t++)us(e[t])}}function _l(e,t){var a=e.stateNode;if(a===null)return null;var n=a[_t]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(ua)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){uc=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{uc=!1}var za=null,cc=null,Ti=null;function rs(){if(Ti)return Ti;var e,t=cc,a=t.length,n,i="value"in za?za.value:za.textContent,u=i.length;for(e=0;e<a&&t[e]===i[e];e++);var s=a-e;for(n=1;n<=s&&t[a-n]===i[u-n];n++);return Ti=i.slice(e,1<n?1-n:void 0)}function xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function os(){return!1}function bt(e){function t(a,n,i,u,s){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=u,this.target=s,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(a=e[d],this[d]=a?a(u):u[d]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ci:os,this.isPropagationStopped=os,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=bt(en),Sl=C({},en,{view:0,detail:0}),ug=bt(Sl),rc,oc,El,zi=C({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==El&&(El&&e.type==="mousemove"?(rc=e.screenX-El.screenX,oc=e.screenY-El.screenY):oc=rc=0,El=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),ss=bt(zi),cg=C({},zi,{dataTransfer:0}),rg=bt(cg),og=C({},Sl,{relatedTarget:0}),sc=bt(og),sg=C({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=bt(sg),dg=C({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mg=bt(dg),hg=C({},en,{data:0}),fs=bt(hg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pg[e])?!!t[e]:!1}function fc(){return vg}var _g=C({},Sl,{key:function(e){if(e.key){var t=gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bg=bt(_g),Sg=C({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=bt(Sg),Eg=C({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),Tg=bt(Eg),xg=C({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=bt(xg),Ag=C({},zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zg=bt(Ag),Rg=C({},en,{newState:0,oldState:0}),Mg=bt(Rg),Ng=[9,13,27,32],dc=ua&&"CompositionEvent"in window,Tl=null;ua&&"documentMode"in document&&(Tl=document.documentMode);var Dg=ua&&"TextEvent"in window&&!Tl,ms=ua&&(!dc||Tl&&8<Tl&&11>=Tl),hs=" ",gs=!1;function ys(e,t){switch(e){case"keyup":return Ng.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ps(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Og(e,t){switch(e){case"compositionend":return ps(t);case"keypress":return t.which!==32?null:(gs=!0,hs);case"textInput":return e=t.data,e===hs&&gs?null:e;default:return null}}function jg(e,t){if(Dn)return e==="compositionend"||!dc&&ys(e,t)?(e=rs(),Ti=cc=za=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ms&&t.locale!=="ko"?null:t.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hg[e.type]:t==="textarea"}function _s(e,t,a,n){Mn?Nn?Nn.push(n):Nn=[n]:Mn=n,t=yu(t,"onChange"),0<t.length&&(a=new Ai("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var xl=null,Cl=null;function Ug(e){am(e,0)}function Ri(e){var t=vl(e);if(es(t))return e}function bs(e,t){if(e==="change")return t}var Ss=!1;if(ua){var mc;if(ua){var hc="oninput"in document;if(!hc){var Es=document.createElement("div");Es.setAttribute("oninput","return;"),hc=typeof Es.oninput=="function"}mc=hc}else mc=!1;Ss=mc&&(!document.documentMode||9<document.documentMode)}function Ts(){xl&&(xl.detachEvent("onpropertychange",xs),Cl=xl=null)}function xs(e){if(e.propertyName==="value"&&Ri(Cl)){var t=[];_s(t,Cl,e,lc(e)),cs(Ug,t)}}function Bg(e,t,a){e==="focusin"?(Ts(),xl=t,Cl=a,xl.attachEvent("onpropertychange",xs)):e==="focusout"&&Ts()}function Lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Cl)}function wg(e,t){if(e==="click")return Ri(t)}function qg(e,t){if(e==="input"||e==="change")return Ri(t)}function Gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Gg;function Al(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!fl.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function Cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function As(e,t){var a=Cs(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cs(a)}}function zs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Si(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Si(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yg=ua&&"documentMode"in document&&11>=document.documentMode,On=null,yc=null,zl=null,pc=!1;function Ms(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pc||On==null||On!==Si(n)||(n=On,"selectionStart"in n&&gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zl&&Al(zl,n)||(zl=n,n=yu(yc,"onSelect"),0<n.length&&(t=new Ai("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=On)))}function tn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var jn={animationend:tn("Animation","AnimationEnd"),animationiteration:tn("Animation","AnimationIteration"),animationstart:tn("Animation","AnimationStart"),transitionrun:tn("Transition","TransitionRun"),transitionstart:tn("Transition","TransitionStart"),transitioncancel:tn("Transition","TransitionCancel"),transitionend:tn("Transition","TransitionEnd")},vc={},Ns={};ua&&(Ns=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function an(e){if(vc[e])return vc[e];if(!jn[e])return e;var t=jn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ns)return vc[e]=t[a];return e}var Ds=an("animationend"),Os=an("animationiteration"),js=an("animationstart"),Xg=an("transitionrun"),$g=an("transitionstart"),Qg=an("transitioncancel"),Hs=an("transitionend"),Us=new Map,_c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_c.push("scrollEnd");function Wt(e,t){Us.set(e,t),Pa(t,[e])}var Mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Hn=0,bc=0;function Ni(){for(var e=Hn,t=bc=Hn=0;t<e;){var a=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var i=qt[t];qt[t++]=null;var u=qt[t];if(qt[t++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}u!==0&&Bs(a,i,u)}}function Di(e,t,a,n){qt[Hn++]=e,qt[Hn++]=t,qt[Hn++]=a,qt[Hn++]=n,bc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Sc(e,t,a,n){return Di(e,t,a,n),Oi(e)}function nn(e,t){return Di(e,null,null,t),Oi(e)}function Bs(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,u=e.return;u!==null;)u.childLanes|=a,n=u.alternate,n!==null&&(n.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(i=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,i&&t!==null&&(i=31-Oe(a),e=u.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),u):null}function Oi(e){if(50<Wl)throw Wl=0,Nr=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Un={};function Kg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,a,n){return new Kg(e,t,a,n)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var a=e.alternate;return a===null?(a=Mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ls(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ji(e,t,a,n,i,u){var s=0;if(n=e,typeof e=="function")Ec(e)&&(s=1);else if(typeof e=="string")s=Iy(e,a,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=Mt(31,a,t,i),e.elementType=he,e.lanes=u,e;case X:return ln(a.children,i,u,t);case B:s=8,i|=24;break;case ue:return e=Mt(12,a,t,i|2),e.elementType=ue,e.lanes=u,e;case mt:return e=Mt(13,a,t,i),e.elementType=mt,e.lanes=u,e;case Ve:return e=Mt(19,a,t,i),e.elementType=Ve,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:s=10;break e;case Je:s=9;break e;case Fe:s=11;break e;case P:s=14;break e;case ke:s=16,n=null;break e}s=29,a=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=Mt(s,a,t,i),t.elementType=e,t.type=n,t.lanes=u,t}function ln(e,t,a,n){return e=Mt(7,e,n,t),e.lanes=a,e}function Tc(e,t,a){return e=Mt(6,e,null,t),e.lanes=a,e}function ws(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function xc(e,t,a){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qs=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=qs.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vi(t)},qs.set(e,t),t)}return{value:e,source:t,stack:vi(t)}}var Bn=[],Ln=0,Hi=null,Rl=0,Yt=[],Xt=0,Ra=null,Pt=1,ea="";function ra(e,t){Bn[Ln++]=Rl,Bn[Ln++]=Hi,Hi=e,Rl=t}function Gs(e,t,a){Yt[Xt++]=Pt,Yt[Xt++]=ea,Yt[Xt++]=Ra,Ra=e;var n=Pt;e=ea;var i=32-Oe(n)-1;n&=~(1<<i),a+=1;var u=32-Oe(t)+i;if(30<u){var s=i-i%5;u=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Pt=1<<32-Oe(t)+i|a<<i|n,ea=u+e}else Pt=1<<u|a<<i|n,ea=e}function Cc(e){e.return!==null&&(ra(e,1),Gs(e,1,0))}function Ac(e){for(;e===Hi;)Hi=Bn[--Ln],Bn[Ln]=null,Rl=Bn[--Ln],Bn[Ln]=null;for(;e===Ra;)Ra=Yt[--Xt],Yt[Xt]=null,ea=Yt[--Xt],Yt[Xt]=null,Pt=Yt[--Xt],Yt[Xt]=null}function Ys(e,t){Yt[Xt++]=Pt,Yt[Xt++]=ea,Yt[Xt++]=Ra,Pt=t.id,ea=t.overflow,Ra=e}var lt=null,Ne=null,me=!1,Ma=null,$t=!1,zc=Error(r(519));function Na(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(Gt(t,e)),zc}function Xs(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[nt]=e,t[_t]=n,a){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(a=0;a<Jl.length;a++)se(Jl[a],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),ts(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),ns(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||um(t.textContent,a)?(n.popover!=null&&(se("beforetoggle",t),se("toggle",t)),n.onScroll!=null&&se("scroll",t),n.onScrollEnd!=null&&se("scrollend",t),n.onClick!=null&&(t.onclick=ia),t=!0):t=!1,t||Na(e,!0)}function $s(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:lt=lt.return}}function wn(e){if(e!==lt)return!1;if(!me)return $s(e),me=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Kr(e.type,e.memoizedProps)),a=!a),a&&Ne&&Na(e),$s(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ne=gm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ne=gm(e)}else t===27?(t=Ne,Qa(e.type)?(e=Ir,Ir=null,Ne=e):Ne=t):Ne=lt?Kt(e.stateNode.nextSibling):null;return!0}function un(){Ne=lt=null,me=!1}function Rc(){var e=Ma;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Ma=null),e}function Ml(e){Ma===null?Ma=[e]:Ma.push(e)}var Mc=_(null),cn=null,oa=null;function Da(e,t,a){L(Mc,t._currentValue),t._currentValue=a}function sa(e){e._currentValue=Mc.current,D(Mc)}function Nc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Dc(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){var s=i.child;u=u.firstContext;e:for(;u!==null;){var d=u;u=i;for(var b=0;b<t.length;b++)if(d.context===t[b]){u.lanes|=a,d=u.alternate,d!==null&&(d.lanes|=a),Nc(u.return,a,e),n||(s=null);break e}u=d.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(r(341));s.lanes|=a,u=s.alternate,u!==null&&(u.lanes|=a),Nc(s,a,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function qn(e,t,a,n){e=null;for(var i=t,u=!1;i!==null;){if(!u){if((i.flags&524288)!==0)u=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(r(387));if(s=s.memoizedProps,s!==null){var d=i.type;Rt(i.pendingProps.value,s.value)||(e!==null?e.push(d):e=[d])}}else if(i===ce.current){if(s=i.alternate,s===null)throw Error(r(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ai):e=[ai])}i=i.return}e!==null&&Dc(t,e,a,n),t.flags|=262144}function Ui(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rn(e){cn=e,oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Qs(cn,e)}function Bi(e,t){return cn===null&&rn(e),Qs(e,t)}function Qs(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},oa===null){if(e===null)throw Error(r(308));oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oa=oa.next=t;return a}var Zg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Vg=l.unstable_scheduleCallback,kg=l.unstable_NormalPriority,$e={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Zg,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&Vg(kg,function(){e.controller.abort()})}var Dl=null,jc=0,Gn=0,Yn=null;function Wg(e,t){if(Dl===null){var a=Dl=[];jc=0,Gn=Br(),Yn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return jc++,t.then(Ks,Ks),t}function Ks(){if(--jc===0&&Dl!==null){Yn!==null&&(Yn.status="fulfilled");var e=Dl;Dl=null,Gn=0,Yn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ig(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Zs=z.S;z.S=function(e,t){Nd=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wg(e,t),Zs!==null&&Zs(e,t)};var on=_(null);function Hc(){var e=on.current;return e!==null?e:ze.pooledCache}function Li(e,t){t===null?L(on,on.current):L(on,t.pool)}function Vs(){var e=Hc();return e===null?null:{parent:$e._currentValue,pool:e}}var Xn=Error(r(460)),Uc=Error(r(474)),wi=Error(r(542)),qi={then:function(){}};function ks(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ws(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ia,ia),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Js(e),e;default:if(typeof t.status=="string")t.then(ia,ia);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Js(e),e}throw fn=t,Xn}}function sn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fn=a,Xn):a}}var fn=null;function Is(){if(fn===null)throw Error(r(459));var e=fn;return fn=null,e}function Js(e){if(e===Xn||e===wi)throw Error(r(483))}var $n=null,Ol=0;function Gi(e){var t=Ol;return Ol+=1,$n===null&&($n=[]),Ws($n,e,t)}function jl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yi(e,t){throw t.$$typeof===U?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fs(e){function t(E,S){if(e){var T=E.deletions;T===null?(E.deletions=[S],E.flags|=16):T.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)t(E,S),S=S.sibling;return null}function n(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(E,S){return E=ca(E,S),E.index=0,E.sibling=null,E}function u(E,S,T){return E.index=T,e?(T=E.alternate,T!==null?(T=T.index,T<S?(E.flags|=67108866,S):T):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function s(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function d(E,S,T,j){return S===null||S.tag!==6?(S=Tc(T,E.mode,j),S.return=E,S):(S=i(S,T),S.return=E,S)}function b(E,S,T,j){var W=T.type;return W===X?O(E,S,T.props.children,j,T.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ke&&sn(W)===S.type)?(S=i(S,T.props),jl(S,T),S.return=E,S):(S=ji(T.type,T.key,T.props,null,E.mode,j),jl(S,T),S.return=E,S)}function x(E,S,T,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=xc(T,E.mode,j),S.return=E,S):(S=i(S,T.children||[]),S.return=E,S)}function O(E,S,T,j,W){return S===null||S.tag!==7?(S=ln(T,E.mode,j,W),S.return=E,S):(S=i(S,T),S.return=E,S)}function H(E,S,T){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Tc(""+S,E.mode,T),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Y:return T=ji(S.type,S.key,S.props,null,E.mode,T),jl(T,S),T.return=E,T;case Q:return S=xc(S,E.mode,T),S.return=E,S;case ke:return S=sn(S),H(E,S,T)}if(tt(S)||Re(S))return S=ln(S,E.mode,T,null),S.return=E,S;if(typeof S.then=="function")return H(E,Gi(S),T);if(S.$$typeof===Ce)return H(E,Bi(E,S),T);Yi(E,S)}return null}function A(E,S,T,j){var W=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return W!==null?null:d(E,S,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Y:return T.key===W?b(E,S,T,j):null;case Q:return T.key===W?x(E,S,T,j):null;case ke:return T=sn(T),A(E,S,T,j)}if(tt(T)||Re(T))return W!==null?null:O(E,S,T,j,null);if(typeof T.then=="function")return A(E,S,Gi(T),j);if(T.$$typeof===Ce)return A(E,S,Bi(E,T),j);Yi(E,T)}return null}function M(E,S,T,j,W){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return E=E.get(T)||null,d(S,E,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return E=E.get(j.key===null?T:j.key)||null,b(S,E,j,W);case Q:return E=E.get(j.key===null?T:j.key)||null,x(S,E,j,W);case ke:return j=sn(j),M(E,S,T,j,W)}if(tt(j)||Re(j))return E=E.get(T)||null,O(S,E,j,W,null);if(typeof j.then=="function")return M(E,S,T,Gi(j),W);if(j.$$typeof===Ce)return M(E,S,T,Bi(S,j),W);Yi(S,j)}return null}function $(E,S,T,j){for(var W=null,ye=null,Z=S,ie=S=0,de=null;Z!==null&&ie<T.length;ie++){Z.index>ie?(de=Z,Z=null):de=Z.sibling;var pe=A(E,Z,T[ie],j);if(pe===null){Z===null&&(Z=de);break}e&&Z&&pe.alternate===null&&t(E,Z),S=u(pe,S,ie),ye===null?W=pe:ye.sibling=pe,ye=pe,Z=de}if(ie===T.length)return a(E,Z),me&&ra(E,ie),W;if(Z===null){for(;ie<T.length;ie++)Z=H(E,T[ie],j),Z!==null&&(S=u(Z,S,ie),ye===null?W=Z:ye.sibling=Z,ye=Z);return me&&ra(E,ie),W}for(Z=n(Z);ie<T.length;ie++)de=M(Z,E,ie,T[ie],j),de!==null&&(e&&de.alternate!==null&&Z.delete(de.key===null?ie:de.key),S=u(de,S,ie),ye===null?W=de:ye.sibling=de,ye=de);return e&&Z.forEach(function(Wa){return t(E,Wa)}),me&&ra(E,ie),W}function I(E,S,T,j){if(T==null)throw Error(r(151));for(var W=null,ye=null,Z=S,ie=S=0,de=null,pe=T.next();Z!==null&&!pe.done;ie++,pe=T.next()){Z.index>ie?(de=Z,Z=null):de=Z.sibling;var Wa=A(E,Z,pe.value,j);if(Wa===null){Z===null&&(Z=de);break}e&&Z&&Wa.alternate===null&&t(E,Z),S=u(Wa,S,ie),ye===null?W=Wa:ye.sibling=Wa,ye=Wa,Z=de}if(pe.done)return a(E,Z),me&&ra(E,ie),W;if(Z===null){for(;!pe.done;ie++,pe=T.next())pe=H(E,pe.value,j),pe!==null&&(S=u(pe,S,ie),ye===null?W=pe:ye.sibling=pe,ye=pe);return me&&ra(E,ie),W}for(Z=n(Z);!pe.done;ie++,pe=T.next())pe=M(Z,E,ie,pe.value,j),pe!==null&&(e&&pe.alternate!==null&&Z.delete(pe.key===null?ie:pe.key),S=u(pe,S,ie),ye===null?W=pe:ye.sibling=pe,ye=pe);return e&&Z.forEach(function(cp){return t(E,cp)}),me&&ra(E,ie),W}function xe(E,S,T,j){if(typeof T=="object"&&T!==null&&T.type===X&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Y:e:{for(var W=T.key;S!==null;){if(S.key===W){if(W=T.type,W===X){if(S.tag===7){a(E,S.sibling),j=i(S,T.props.children),j.return=E,E=j;break e}}else if(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ke&&sn(W)===S.type){a(E,S.sibling),j=i(S,T.props),jl(j,T),j.return=E,E=j;break e}a(E,S);break}else t(E,S);S=S.sibling}T.type===X?(j=ln(T.props.children,E.mode,j,T.key),j.return=E,E=j):(j=ji(T.type,T.key,T.props,null,E.mode,j),jl(j,T),j.return=E,E=j)}return s(E);case Q:e:{for(W=T.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){a(E,S.sibling),j=i(S,T.children||[]),j.return=E,E=j;break e}else{a(E,S);break}else t(E,S);S=S.sibling}j=xc(T,E.mode,j),j.return=E,E=j}return s(E);case ke:return T=sn(T),xe(E,S,T,j)}if(tt(T))return $(E,S,T,j);if(Re(T)){if(W=Re(T),typeof W!="function")throw Error(r(150));return T=W.call(T),I(E,S,T,j)}if(typeof T.then=="function")return xe(E,S,Gi(T),j);if(T.$$typeof===Ce)return xe(E,S,Bi(E,T),j);Yi(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,S!==null&&S.tag===6?(a(E,S.sibling),j=i(S,T),j.return=E,E=j):(a(E,S),j=Tc(T,E.mode,j),j.return=E,E=j),s(E)):a(E,S)}return function(E,S,T,j){try{Ol=0;var W=xe(E,S,T,j);return $n=null,W}catch(Z){if(Z===Xn||Z===wi)throw Z;var ye=Mt(29,Z,null,E.mode);return ye.lanes=j,ye.return=E,ye}finally{}}}var dn=Fs(!0),Ps=Fs(!1),Oa=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ve&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Oi(e),Bs(e,null,a),t}return Di(e,n,t,a),Oi(e)}function Hl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Qo(e,a)}}function wc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var s={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?i=u=s:u=u.next=s,a=a.next}while(a!==null);u===null?i=u=t:u=u.next=t}else i=u=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var qc=!1;function Ul(){if(qc){var e=Yn;if(e!==null)throw e}}function Bl(e,t,a,n){qc=!1;var i=e.updateQueue;Oa=!1;var u=i.firstBaseUpdate,s=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var b=d,x=b.next;b.next=null,s===null?u=x:s.next=x,s=b;var O=e.alternate;O!==null&&(O=O.updateQueue,d=O.lastBaseUpdate,d!==s&&(d===null?O.firstBaseUpdate=x:d.next=x,O.lastBaseUpdate=b))}if(u!==null){var H=i.baseState;s=0,O=x=b=null,d=u;do{var A=d.lane&-536870913,M=A!==d.lane;if(M?(fe&A)===A:(n&A)===A){A!==0&&A===Gn&&(qc=!0),O!==null&&(O=O.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var $=e,I=d;A=t;var xe=a;switch(I.tag){case 1:if($=I.payload,typeof $=="function"){H=$.call(xe,H,A);break e}H=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=I.payload,A=typeof $=="function"?$.call(xe,H,A):$,A==null)break e;H=C({},H,A);break e;case 2:Oa=!0}}A=d.callback,A!==null&&(e.flags|=64,M&&(e.flags|=8192),M=i.callbacks,M===null?i.callbacks=[A]:M.push(A))}else M={lane:A,tag:d.tag,payload:d.payload,callback:d.callback,next:null},O===null?(x=O=M,b=H):O=O.next=M,s|=A;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;M=d,d=M.next,M.next=null,i.lastBaseUpdate=M,i.shared.pending=null}}while(!0);O===null&&(b=H),i.baseState=b,i.firstBaseUpdate=x,i.lastBaseUpdate=O,u===null&&(i.shared.lanes=0),qa|=s,e.lanes=s,e.memoizedState=H}}function ef(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function tf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ef(a[e],t)}var Qn=_(null),Xi=_(0);function af(e,t){e=_a,L(Xi,e),L(Qn,t),_a=e|t.baseLanes}function Gc(){L(Xi,_a),L(Qn,Qn.current)}function Yc(){_a=Xi.current,D(Qn),D(Xi)}var Nt=_(null),Qt=null;function Ua(e){var t=e.alternate;L(Ge,Ge.current&1),L(Nt,e),Qt===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Qt=e)}function Xc(e){L(Ge,Ge.current),L(Nt,e),Qt===null&&(Qt=e)}function nf(e){e.tag===22?(L(Ge,Ge.current),L(Nt,e),Qt===null&&(Qt=e)):Ba()}function Ba(){L(Ge,Ge.current),L(Nt,Nt.current)}function Dt(e){D(Nt),Qt===e&&(Qt=null),D(Ge)}var Ge=_(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kr(a)||Wr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=0,te=null,Ee=null,Qe=null,Qi=!1,Kn=!1,mn=!1,Ki=0,Ll=0,Zn=null,Jg=0;function Be(){throw Error(r(321))}function $c(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Rt(e[a],t[a]))return!1;return!0}function Qc(e,t,a,n,i,u){return fa=u,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Yf:ir,mn=!1,u=a(n,i),mn=!1,Kn&&(u=uf(t,a,n,i)),lf(e),u}function lf(e){z.H=Gl;var t=Ee!==null&&Ee.next!==null;if(fa=0,Qe=Ee=te=null,Qi=!1,Ll=0,Zn=null,t)throw Error(r(300));e===null||Ke||(e=e.dependencies,e!==null&&Ui(e)&&(Ke=!0))}function uf(e,t,a,n){te=e;var i=0;do{if(Kn&&(Zn=null),Ll=0,Kn=!1,25<=i)throw Error(r(301));if(i+=1,Qe=Ee=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=Xf,u=t(a,n)}while(Kn);return u}function Fg(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?wl(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(te.flags|=1024),t}function Kc(){var e=Ki!==0;return Ki=0,e}function Zc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Vc(e){if(Qi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qi=!1}fa=0,Qe=Ee=te=null,Kn=!1,Ll=Ki=0,Zn=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?te.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ye(){if(Ee===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Qe===null?te.memoizedState:Qe.next;if(t!==null)Qe=t,Ee=e;else{if(e===null)throw te.alternate===null?Error(r(467)):Error(r(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Qe===null?te.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Zi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var t=Ll;return Ll+=1,Zn===null&&(Zn=[]),e=Ws(Zn,e,t),t=te,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Yf:ir),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===Ce)return it(e)}throw Error(r(438,String(e)))}function kc(e){var t=null,a=te.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=te.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Zi(),te.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ht;return t.index++,a}function da(e,t){return typeof t=="function"?t(e):t}function ki(e){var t=Ye();return Wc(t,Ee,e)}function Wc(e,t,a){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var i=e.baseQueue,u=n.pending;if(u!==null){if(i!==null){var s=i.next;i.next=u.next,u.next=s}t.baseQueue=i=u,n.pending=null}if(u=e.baseState,i===null)e.memoizedState=u;else{t=i.next;var d=s=null,b=null,x=t,O=!1;do{var H=x.lane&-536870913;if(H!==x.lane?(fe&H)===H:(fa&H)===H){var A=x.revertLane;if(A===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),H===Gn&&(O=!0);else if((fa&A)===A){x=x.next,A===Gn&&(O=!0);continue}else H={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(d=b=H,s=u):b=b.next=H,te.lanes|=A,qa|=A;H=x.action,mn&&a(u,H),u=x.hasEagerState?x.eagerState:a(u,H)}else A={lane:H,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(d=b=A,s=u):b=b.next=A,te.lanes|=H,qa|=H;x=x.next}while(x!==null&&x!==t);if(b===null?s=u:b.next=d,!Rt(u,e.memoizedState)&&(Ke=!0,O&&(a=Yn,a!==null)))throw a;e.memoizedState=u,e.baseState=s,e.baseQueue=b,n.lastRenderedState=u}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ic(e){var t=Ye(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,u=t.memoizedState;if(i!==null){a.pending=null;var s=i=i.next;do u=e(u,s.action),s=s.next;while(s!==i);Rt(u,t.memoizedState)||(Ke=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,n]}function cf(e,t,a){var n=te,i=Ye(),u=me;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var s=!Rt((Ee||i).memoizedState,a);if(s&&(i.memoizedState=a,Ke=!0),i=i.queue,Pc(sf.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Vn(9,{destroy:void 0},of.bind(null,n,i,a,t),null),ze===null)throw Error(r(349));u||(fa&127)!==0||rf(n,t,a)}return a}function rf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=te.updateQueue,t===null?(t=Zi(),te.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function of(e,t,a,n){t.value=a,t.getSnapshot=n,ff(t)&&df(e)}function sf(e,t,a){return a(function(){ff(t)&&df(e)})}function ff(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Rt(e,a)}catch{return!0}}function df(e){var t=nn(e,2);t!==null&&Ct(t,e,2)}function Jc(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),mn){vt(!0);try{a()}finally{vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function mf(e,t,a,n){return e.baseState=a,Wc(e,Ee,typeof n=="function"?n:da)}function Pg(e,t,a,n,i){if(Ji(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){u.listeners.push(s)}};z.T!==null?a(!0):u.isTransition=!1,n(u),a=t.pending,a===null?(u.next=t.pending=u,hf(t,u)):(u.next=a.next,t.pending=a.next=u)}}function hf(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var u=z.T,s={};z.T=s;try{var d=a(i,n),b=z.S;b!==null&&b(s,d),gf(e,t,d)}catch(x){Fc(e,t,x)}finally{u!==null&&s.types!==null&&(u.types=s.types),z.T=u}}else try{u=a(i,n),gf(e,t,u)}catch(x){Fc(e,t,x)}}function gf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){yf(e,t,n)},function(n){return Fc(e,t,n)}):yf(e,t,a)}function yf(e,t,a){t.status="fulfilled",t.value=a,pf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,hf(e,a)))}function Fc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,pf(t),t=t.next;while(t!==n)}e.action=null}function pf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vf(e,t){return t}function _f(e,t){if(me){var a=ze.formState;if(a!==null){e:{var n=te;if(me){if(Ne){t:{for(var i=Ne,u=$t;i.nodeType!==8;){if(!u){i=null;break t}if(i=Kt(i.nextSibling),i===null){i=null;break t}}u=i.data,i=u==="F!"||u==="F"?i:null}if(i){Ne=Kt(i.nextSibling),n=i.data==="F!";break e}}Na(n)}n=!1}n&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:t},a.queue=n,a=wf.bind(null,te,n),n.dispatch=a,n=Jc(!1),u=lr.bind(null,te,!1,n.queue),n=yt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Pg.bind(null,te,i,u,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function bf(e){var t=Ye();return Sf(t,Ee,e)}function Sf(e,t,a){if(t=Wc(e,t,vf)[0],e=ki(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=wl(t)}catch(s){throw s===Xn?wi:s}else n=t;t=Ye();var i=t.queue,u=i.dispatch;return a!==t.memoizedState&&(te.flags|=2048,Vn(9,{destroy:void 0},ey.bind(null,i,a),null)),[n,u,e]}function ey(e,t){e.action=t}function Ef(e){var t=Ye(),a=Ee;if(a!==null)return Sf(t,a,e);Ye(),t=t.memoizedState,a=Ye();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Vn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=te.updateQueue,t===null&&(t=Zi(),te.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Tf(){return Ye().memoizedState}function Wi(e,t,a,n){var i=yt();te.flags|=e,i.memoizedState=Vn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ii(e,t,a,n){var i=Ye();n=n===void 0?null:n;var u=i.memoizedState.inst;Ee!==null&&n!==null&&$c(n,Ee.memoizedState.deps)?i.memoizedState=Vn(t,u,a,n):(te.flags|=e,i.memoizedState=Vn(1|t,u,a,n))}function xf(e,t){Wi(8390656,8,e,t)}function Pc(e,t){Ii(2048,8,e,t)}function ty(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=Zi(),te.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Cf(e){var t=Ye().memoizedState;return ty({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Af(e,t){return Ii(4,2,e,t)}function zf(e,t){return Ii(4,4,e,t)}function Rf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mf(e,t,a){a=a!=null?a.concat([e]):null,Ii(4,4,Rf.bind(null,t,e),a)}function er(){}function Nf(e,t){var a=Ye();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&$c(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Df(e,t){var a=Ye();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&$c(t,n[1]))return n[0];if(n=e(),mn){vt(!0);try{e()}finally{vt(!1)}}return a.memoizedState=[n,t],n}function tr(e,t,a){return a===void 0||(fa&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Od(),te.lanes|=e,qa|=e,a)}function Of(e,t,a,n){return Rt(a,t)?a:Qn.current!==null?(e=tr(e,a,n),Rt(e,t)||(Ke=!0),e):(fa&42)===0||(fa&1073741824)!==0&&(fe&261930)===0?(Ke=!0,e.memoizedState=a):(e=Od(),te.lanes|=e,qa|=e,t)}function jf(e,t,a,n,i){var u=w.p;w.p=u!==0&&8>u?u:8;var s=z.T,d={};z.T=d,lr(e,!1,t,a);try{var b=i(),x=z.S;if(x!==null&&x(d,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var O=Ig(b,n);ql(e,t,O,Ht(e))}else ql(e,t,n,Ht(e))}catch(H){ql(e,t,{then:function(){},status:"rejected",reason:H},Ht())}finally{w.p=u,s!==null&&d.types!==null&&(s.types=d.types),z.T=s}}function ay(){}function ar(e,t,a,n){if(e.tag!==5)throw Error(r(476));var i=Hf(e).queue;jf(e,i,t,K,a===null?ay:function(){return Uf(e),a(n)})}function Hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uf(e){var t=Hf(e);t.next===null&&(t=e.alternate.memoizedState),ql(e,t.next.queue,{},Ht())}function nr(){return it(ai)}function Bf(){return Ye().memoizedState}function Lf(){return Ye().memoizedState}function ny(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ht();e=ja(a);var n=Ha(t,e,a);n!==null&&(Ct(n,t,a),Hl(n,t,a)),t={cache:Oc()},e.payload=t;return}t=t.return}}function ly(e,t,a){var n=Ht();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ji(e)?qf(t,a):(a=Sc(e,t,a,n),a!==null&&(Ct(a,e,n),Gf(a,t,n)))}function wf(e,t,a){var n=Ht();ql(e,t,a,n)}function ql(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))qf(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var s=t.lastRenderedState,d=u(s,a);if(i.hasEagerState=!0,i.eagerState=d,Rt(d,s))return Di(e,t,i,0),ze===null&&Ni(),!1}catch{}finally{}if(a=Sc(e,t,i,n),a!==null)return Ct(a,e,n),Gf(a,t,n),!0}return!1}function lr(e,t,a,n){if(n={lane:2,revertLane:Br(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e)){if(t)throw Error(r(479))}else t=Sc(e,a,n,2),t!==null&&Ct(t,e,2)}function Ji(e){var t=e.alternate;return e===te||t!==null&&t===te}function qf(e,t){Kn=Qi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Gf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Qo(e,a)}}var Gl={readContext:it,use:Vi,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Gl.useEffectEvent=Be;var Yf={readContext:it,use:Vi,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:xf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Wi(4194308,4,Rf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){Wi(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var n=e();if(mn){vt(!0);try{e()}finally{vt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=yt();if(a!==void 0){var i=a(t);if(mn){vt(!0);try{a(t)}finally{vt(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=ly.bind(null,te,e),[n.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jc(e);var t=e.queue,a=wf.bind(null,te,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:er,useDeferredValue:function(e,t){var a=yt();return tr(a,e,t)},useTransition:function(){var e=Jc(!1);return e=jf.bind(null,te,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=te,i=yt();if(me){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),ze===null)throw Error(r(349));(fe&127)!==0||rf(n,t,a)}i.memoizedState=a;var u={value:a,getSnapshot:t};return i.queue=u,xf(sf.bind(null,n,u,e),[e]),n.flags|=2048,Vn(9,{destroy:void 0},of.bind(null,n,u,a,t),null),a},useId:function(){var e=yt(),t=ze.identifierPrefix;if(me){var a=ea,n=Pt;a=(n&~(1<<32-Oe(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ki++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Jg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nr,useFormState:_f,useActionState:_f,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=lr.bind(null,te,!0,a),a.dispatch=t,[e,t]},useMemoCache:kc,useCacheRefresh:function(){return yt().memoizedState=ny.bind(null,te)},useEffectEvent:function(e){var t=yt(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ir={readContext:it,use:Vi,useCallback:Nf,useContext:it,useEffect:Pc,useImperativeHandle:Mf,useInsertionEffect:Af,useLayoutEffect:zf,useMemo:Df,useReducer:ki,useRef:Tf,useState:function(){return ki(da)},useDebugValue:er,useDeferredValue:function(e,t){var a=Ye();return Of(a,Ee.memoizedState,e,t)},useTransition:function(){var e=ki(da)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:wl(e),t]},useSyncExternalStore:cf,useId:Bf,useHostTransitionStatus:nr,useFormState:bf,useActionState:bf,useOptimistic:function(e,t){var a=Ye();return mf(a,Ee,e,t)},useMemoCache:kc,useCacheRefresh:Lf};ir.useEffectEvent=Cf;var Xf={readContext:it,use:Vi,useCallback:Nf,useContext:it,useEffect:Pc,useImperativeHandle:Mf,useInsertionEffect:Af,useLayoutEffect:zf,useMemo:Df,useReducer:Ic,useRef:Tf,useState:function(){return Ic(da)},useDebugValue:er,useDeferredValue:function(e,t){var a=Ye();return Ee===null?tr(a,e,t):Of(a,Ee.memoizedState,e,t)},useTransition:function(){var e=Ic(da)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:wl(e),t]},useSyncExternalStore:cf,useId:Bf,useHostTransitionStatus:nr,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var a=Ye();return Ee!==null?mf(a,Ee,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Lf};Xf.useEffectEvent=Cf;function ur(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:C({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cr={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ht(),i=ja(n);i.payload=t,a!=null&&(i.callback=a),t=Ha(e,i,n),t!==null&&(Ct(t,e,n),Hl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ht(),i=ja(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Ha(e,i,n),t!==null&&(Ct(t,e,n),Hl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ht(),n=ja(a);n.tag=2,t!=null&&(n.callback=t),t=Ha(e,n,a),t!==null&&(Ct(t,e,a),Hl(t,e,a))}};function $f(e,t,a,n,i,u,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,s):t.prototype&&t.prototype.isPureReactComponent?!Al(a,n)||!Al(i,u):!0}function Qf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&cr.enqueueReplaceState(t,t.state,null)}function hn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=C({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Kf(e){Mi(e)}function Zf(e){console.error(e)}function Vf(e){Mi(e)}function Fi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function kf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function rr(e,t,a){return a=ja(a),a.tag=3,a.payload={element:null},a.callback=function(){Fi(e,t)},a}function Wf(e){return e=ja(e),e.tag=3,e}function If(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var u=n.value;e.payload=function(){return i(u)},e.callback=function(){kf(t,a,n)}}var s=a.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){kf(t,a,n),typeof i!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var d=n.stack;this.componentDidCatch(n.value,{componentStack:d!==null?d:""})})}function iy(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&qn(t,a,i,!0),a=Nt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?su():a.alternate===null&&Le===0&&(Le=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===qi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),jr(e,n,i)),!1;case 22:return a.flags|=65536,n===qi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),jr(e,n,i)),!1}throw Error(r(435,a.tag))}return jr(e,n,i),su(),!1}if(me)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==zc&&(e=Error(r(422),{cause:n}),Ml(Gt(e,a)))):(n!==zc&&(t=Error(r(423),{cause:n}),Ml(Gt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Gt(n,a),i=rr(e.stateNode,n,i),wc(e,i),Le!==4&&(Le=2)),!1;var u=Error(r(520),{cause:n});if(u=Gt(u,a),kl===null?kl=[u]:kl.push(u),Le!==4&&(Le=2),t===null)return!0;n=Gt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=rr(a.stateNode,n,e),wc(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ga===null||!Ga.has(u))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Wf(i),If(i,e,a,n),wc(a,i),!1}a=a.return}while(a!==null);return!1}var or=Error(r(461)),Ke=!1;function ut(e,t,a,n){t.child=e===null?Ps(t,null,a,n):dn(t,e.child,a,n)}function Jf(e,t,a,n,i){a=a.render;var u=t.ref;if("ref"in n){var s={};for(var d in n)d!=="ref"&&(s[d]=n[d])}else s=n;return rn(t),n=Qc(e,t,a,s,u,i),d=Kc(),e!==null&&!Ke?(Zc(e,t,i),ma(e,t,i)):(me&&d&&Cc(t),t.flags|=1,ut(e,t,n,i),t.child)}function Ff(e,t,a,n,i){if(e===null){var u=a.type;return typeof u=="function"&&!Ec(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Pf(e,t,u,n,i)):(e=ji(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!pr(e,i)){var s=u.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(s,n)&&e.ref===t.ref)return ma(e,t,i)}return t.flags|=1,e=ca(u,n),e.ref=t.ref,e.return=t,t.child=e}function Pf(e,t,a,n,i){if(e!==null){var u=e.memoizedProps;if(Al(u,n)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=n=u,pr(e,i))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,ma(e,t,i)}return sr(e,t,a,n,i)}function ed(e,t,a,n){var i=n.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~u}else n=0,t.child=null;return td(e,t,u,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Li(t,u!==null?u.cachePool:null),u!==null?af(t,u):Gc(),nf(t);else return n=t.lanes=536870912,td(e,t,u!==null?u.baseLanes|a:a,a,n)}else u!==null?(Li(t,u.cachePool),af(t,u),Ba(),t.memoizedState=null):(e!==null&&Li(t,null),Gc(),Ba());return ut(e,t,i,a),t.child}function Yl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function td(e,t,a,n,i){var u=Hc();return u=u===null?null:{parent:$e._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Li(t,null),Gc(),nf(t),e!==null&&qn(e,t,n,!0),t.childLanes=i,null}function Pi(e,t){return t=tu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ad(e,t,a){return dn(t,e.child,null,a),e=Pi(t,t.pendingProps),e.flags|=2,Dt(t),t.memoizedState=null,e}function uy(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(n.mode==="hidden")return e=Pi(t,n),t.lanes=536870912,Yl(null,e);if(Xc(t),(e=Ne)?(e=hm(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Pt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=ws(e),a.return=t,t.child=a,lt=t,Ne=null)):e=null,e===null)throw Na(t);return t.lanes=536870912,null}return Pi(t,n)}var u=e.memoizedState;if(u!==null){var s=u.dehydrated;if(Xc(t),i)if(t.flags&256)t.flags&=-257,t=ad(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ke||qn(e,t,a,!1),i=(a&e.childLanes)!==0,Ke||i){if(n=ze,n!==null&&(s=Ko(n,a),s!==0&&s!==u.retryLane))throw u.retryLane=s,nn(e,s),Ct(n,e,s),or;su(),t=ad(e,t,a)}else e=u.treeContext,Ne=Kt(s.nextSibling),lt=t,me=!0,Ma=null,$t=!1,e!==null&&Ys(t,e),t=Pi(t,n),t.flags|=4096;return t}return e=ca(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function eu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function sr(e,t,a,n,i){return rn(t),a=Qc(e,t,a,n,void 0,i),n=Kc(),e!==null&&!Ke?(Zc(e,t,i),ma(e,t,i)):(me&&n&&Cc(t),t.flags|=1,ut(e,t,a,i),t.child)}function nd(e,t,a,n,i,u){return rn(t),t.updateQueue=null,a=uf(t,n,a,i),lf(e),n=Kc(),e!==null&&!Ke?(Zc(e,t,u),ma(e,t,u)):(me&&n&&Cc(t),t.flags|=1,ut(e,t,a,u),t.child)}function ld(e,t,a,n,i){if(rn(t),t.stateNode===null){var u=Un,s=a.contextType;typeof s=="object"&&s!==null&&(u=it(s)),u=new a(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=cr,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},Bc(t),s=a.contextType,u.context=typeof s=="object"&&s!==null?it(s):Un,u.state=t.memoizedState,s=a.getDerivedStateFromProps,typeof s=="function"&&(ur(t,a,s,n),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(s=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),s!==u.state&&cr.enqueueReplaceState(u,u.state,null),Bl(t,n,u,i),Ul(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var d=t.memoizedProps,b=hn(a,d);u.props=b;var x=u.context,O=a.contextType;s=Un,typeof O=="object"&&O!==null&&(s=it(O));var H=a.getDerivedStateFromProps;O=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d||x!==s)&&Qf(t,u,n,s),Oa=!1;var A=t.memoizedState;u.state=A,Bl(t,n,u,i),Ul(),x=t.memoizedState,d||A!==x||Oa?(typeof H=="function"&&(ur(t,a,H,n),x=t.memoizedState),(b=Oa||$f(t,a,b,n,A,x,s))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=x),u.props=n,u.state=x,u.context=s,n=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Lc(e,t),s=t.memoizedProps,O=hn(a,s),u.props=O,H=t.pendingProps,A=u.context,x=a.contextType,b=Un,typeof x=="object"&&x!==null&&(b=it(x)),d=a.getDerivedStateFromProps,(x=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(s!==H||A!==b)&&Qf(t,u,n,b),Oa=!1,A=t.memoizedState,u.state=A,Bl(t,n,u,i),Ul();var M=t.memoizedState;s!==H||A!==M||Oa||e!==null&&e.dependencies!==null&&Ui(e.dependencies)?(typeof d=="function"&&(ur(t,a,d,n),M=t.memoizedState),(O=Oa||$f(t,a,O,n,A,M,b)||e!==null&&e.dependencies!==null&&Ui(e.dependencies))?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,M,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,M,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=M),u.props=n,u.state=M,u.context=b,n=O):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,eu(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,a,i)):ut(e,t,a,i),t.memoizedState=u.state,e=t.child):e=ma(e,t,i),e}function id(e,t,a,n){return un(),t.flags|=256,ut(e,t,a,n),t.child}var fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:Vs()}}function mr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function ud(e,t,a){var n=t.pendingProps,i=!1,u=(t.flags&128)!==0,s;if((s=u)||(s=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(i?Ua(t):Ba(),(e=Ne)?(e=hm(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Pt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=ws(e),a.return=t,t.child=a,lt=t,Ne=null)):e=null,e===null)throw Na(t);return Wr(e)?t.lanes=32:t.lanes=536870912,null}var d=n.children;return n=n.fallback,i?(Ba(),i=t.mode,d=tu({mode:"hidden",children:d},i),n=ln(n,i,a,null),d.return=t,n.return=t,d.sibling=n,t.child=d,n=t.child,n.memoizedState=dr(a),n.childLanes=mr(e,s,a),t.memoizedState=fr,Yl(null,n)):(Ua(t),hr(t,d))}var b=e.memoizedState;if(b!==null&&(d=b.dehydrated,d!==null)){if(u)t.flags&256?(Ua(t),t.flags&=-257,t=gr(e,t,a)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),d=n.fallback,i=t.mode,n=tu({mode:"visible",children:n.children},i),d=ln(d,i,a,null),d.flags|=2,n.return=t,d.return=t,n.sibling=d,t.child=n,dn(t,e.child,null,a),n=t.child,n.memoizedState=dr(a),n.childLanes=mr(e,s,a),t.memoizedState=fr,t=Yl(null,n));else if(Ua(t),Wr(d)){if(s=d.nextSibling&&d.nextSibling.dataset,s)var x=s.dgst;s=x,n=Error(r(419)),n.stack="",n.digest=s,Ml({value:n,source:null,stack:null}),t=gr(e,t,a)}else if(Ke||qn(e,t,a,!1),s=(a&e.childLanes)!==0,Ke||s){if(s=ze,s!==null&&(n=Ko(s,a),n!==0&&n!==b.retryLane))throw b.retryLane=n,nn(e,n),Ct(s,e,n),or;kr(d)||su(),t=gr(e,t,a)}else kr(d)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ne=Kt(d.nextSibling),lt=t,me=!0,Ma=null,$t=!1,e!==null&&Ys(t,e),t=hr(t,n.children),t.flags|=4096);return t}return i?(Ba(),d=n.fallback,i=t.mode,b=e.child,x=b.sibling,n=ca(b,{mode:"hidden",children:n.children}),n.subtreeFlags=b.subtreeFlags&65011712,x!==null?d=ca(x,d):(d=ln(d,i,a,null),d.flags|=2),d.return=t,n.return=t,n.sibling=d,t.child=n,Yl(null,n),n=t.child,d=e.child.memoizedState,d===null?d=dr(a):(i=d.cachePool,i!==null?(b=$e._currentValue,i=i.parent!==b?{parent:b,pool:b}:i):i=Vs(),d={baseLanes:d.baseLanes|a,cachePool:i}),n.memoizedState=d,n.childLanes=mr(e,s,a),t.memoizedState=fr,Yl(e.child,n)):(Ua(t),a=e.child,e=a.sibling,a=ca(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function hr(e,t){return t=tu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function tu(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function gr(e,t,a){return dn(t,e.child,null,a),e=hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nc(e.return,t,a)}function yr(e,t,a,n,i,u){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:u}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=i,s.treeForkCount=u)}function rd(e,t,a){var n=t.pendingProps,i=n.revealOrder,u=n.tail;n=n.children;var s=Ge.current,d=(s&2)!==0;if(d?(s=s&1|2,t.flags|=128):s&=1,L(Ge,s),ut(e,t,n,a),n=me?Rl:0,!d&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cd(e,a,t);else if(e.tag===19)cd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&$i(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),yr(t,!1,i,a,u,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$i(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}yr(t,!0,a,null,u,n);break;case"together":yr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ma(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ca(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ca(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function pr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ui(e)))}function cy(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),Da(t,$e,e.memoizedState.cache),un();break;case 27:case 5:na(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ud(e,t,a):(Ua(t),e=ma(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(qn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return rd(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),L(Ge,Ge.current),n)break;return null;case 22:return t.lanes=0,ed(e,t,a,t.pendingProps);case 24:Da(t,$e,e.memoizedState.cache)}return ma(e,t,a)}function od(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!pr(e,a)&&(t.flags&128)===0)return Ke=!1,cy(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,me&&(t.flags&1048576)!==0&&Gs(t,Rl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=sn(t.elementType),t.type=e,typeof e=="function")Ec(e)?(n=hn(e,n),t.tag=1,t=ld(null,t,e,n,a)):(t.tag=0,t=sr(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===Fe){t.tag=11,t=Jf(null,t,e,n,a);break e}else if(i===P){t.tag=14,t=Ff(null,t,e,n,a);break e}}throw t=ot(e)||e,Error(r(306,t,""))}}return t;case 0:return sr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=hn(n,t.pendingProps),ld(e,t,n,i,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var u=t.memoizedState;i=u.element,Lc(e,t),Bl(t,n,null,a);var s=t.memoizedState;if(n=s.cache,Da(t,$e,n),n!==u.cache&&Dc(t,[$e],a,!0),Ul(),n=s.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=id(e,t,n,a);break e}else if(n!==i){i=Gt(Error(r(424)),t),Ml(i),t=id(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Kt(e.firstChild),lt=t,me=!0,Ma=null,$t=!0,a=Ps(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(un(),n===i){t=ma(e,t,a);break e}ut(e,t,n,a)}t=t.child}return t;case 26:return eu(e,t),e===null?(a=bm(t.type,null,t.pendingProps,null))?t.memoizedState=a:me||(a=t.type,e=t.pendingProps,n=pu(ne.current).createElement(a),n[nt]=t,n[_t]=e,ct(n,a,e),Pe(n),t.stateNode=n):t.memoizedState=bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return na(t),e===null&&me&&(n=t.stateNode=pm(t.type,t.pendingProps,ne.current),lt=t,$t=!0,i=Ne,Qa(t.type)?(Ir=i,Ne=Kt(n.firstChild)):Ne=i),ut(e,t,t.pendingProps.children,a),eu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((i=n=Ne)&&(n=Ly(n,t.type,t.pendingProps,$t),n!==null?(t.stateNode=n,lt=t,Ne=Kt(n.firstChild),$t=!1,i=!0):i=!1),i||Na(t)),na(t),i=t.type,u=t.pendingProps,s=e!==null?e.memoizedProps:null,n=u.children,Kr(i,u)?n=null:s!==null&&Kr(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Qc(e,t,Fg,null,null,a),ai._currentValue=i),eu(e,t),ut(e,t,n,a),t.child;case 6:return e===null&&me&&((e=a=Ne)&&(a=wy(a,t.pendingProps,$t),a!==null?(t.stateNode=a,lt=t,Ne=null,e=!0):e=!1),e||Na(t)),null;case 13:return ud(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,a):ut(e,t,n,a),t.child;case 11:return Jf(e,t,t.type,t.pendingProps,a);case 7:return ut(e,t,t.pendingProps,a),t.child;case 8:return ut(e,t,t.pendingProps.children,a),t.child;case 12:return ut(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Da(t,t.type,n.value),ut(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,rn(t),i=it(i),n=n(i),t.flags|=1,ut(e,t,n,a),t.child;case 14:return Ff(e,t,t.type,t.pendingProps,a);case 15:return Pf(e,t,t.type,t.pendingProps,a);case 19:return rd(e,t,a);case 31:return uy(e,t,a);case 22:return ed(e,t,a,t.pendingProps);case 24:return rn(t),n=it($e),e===null?(i=Hc(),i===null&&(i=ze,u=Oc(),i.pooledCache=u,u.refCount++,u!==null&&(i.pooledCacheLanes|=a),i=u),t.memoizedState={parent:n,cache:i},Bc(t),Da(t,$e,i)):((e.lanes&a)!==0&&(Lc(e,t),Bl(t,null,null,a),Ul()),i=e.memoizedState,u=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Da(t,$e,n)):(n=u.cache,Da(t,$e,n),n!==i.cache&&Dc(t,[$e],a,!0))),ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ha(e){e.flags|=4}function vr(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Bd())e.flags|=8192;else throw fn=qi,Uc}else e.flags&=-16777217}function sd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cm(t))if(Bd())e.flags|=8192;else throw fn=qi,Uc}function au(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xo():536870912,e.lanes|=t,Jn|=t)}function Xl(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function ry(e,t,a){var n=t.pendingProps;switch(Ac(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sa($e),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wn(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rc())),De(t),null;case 26:var i=t.type,u=t.memoizedState;return e===null?(ha(t),u!==null?(De(t),sd(t,u)):(De(t),vr(t,i,null,n,a))):u?u!==e.memoizedState?(ha(t),De(t),sd(t,u)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ha(t),De(t),vr(t,i,e,n,a)),null;case 27:if(bn(t),a=ne.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ha(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return De(t),null}e=q.current,wn(t)?Xs(t):(e=pm(i,n,a),t.stateNode=e,ha(t))}return De(t),null;case 5:if(bn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ha(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return De(t),null}if(u=q.current,wn(t))Xs(t);else{var s=pu(ne.current);switch(u){case 1:u=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:u=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":u=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":u=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":u=s.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?s.createElement(i,{is:n.is}):s.createElement(i)}}u[nt]=t,u[_t]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)u.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=u;e:switch(ct(u,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ha(t)}}return De(t),vr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ha(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=ne.current,wn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=lt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||um(e.nodeValue,a)),e||Na(t,!0)}else e=pu(e).createTextNode(n),e[nt]=t,t.stateNode=e}return De(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=wn(t),a!==null){if(e===null){if(!n)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[nt]=t}else un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else a=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Dt(t),t):(Dt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return De(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=wn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[nt]=t}else un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else i=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Dt(t),t):(Dt(t),null)}return Dt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),au(t,t.updateQueue),De(t),null);case 4:return Me(),e===null&&Gr(t.stateNode.containerInfo),De(t),null;case 10:return sa(t.type),De(t),null;case 19:if(D(Ge),n=t.memoizedState,n===null)return De(t),null;if(i=(t.flags&128)!==0,u=n.rendering,u===null)if(i)Xl(n,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=$i(e),u!==null){for(t.flags|=128,Xl(n,!1),e=u.updateQueue,t.updateQueue=e,au(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ls(a,e),a=a.sibling;return L(Ge,Ge.current&1|2),me&&ra(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&gt()>cu&&(t.flags|=128,i=!0,Xl(n,!1),t.lanes=4194304)}else{if(!i)if(e=$i(u),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,au(t,e),Xl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!me)return De(t),null}else 2*gt()-n.renderingStartTime>cu&&a!==536870912&&(t.flags|=128,i=!0,Xl(n,!1),t.lanes=4194304);n.isBackwards?(u.sibling=t.child,t.child=u):(e=n.last,e!==null?e.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=gt(),e.sibling=null,a=Ge.current,L(Ge,i?a&1|2:a&1),me&&ra(t,n.treeForkCount),e):(De(t),null);case 22:case 23:return Dt(t),Yc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),a=t.updateQueue,a!==null&&au(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&D(on),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sa($e),De(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function oy(e,t){switch(Ac(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa($e),Me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return bn(t),null;case 31:if(t.memoizedState!==null){if(Dt(t),t.alternate===null)throw Error(r(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Ge),null;case 4:return Me(),null;case 10:return sa(t.type),null;case 22:case 23:return Dt(t),Yc(),e!==null&&D(on),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa($e),null;case 25:return null;default:return null}}function fd(e,t){switch(Ac(t),t.tag){case 3:sa($e),Me();break;case 26:case 27:case 5:bn(t);break;case 4:Me();break;case 31:t.memoizedState!==null&&Dt(t);break;case 13:Dt(t);break;case 19:D(Ge);break;case 10:sa(t.type);break;case 22:case 23:Dt(t),Yc(),e!==null&&D(on);break;case 24:sa($e)}}function $l(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var u=a.create,s=a.inst;n=u(),s.destroy=n}a=a.next}while(a!==i)}}catch(d){Se(t,t.return,d)}}function La(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){var s=n.inst,d=s.destroy;if(d!==void 0){s.destroy=void 0,i=t;var b=a,x=d;try{x()}catch(O){Se(i,b,O)}}}n=n.next}while(n!==u)}}catch(O){Se(t,t.return,O)}}function dd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{tf(t,a)}catch(n){Se(e,e.return,n)}}}function md(e,t,a){a.props=hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Se(e,t,n)}}function Ql(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Se(e,t,i)}}function ta(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Se(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Se(e,t,i)}else a.current=null}function hd(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Se(e,e.return,i)}}function _r(e,t,a){try{var n=e.stateNode;Dy(n,e.type,a,t),n[_t]=t}catch(i){Se(e,e.return,i)}}function gd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qa(e.type)||e.tag===4}function br(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ia));else if(n!==4&&(n===27&&Qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Sr(e,t,a),e=e.sibling;e!==null;)Sr(e,t,a),e=e.sibling}function nu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nu(e,t,a),e=e.sibling;e!==null;)nu(e,t,a),e=e.sibling}function yd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ct(t,n,a),t[nt]=e,t[_t]=a}catch(u){Se(e,e.return,u)}}var ga=!1,Ze=!1,Er=!1,pd=typeof WeakSet=="function"?WeakSet:Set,et=null;function sy(e,t){if(e=e.containerInfo,$r=xu,e=Rs(e),gc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var s=0,d=-1,b=-1,x=0,O=0,H=e,A=null;t:for(;;){for(var M;H!==a||i!==0&&H.nodeType!==3||(d=s+i),H!==u||n!==0&&H.nodeType!==3||(b=s+n),H.nodeType===3&&(s+=H.nodeValue.length),(M=H.firstChild)!==null;)A=H,H=M;for(;;){if(H===e)break t;if(A===a&&++x===i&&(d=s),A===u&&++O===n&&(b=s),(M=H.nextSibling)!==null)break;H=A,A=H.parentNode}H=M}a=d===-1||b===-1?null:{start:d,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qr={focusedElem:e,selectionRange:a},xu=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,i=u.memoizedProps,u=u.memoizedState,n=a.stateNode;try{var $=hn(a.type,i);e=n.getSnapshotBeforeUpdate($,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(I){Se(a,a.return,I)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Vr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function vd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:pa(e,a),n&4&&$l(5,a);break;case 1:if(pa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(s){Se(a,a.return,s)}else{var i=hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Se(a,a.return,s)}}n&64&&dd(a),n&512&&Ql(a,a.return);break;case 3:if(pa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{tf(e,t)}catch(s){Se(a,a.return,s)}}break;case 27:t===null&&n&4&&yd(a);case 26:case 5:pa(e,a),t===null&&n&4&&hd(a),n&512&&Ql(a,a.return);break;case 12:pa(e,a);break;case 31:pa(e,a),n&4&&Sd(e,a);break;case 13:pa(e,a),n&4&&Ed(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_y.bind(null,a),qy(e,a))));break;case 22:if(n=a.memoizedState!==null||ga,!n){t=t!==null&&t.memoizedState!==null||Ze,i=ga;var u=Ze;ga=n,(Ze=t)&&!u?va(e,a,(a.subtreeFlags&8772)!==0):pa(e,a),ga=i,Ze=u}break;case 30:break;default:pa(e,a)}}function _d(e){var t=e.alternate;t!==null&&(e.alternate=null,_d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,St=!1;function ya(e,t,a){for(a=a.child;a!==null;)bd(e,t,a),a=a.sibling}function bd(e,t,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Xe,a)}catch{}switch(a.tag){case 26:Ze||ta(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||ta(a,t);var n=je,i=St;Qa(a.type)&&(je=a.stateNode,St=!1),ya(e,t,a),Pl(a.stateNode),je=n,St=i;break;case 5:Ze||ta(a,t);case 6:if(n=je,i=St,je=null,ya(e,t,a),je=n,St=i,je!==null)if(St)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(a.stateNode)}catch(u){Se(a,t,u)}else try{je.removeChild(a.stateNode)}catch(u){Se(a,t,u)}break;case 18:je!==null&&(St?(e=je,dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),il(e)):dm(je,a.stateNode));break;case 4:n=je,i=St,je=a.stateNode.containerInfo,St=!0,ya(e,t,a),je=n,St=i;break;case 0:case 11:case 14:case 15:La(2,a,t),Ze||La(4,a,t),ya(e,t,a);break;case 1:Ze||(ta(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&md(a,t,n)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:Ze=(n=Ze)||a.memoizedState!==null,ya(e,t,a),Ze=n;break;default:ya(e,t,a)}}function Sd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{il(e)}catch(a){Se(t,t.return,a)}}}function Ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(a){Se(t,t.return,a)}}function fy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pd),t;default:throw Error(r(435,e.tag))}}function lu(e,t){var a=fy(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=by.bind(null,e,n);n.then(i,i)}})}function Et(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],u=e,s=t,d=s;e:for(;d!==null;){switch(d.tag){case 27:if(Qa(d.type)){je=d.stateNode,St=!1;break e}break;case 5:je=d.stateNode,St=!1;break e;case 3:case 4:je=d.stateNode.containerInfo,St=!0;break e}d=d.return}if(je===null)throw Error(r(160));bd(u,s,i),je=null,St=!1,u=i.alternate,u!==null&&(u.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}var It=null;function Td(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),Tt(e),n&4&&(La(3,e,e.return),$l(3,e),La(5,e,e.return));break;case 1:Et(t,e),Tt(e),n&512&&(Ze||a===null||ta(a,a.return)),n&64&&ga&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=It;if(Et(t,e),Tt(e),n&512&&(Ze||a===null||ta(a,a.return)),n&4){var u=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":u=i.getElementsByTagName("title")[0],(!u||u[pl]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=i.createElement(n),i.head.insertBefore(u,i.querySelector("head > title"))),ct(u,n,a),u[nt]=e,Pe(u),n=u;break e;case"link":var s=Tm("link","href",i).get(n+(a.href||""));if(s){for(var d=0;d<s.length;d++)if(u=s[d],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){s.splice(d,1);break t}}u=i.createElement(n),ct(u,n,a),i.head.appendChild(u);break;case"meta":if(s=Tm("meta","content",i).get(n+(a.content||""))){for(d=0;d<s.length;d++)if(u=s[d],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){s.splice(d,1);break t}}u=i.createElement(n),ct(u,n,a),i.head.appendChild(u);break;default:throw Error(r(468,n))}u[nt]=e,Pe(u),n=u}e.stateNode=n}else xm(i,e.type,e.stateNode);else e.stateNode=Em(i,n,e.memoizedProps);else u!==n?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,n===null?xm(i,e.type,e.stateNode):Em(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&_r(e,e.memoizedProps,a.memoizedProps)}break;case 27:Et(t,e),Tt(e),n&512&&(Ze||a===null||ta(a,a.return)),a!==null&&n&4&&_r(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Et(t,e),Tt(e),n&512&&(Ze||a===null||ta(a,a.return)),e.flags&32){i=e.stateNode;try{Rn(i,"")}catch($){Se(e,e.return,$)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,_r(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Er=!0);break;case 6:if(Et(t,e),Tt(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch($){Se(e,e.return,$)}}break;case 3:if(bu=null,i=It,It=vu(t.containerInfo),Et(t,e),It=i,Tt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{il(t.containerInfo)}catch($){Se(e,e.return,$)}Er&&(Er=!1,xd(e));break;case 4:n=It,It=vu(e.stateNode.containerInfo),Et(t,e),Tt(e),It=n;break;case 12:Et(t,e),Tt(e);break;case 31:Et(t,e),Tt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,lu(e,n)));break;case 13:Et(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uu=gt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,lu(e,n)));break;case 22:i=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,x=ga,O=Ze;if(ga=x||i,Ze=O||b,Et(t,e),Ze=O,ga=x,Tt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||b||ga||Ze||gn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(u=b.stateNode,i)s=u.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{d=b.stateNode;var H=b.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null;d.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch($){Se(b,b.return,$)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=i?"":b.memoizedProps}catch($){Se(b,b.return,$)}}}else if(t.tag===18){if(a===null){b=t;try{var M=b.stateNode;i?mm(M,!0):mm(b.stateNode,!1)}catch($){Se(b,b.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,lu(e,a))));break;case 19:Et(t,e),Tt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,lu(e,n)));break;case 30:break;case 21:break;default:Et(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(gd(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,u=br(e);nu(e,u,i);break;case 5:var s=a.stateNode;a.flags&32&&(Rn(s,""),a.flags&=-33);var d=br(e);nu(e,d,s);break;case 3:case 4:var b=a.stateNode.containerInfo,x=br(e);Sr(e,x,b);break;default:throw Error(r(161))}}catch(O){Se(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vd(e,t.alternate,t),t=t.sibling}function gn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:La(4,t,t.return),gn(t);break;case 1:ta(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&md(t,t.return,a),gn(t);break;case 27:Pl(t.stateNode);case 26:case 5:ta(t,t.return),gn(t);break;case 22:t.memoizedState===null&&gn(t);break;case 30:gn(t);break;default:gn(t)}e=e.sibling}}function va(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,u=t,s=u.flags;switch(u.tag){case 0:case 11:case 15:va(i,u,a),$l(4,u);break;case 1:if(va(i,u,a),n=u,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(x){Se(n,n.return,x)}if(n=u,i=n.updateQueue,i!==null){var d=n.stateNode;try{var b=i.shared.hiddenCallbacks;if(b!==null)for(i.shared.hiddenCallbacks=null,i=0;i<b.length;i++)ef(b[i],d)}catch(x){Se(n,n.return,x)}}a&&s&64&&dd(u),Ql(u,u.return);break;case 27:yd(u);case 26:case 5:va(i,u,a),a&&n===null&&s&4&&hd(u),Ql(u,u.return);break;case 12:va(i,u,a);break;case 31:va(i,u,a),a&&s&4&&Sd(i,u);break;case 13:va(i,u,a),a&&s&4&&Ed(i,u);break;case 22:u.memoizedState===null&&va(i,u,a),Ql(u,u.return);break;case 30:break;default:va(i,u,a)}t=t.sibling}}function Tr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Nl(a))}function xr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e))}function Jt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cd(e,t,a,n),t=t.sibling}function Cd(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,a,n),i&2048&&$l(9,t);break;case 1:Jt(e,t,a,n);break;case 3:Jt(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e)));break;case 12:if(i&2048){Jt(e,t,a,n),e=t.stateNode;try{var u=t.memoizedProps,s=u.id,d=u.onPostCommit;typeof d=="function"&&d(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Se(t,t.return,b)}}else Jt(e,t,a,n);break;case 31:Jt(e,t,a,n);break;case 13:Jt(e,t,a,n);break;case 23:break;case 22:u=t.stateNode,s=t.alternate,t.memoizedState!==null?u._visibility&2?Jt(e,t,a,n):Kl(e,t):u._visibility&2?Jt(e,t,a,n):(u._visibility|=2,kn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Tr(s,t);break;case 24:Jt(e,t,a,n),i&2048&&xr(t.alternate,t);break;default:Jt(e,t,a,n)}}function kn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,s=t,d=a,b=n,x=s.flags;switch(s.tag){case 0:case 11:case 15:kn(u,s,d,b,i),$l(8,s);break;case 23:break;case 22:var O=s.stateNode;s.memoizedState!==null?O._visibility&2?kn(u,s,d,b,i):Kl(u,s):(O._visibility|=2,kn(u,s,d,b,i)),i&&x&2048&&Tr(s.alternate,s);break;case 24:kn(u,s,d,b,i),i&&x&2048&&xr(s.alternate,s);break;default:kn(u,s,d,b,i)}t=t.sibling}}function Kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Kl(a,n),i&2048&&Tr(n.alternate,n);break;case 24:Kl(a,n),i&2048&&xr(n.alternate,n);break;default:Kl(a,n)}t=t.sibling}}var Zl=8192;function Wn(e,t,a){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Ad(e,t,a),e=e.sibling}function Ad(e,t,a){switch(e.tag){case 26:Wn(e,t,a),e.flags&Zl&&e.memoizedState!==null&&Jy(a,It,e.memoizedState,e.memoizedProps);break;case 5:Wn(e,t,a);break;case 3:case 4:var n=It;It=vu(e.stateNode.containerInfo),Wn(e,t,a),It=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zl,Zl=16777216,Wn(e,t,a),Zl=n):Wn(e,t,a));break;default:Wn(e,t,a)}}function zd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,Md(n,e)}zd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rd(e),e=e.sibling}function Rd(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&La(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,iu(e)):Vl(e);break;default:Vl(e)}}function iu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,Md(n,e)}zd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:La(8,t,t.return),iu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,iu(t));break;default:iu(t)}e=e.sibling}}function Md(e,t){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:La(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,et=n;else e:for(a=e;et!==null;){n=et;var i=n.sibling,u=n.return;if(_d(n),n===a){et=null;break e}if(i!==null){i.return=u,et=i;break e}et=u}}}var dy={getCacheForType:function(e){var t=it($e),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return it($e).controller.signal}},my=typeof WeakMap=="function"?WeakMap:Map,ve=0,ze=null,oe=null,fe=0,be=0,Ot=null,wa=!1,In=!1,Cr=!1,_a=0,Le=0,qa=0,yn=0,Ar=0,jt=0,Jn=0,kl=null,xt=null,zr=!1,uu=0,Nd=0,cu=1/0,ru=null,Ga=null,Ie=0,Ya=null,Fn=null,ba=0,Rr=0,Mr=null,Dd=null,Wl=0,Nr=null;function Ht(){return(ve&2)!==0&&fe!==0?fe&-fe:z.T!==null?Br():Zo()}function Od(){if(jt===0)if((fe&536870912)===0||me){var e=Sn;Sn<<=1,(Sn&3932160)===0&&(Sn=262144),jt=e}else jt=536870912;return e=Nt.current,e!==null&&(e.flags|=32),jt}function Ct(e,t,a){(e===ze&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Pn(e,0),Xa(e,fe,jt,!1)),yl(e,a),((ve&2)===0||e!==ze)&&(e===ze&&((ve&2)===0&&(yn|=a),Le===4&&Xa(e,fe,jt,!1)),aa(e))}function jd(e,t,a){if((ve&6)!==0)throw Error(r(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||gl(e,t),i=n?yy(e,t):Or(e,t,!0),u=n;do{if(i===0){In&&!n&&Xa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!hy(a)){i=Or(e,t,!1),u=!1;continue}if(i===2){if(u=t,e.errorRecoveryDisabledLanes&u)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var d=e;i=kl;var b=d.current.memoizedState.isDehydrated;if(b&&(Pn(d,s).flags|=256),s=Or(d,s,!1),s!==2){if(Cr&&!b){d.errorRecoveryDisabledLanes|=u,yn|=u,i=4;break e}u=xt,xt=i,u!==null&&(xt===null?xt=u:xt.push.apply(xt,u))}i=s}if(u=!1,i!==2)continue}}if(i===1){Pn(e,0),Xa(e,t,0,!0);break}e:{switch(n=e,u=i,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Xa(n,t,jt,!wa);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=uu+300-gt(),10<i)){if(Xa(n,t,jt,!wa),Fa(n,0,!0)!==0)break e;ba=t,n.timeoutHandle=sm(Hd.bind(null,n,a,xt,ru,zr,t,jt,yn,Jn,wa,u,"Throttled",-0,0),i);break e}Hd(n,a,xt,ru,zr,t,jt,yn,Jn,wa,u,null,-0,0)}}break}while(!0);aa(e)}function Hd(e,t,a,n,i,u,s,d,b,x,O,H,A,M){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},Ad(t,u,H);var $=(u&62914560)===u?uu-gt():(u&4194048)===u?Nd-gt():0;if($=Fy(H,$),$!==null){ba=u,e.cancelPendingCommit=$(Xd.bind(null,e,t,u,a,n,i,s,d,b,O,H,null,A,M)),Xa(e,u,s,!x);return}}Xd(e,t,u,a,n,i,s,d,b)}function hy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],u=i.getSnapshot;i=i.value;try{if(!Rt(u(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,a,n){t&=~Ar,t&=~yn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var u=31-Oe(i),s=1<<u;n[u]=-1,i&=~s}a!==0&&$o(e,a,t)}function ou(){return(ve&6)===0?(Il(0),!1):!0}function Dr(){if(oe!==null){if(be===0)var e=oe.return;else e=oe,oa=cn=null,Vc(e),$n=null,Ol=0,e=oe;for(;e!==null;)fd(e.alternate,e),e=e.return;oe=null}}function Pn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ba=0,Dr(),ze=e,oe=a=ca(e.current,null),fe=t,be=0,Ot=null,wa=!1,In=gl(e,t),Cr=!1,Jn=jt=Ar=yn=qa=Le=0,xt=kl=null,zr=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Oe(n),u=1<<i;t|=e[i],n&=~u}return _a=t,Ni(),a}function Ud(e,t){te=null,z.H=Gl,t===Xn||t===wi?(t=Is(),be=3):t===Uc?(t=Is(),be=4):be=t===or?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,oe===null&&(Le=1,Fi(e,Gt(t,e.current)))}function Bd(){var e=Nt.current;return e===null?!0:(fe&4194048)===fe?Qt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Qt:!1}function Ld(){var e=z.H;return z.H=Gl,e===null?Gl:e}function wd(){var e=z.A;return z.A=dy,e}function su(){Le=4,wa||(fe&4194048)!==fe&&Nt.current!==null||(In=!0),(qa&134217727)===0&&(yn&134217727)===0||ze===null||Xa(ze,fe,jt,!1)}function Or(e,t,a){var n=ve;ve|=2;var i=Ld(),u=wd();(ze!==e||fe!==t)&&(ru=null,Pn(e,t)),t=!1;var s=Le;e:do try{if(be!==0&&oe!==null){var d=oe,b=Ot;switch(be){case 8:Dr(),s=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var x=be;if(be=0,Ot=null,el(e,d,b,x),a&&In){s=0;break e}break;default:x=be,be=0,Ot=null,el(e,d,b,x)}}gy(),s=Le;break}catch(O){Ud(e,O)}while(!0);return t&&e.shellSuspendCounter++,oa=cn=null,ve=n,z.H=i,z.A=u,oe===null&&(ze=null,fe=0,Ni()),s}function gy(){for(;oe!==null;)qd(oe)}function yy(e,t){var a=ve;ve|=2;var n=Ld(),i=wd();ze!==e||fe!==t?(ru=null,cu=gt()+500,Pn(e,t)):In=gl(e,t);e:do try{if(be!==0&&oe!==null){t=oe;var u=Ot;t:switch(be){case 1:be=0,Ot=null,el(e,t,u,1);break;case 2:case 9:if(ks(u)){be=0,Ot=null,Gd(t);break}t=function(){be!==2&&be!==9||ze!==e||(be=7),aa(e)},u.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:ks(u)?(be=0,Ot=null,Gd(t)):(be=0,Ot=null,el(e,t,u,7));break;case 5:var s=null;switch(oe.tag){case 26:s=oe.memoizedState;case 5:case 27:var d=oe;if(s?Cm(s):d.stateNode.complete){be=0,Ot=null;var b=d.sibling;if(b!==null)oe=b;else{var x=d.return;x!==null?(oe=x,fu(x)):oe=null}break t}}be=0,Ot=null,el(e,t,u,5);break;case 6:be=0,Ot=null,el(e,t,u,6);break;case 8:Dr(),Le=6;break e;default:throw Error(r(462))}}py();break}catch(O){Ud(e,O)}while(!0);return oa=cn=null,z.H=n,z.A=i,ve=a,oe!==null?0:(ze=null,fe=0,Ni(),Le)}function py(){for(;oe!==null&&!Ku();)qd(oe)}function qd(e){var t=od(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?fu(e):oe=t}function Gd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=nd(a,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=nd(a,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:Vc(t);default:fd(a,t),t=oe=Ls(t,_a),t=od(a,t,_a)}e.memoizedProps=e.pendingProps,t===null?fu(e):oe=t}function el(e,t,a,n){oa=cn=null,Vc(t),$n=null,Ol=0;var i=t.return;try{if(iy(e,i,t,a,fe)){Le=1,Fi(e,Gt(a,e.current)),oe=null;return}}catch(u){if(i!==null)throw oe=i,u;Le=1,Fi(e,Gt(a,e.current)),oe=null;return}t.flags&32768?(me||n===1?e=!0:In||(fe&536870912)!==0?e=!1:(wa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Nt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Yd(t,e)):fu(t)}function fu(e){var t=e;do{if((t.flags&32768)!==0){Yd(t,wa);return}e=t.return;var a=ry(t.alternate,t,_a);if(a!==null){oe=a;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);Le===0&&(Le=5)}function Yd(e,t){do{var a=oy(e.alternate,e);if(a!==null){a.flags&=32767,oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=a}while(e!==null);Le=6,oe=null}function Xd(e,t,a,n,i,u,s,d,b){e.cancelPendingCommit=null;do du();while(Ie!==0);if((ve&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=bc,Ih(e,a,u,s,d,b),e===ze&&(oe=ze=null,fe=0),Fn=t,Ya=e,ba=a,Rr=u,Mr=i,Dd=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sy(le,function(){return Vd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null,i=w.p,w.p=2,s=ve,ve|=4;try{sy(e,t,a)}finally{ve=s,w.p=i,z.T=n}}Ie=1,$d(),Qd(),Kd()}}function $d(){if(Ie===1){Ie=0;var e=Ya,t=Fn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var n=w.p;w.p=2;var i=ve;ve|=4;try{Td(t,e);var u=Qr,s=Rs(e.containerInfo),d=u.focusedElem,b=u.selectionRange;if(s!==d&&d&&d.ownerDocument&&zs(d.ownerDocument.documentElement,d)){if(b!==null&&gc(d)){var x=b.start,O=b.end;if(O===void 0&&(O=x),"selectionStart"in d)d.selectionStart=x,d.selectionEnd=Math.min(O,d.value.length);else{var H=d.ownerDocument||document,A=H&&H.defaultView||window;if(A.getSelection){var M=A.getSelection(),$=d.textContent.length,I=Math.min(b.start,$),xe=b.end===void 0?I:Math.min(b.end,$);!M.extend&&I>xe&&(s=xe,xe=I,I=s);var E=As(d,I),S=As(d,xe);if(E&&S&&(M.rangeCount!==1||M.anchorNode!==E.node||M.anchorOffset!==E.offset||M.focusNode!==S.node||M.focusOffset!==S.offset)){var T=H.createRange();T.setStart(E.node,E.offset),M.removeAllRanges(),I>xe?(M.addRange(T),M.extend(S.node,S.offset)):(T.setEnd(S.node,S.offset),M.addRange(T))}}}}for(H=[],M=d;M=M.parentNode;)M.nodeType===1&&H.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<H.length;d++){var j=H[d];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}xu=!!$r,Qr=$r=null}finally{ve=i,w.p=n,z.T=a}}e.current=t,Ie=2}}function Qd(){if(Ie===2){Ie=0;var e=Ya,t=Fn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var n=w.p;w.p=2;var i=ve;ve|=4;try{vd(e,t.alternate,t)}finally{ve=i,w.p=n,z.T=a}}Ie=3}}function Kd(){if(Ie===4||Ie===3){Ie=0,Zu();var e=Ya,t=Fn,a=ba,n=Dd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,Fn=Ya=null,Zd(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ga=null),Iu(a),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Xe,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=z.T,i=w.p,w.p=2,z.T=null;try{for(var u=e.onRecoverableError,s=0;s<n.length;s++){var d=n[s];u(d.value,{componentStack:d.stack})}}finally{z.T=t,w.p=i}}(ba&3)!==0&&du(),aa(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Nr?Wl++:(Wl=0,Nr=e):Wl=0,Il(0)}}function Zd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nl(t)))}function du(){return $d(),Qd(),Kd(),Vd()}function Vd(){if(Ie!==5)return!1;var e=Ya,t=Rr;Rr=0;var a=Iu(ba),n=z.T,i=w.p;try{w.p=32>a?32:a,z.T=null,a=Mr,Mr=null;var u=Ya,s=ba;if(Ie=0,Fn=Ya=null,ba=0,(ve&6)!==0)throw Error(r(331));var d=ve;if(ve|=4,Rd(u.current),Cd(u,u.current,s,a),ve=d,Il(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Xe,u)}catch{}return!0}finally{w.p=i,z.T=n,Zd(e,t)}}function kd(e,t,a){t=Gt(a,t),t=rr(e.stateNode,t,2),e=Ha(e,t,2),e!==null&&(yl(e,2),aa(e))}function Se(e,t,a){if(e.tag===3)kd(e,e,a);else for(;t!==null;){if(t.tag===3){kd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ga===null||!Ga.has(n))){e=Gt(a,e),a=Wf(2),n=Ha(t,a,2),n!==null&&(If(a,n,t,e),yl(n,2),aa(n));break}}t=t.return}}function jr(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new my;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(Cr=!0,i.add(a),e=vy.bind(null,e,t,a),t.then(e,e))}function vy(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(fe&a)===a&&(Le===4||Le===3&&(fe&62914560)===fe&&300>gt()-uu?(ve&2)===0&&Pn(e,0):Ar|=a,Jn===fe&&(Jn=0)),aa(e)}function Wd(e,t){t===0&&(t=Xo()),e=nn(e,t),e!==null&&(yl(e,t),aa(e))}function _y(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Wd(e,a)}function by(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Wd(e,a)}function Sy(e,t){return dl(e,t)}var mu=null,tl=null,Hr=!1,hu=!1,Ur=!1,$a=0;function aa(e){e!==tl&&e.next===null&&(tl===null?mu=tl=e:tl=tl.next=e),hu=!0,Hr||(Hr=!0,Ty())}function Il(e,t){if(!Ur&&hu){Ur=!0;do for(var a=!1,n=mu;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var u=0;else{var s=n.suspendedLanes,d=n.pingedLanes;u=(1<<31-Oe(42|e)+1)-1,u&=i&~(s&~d),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Pd(n,u))}else u=fe,u=Fa(n,n===ze?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||gl(n,u)||(a=!0,Pd(n,u));n=n.next}while(a);Ur=!1}}function Ey(){Id()}function Id(){hu=Hr=!1;var e=0;$a!==0&&jy()&&(e=$a);for(var t=gt(),a=null,n=mu;n!==null;){var i=n.next,u=Jd(n,t);u===0?(n.next=null,a===null?mu=i:a.next=i,i===null&&(tl=a)):(a=n,(e!==0||(u&3)!==0)&&(hu=!0)),n=i}Ie!==0&&Ie!==5||Il(e),$a!==0&&($a=0)}function Jd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var s=31-Oe(u),d=1<<s,b=i[s];b===-1?((d&a)===0||(d&n)!==0)&&(i[s]=Wh(d,t)):b<=t&&(e.expiredLanes|=d),u&=~d}if(t=ze,a=fe,a=Fa(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&ml(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&ml(n),Iu(a)){case 2:case 8:a=V;break;case 32:a=le;break;case 268435456:a=re;break;default:a=le}return n=Fd.bind(null,e),a=dl(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&ml(n),e.callbackPriority=2,e.callbackNode=null,2}function Fd(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(du()&&e.callbackNode!==a)return null;var n=fe;return n=Fa(e,e===ze?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(jd(e,n,t),Jd(e,gt()),e.callbackNode!=null&&e.callbackNode===a?Fd.bind(null,e):null)}function Pd(e,t){if(du())return null;jd(e,t,!0)}function Ty(){Uy(function(){(ve&6)!==0?dl(G,Ey):Id()})}function Br(){if($a===0){var e=Gn;e===0&&(e=Ca,Ca<<=1,(Ca&261888)===0&&(Ca=256)),$a=e}return $a}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ei(""+e)}function tm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function xy(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var u=em((i[_t]||null).action),s=n.submitter;s&&(t=(t=s[_t]||null)?em(t.formAction):s.getAttribute("formAction"),t!==null&&(u=t,s=null));var d=new Ai("action","action",null,n,i);e.push({event:d,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if($a!==0){var b=s?tm(i,s):new FormData(i);ar(a,{pending:!0,data:b,method:i.method,action:u},null,b)}}else typeof u=="function"&&(d.preventDefault(),b=s?tm(i,s):new FormData(i),ar(a,{pending:!0,data:b,method:i.method,action:u},u,b))},currentTarget:i}]})}}for(var Lr=0;Lr<_c.length;Lr++){var wr=_c[Lr],Cy=wr.toLowerCase(),Ay=wr[0].toUpperCase()+wr.slice(1);Wt(Cy,"on"+Ay)}Wt(Ds,"onAnimationEnd"),Wt(Os,"onAnimationIteration"),Wt(js,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Xg,"onTransitionRun"),Wt($g,"onTransitionStart"),Wt(Qg,"onTransitionCancel"),Wt(Hs,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function am(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var s=n.length-1;0<=s;s--){var d=n[s],b=d.instance,x=d.currentTarget;if(d=d.listener,b!==u&&i.isPropagationStopped())break e;u=d,i.currentTarget=x;try{u(i)}catch(O){Mi(O)}i.currentTarget=null,u=b}else for(s=0;s<n.length;s++){if(d=n[s],b=d.instance,x=d.currentTarget,d=d.listener,b!==u&&i.isPropagationStopped())break e;u=d,i.currentTarget=x;try{u(i)}catch(O){Mi(O)}i.currentTarget=null,u=b}}}}function se(e,t){var a=t[Ju];a===void 0&&(a=t[Ju]=new Set);var n=e+"__bubble";a.has(n)||(nm(t,e,2,!1),a.add(n))}function qr(e,t,a){var n=0;t&&(n|=4),nm(a,e,n,t)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[gu]){e[gu]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(zy.has(a)||qr(a,!1,e),qr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gu]||(t[gu]=!0,qr("selectionchange",!1,t))}}function nm(e,t,a,n){switch(Om(t)){case 2:var i=tp;break;case 8:i=ap;break;default:i=to}a=i.bind(null,t,a,e),i=void 0,!uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Yr(e,t,a,n,i){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var d=n.stateNode.containerInfo;if(d===i)break;if(s===4)for(s=n.return;s!==null;){var b=s.tag;if((b===3||b===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;d!==null;){if(s=Tn(d),s===null)return;if(b=s.tag,b===5||b===6||b===26||b===27){n=u=s;continue e}d=d.parentNode}}n=n.return}cs(function(){var x=u,O=lc(a),H=[];e:{var A=Us.get(e);if(A!==void 0){var M=Ai,$=e;switch(e){case"keypress":if(xi(a)===0)break e;case"keydown":case"keyup":M=bg;break;case"focusin":$="focus",M=sc;break;case"focusout":$="blur",M=sc;break;case"beforeblur":case"afterblur":M=sc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Tg;break;case Ds:case Os:case js:M=fg;break;case Hs:M=Cg;break;case"scroll":case"scrollend":M=ug;break;case"wheel":M=zg;break;case"copy":case"cut":case"paste":M=mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=ds;break;case"toggle":case"beforetoggle":M=Mg}var I=(t&4)!==0,xe=!I&&(e==="scroll"||e==="scrollend"),E=I?A!==null?A+"Capture":null:A;I=[];for(var S=x,T;S!==null;){var j=S;if(T=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||T===null||E===null||(j=_l(S,E),j!=null&&I.push(Fl(S,j,T))),xe)break;S=S.return}0<I.length&&(A=new M(A,$,null,a,O),H.push({event:A,listeners:I}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",A&&a!==nc&&($=a.relatedTarget||a.fromElement)&&(Tn($)||$[En]))break e;if((M||A)&&(A=O.window===O?O:(A=O.ownerDocument)?A.defaultView||A.parentWindow:window,M?($=a.relatedTarget||a.toElement,M=x,$=$?Tn($):null,$!==null&&(xe=y($),I=$.tag,$!==xe||I!==5&&I!==27&&I!==6)&&($=null)):(M=null,$=x),M!==$)){if(I=ss,j="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(I=ds,j="onPointerLeave",E="onPointerEnter",S="pointer"),xe=M==null?A:vl(M),T=$==null?A:vl($),A=new I(j,S+"leave",M,a,O),A.target=xe,A.relatedTarget=T,j=null,Tn(O)===x&&(I=new I(E,S+"enter",$,a,O),I.target=T,I.relatedTarget=xe,j=I),xe=j,M&&$)t:{for(I=Ry,E=M,S=$,T=0,j=E;j;j=I(j))T++;j=0;for(var W=S;W;W=I(W))j++;for(;0<T-j;)E=I(E),T--;for(;0<j-T;)S=I(S),j--;for(;T--;){if(E===S||S!==null&&E===S.alternate){I=E;break t}E=I(E),S=I(S)}I=null}else I=null;M!==null&&lm(H,A,M,I,!1),$!==null&&xe!==null&&lm(H,xe,$,I,!0)}}e:{if(A=x?vl(x):window,M=A.nodeName&&A.nodeName.toLowerCase(),M==="select"||M==="input"&&A.type==="file")var ye=bs;else if(vs(A))if(Ss)ye=qg;else{ye=Lg;var Z=Bg}else M=A.nodeName,!M||M.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?x&&ac(x.elementType)&&(ye=bs):ye=wg;if(ye&&(ye=ye(e,x))){_s(H,ye,a,O);break e}Z&&Z(e,A,x),e==="focusout"&&x&&A.type==="number"&&x.memoizedProps.value!=null&&tc(A,"number",A.value)}switch(Z=x?vl(x):window,e){case"focusin":(vs(Z)||Z.contentEditable==="true")&&(On=Z,yc=x,zl=null);break;case"focusout":zl=yc=On=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Ms(H,a,O);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":Ms(H,a,O)}var ie;if(dc)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Dn?ys(e,a)&&(de="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(de="onCompositionStart");de&&(ms&&a.locale!=="ko"&&(Dn||de!=="onCompositionStart"?de==="onCompositionEnd"&&Dn&&(ie=rs()):(za=O,cc="value"in za?za.value:za.textContent,Dn=!0)),Z=yu(x,de),0<Z.length&&(de=new fs(de,e,null,a,O),H.push({event:de,listeners:Z}),ie?de.data=ie:(ie=ps(a),ie!==null&&(de.data=ie)))),(ie=Dg?Og(e,a):jg(e,a))&&(de=yu(x,"onBeforeInput"),0<de.length&&(Z=new fs("onBeforeInput","beforeinput",null,a,O),H.push({event:Z,listeners:de}),Z.data=ie)),xy(H,e,x,a,O)}am(H,t)})}function Fl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function yu(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,u=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||u===null||(i=_l(e,a),i!=null&&n.unshift(Fl(e,i,u)),i=_l(e,t),i!=null&&n.push(Fl(e,i,u))),e.tag===3)return n;e=e.return}return[]}function Ry(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lm(e,t,a,n,i){for(var u=t._reactName,s=[];a!==null&&a!==n;){var d=a,b=d.alternate,x=d.stateNode;if(d=d.tag,b!==null&&b===n)break;d!==5&&d!==26&&d!==27||x===null||(b=x,i?(x=_l(a,u),x!=null&&s.unshift(Fl(a,x,b))):i||(x=_l(a,u),x!=null&&s.push(Fl(a,x,b)))),a=a.return}s.length!==0&&e.push({event:t,listeners:s})}var My=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function im(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Ny,"")}function um(e,t){return t=im(t),im(e)===t}function Te(e,t,a,n,i,u){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Rn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Rn(e,""+n);break;case"className":bi(e,"class",n);break;case"tabIndex":bi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,a,n);break;case"style":is(e,n,u);break;case"data":if(t!=="object"){bi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ei(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Te(e,t,"name",i.name,i,null),Te(e,t,"formEncType",i.formEncType,i,null),Te(e,t,"formMethod",i.formMethod,i,null),Te(e,t,"formTarget",i.formTarget,i,null)):(Te(e,t,"encType",i.encType,i,null),Te(e,t,"method",i.method,i,null),Te(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ei(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ia);break;case"onScroll":n!=null&&se("scroll",e);break;case"onScrollEnd":n!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ei(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":se("beforetoggle",e),se("toggle",e),_i(e,"popover",n);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":_i(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lg.get(a)||a,_i(e,a,n))}}function Xr(e,t,a,n,i,u){switch(a){case"style":is(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Rn(e,n):(typeof n=="number"||typeof n=="bigint")&&Rn(e,""+n);break;case"onScroll":n!=null&&se("scroll",e);break;case"onScrollEnd":n!=null&&se("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),u=e[_t]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,i),typeof n=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):_i(e,a,n)}}}function ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var n=!1,i=!1,u;for(u in a)if(a.hasOwnProperty(u)){var s=a[u];if(s!=null)switch(u){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Te(e,t,u,s,a,null)}}i&&Te(e,t,"srcSet",a.srcSet,a,null),n&&Te(e,t,"src",a.src,a,null);return;case"input":se("invalid",e);var d=u=s=i=null,b=null,x=null;for(n in a)if(a.hasOwnProperty(n)){var O=a[n];if(O!=null)switch(n){case"name":i=O;break;case"type":s=O;break;case"checked":b=O;break;case"defaultChecked":x=O;break;case"value":u=O;break;case"defaultValue":d=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:Te(e,t,n,O,a,null)}}ts(e,u,d,b,x,s,i,!1);return;case"select":se("invalid",e),n=s=u=null;for(i in a)if(a.hasOwnProperty(i)&&(d=a[i],d!=null))switch(i){case"value":u=d;break;case"defaultValue":s=d;break;case"multiple":n=d;default:Te(e,t,i,d,a,null)}t=u,a=s,e.multiple=!!n,t!=null?zn(e,!!n,t,!1):a!=null&&zn(e,!!n,a,!0);return;case"textarea":se("invalid",e),u=i=n=null;for(s in a)if(a.hasOwnProperty(s)&&(d=a[s],d!=null))switch(s){case"value":n=d;break;case"defaultValue":i=d;break;case"children":u=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:Te(e,t,s,d,a,null)}ns(e,n,i,u);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(n=a[b],n!=null))switch(b){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Te(e,t,b,n,a,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(n=0;n<Jl.length;n++)se(Jl[n],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(n=a[x],n!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Te(e,t,x,n,a,null)}return;default:if(ac(t)){for(O in a)a.hasOwnProperty(O)&&(n=a[O],n!==void 0&&Xr(e,t,O,n,a,void 0));return}}for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!=null&&Te(e,t,d,n,a,null))}function Dy(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,u=null,s=null,d=null,b=null,x=null,O=null;for(M in a){var H=a[M];if(a.hasOwnProperty(M)&&H!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":b=H;default:n.hasOwnProperty(M)||Te(e,t,M,null,n,H)}}for(var A in n){var M=n[A];if(H=a[A],n.hasOwnProperty(A)&&(M!=null||H!=null))switch(A){case"type":u=M;break;case"name":i=M;break;case"checked":x=M;break;case"defaultChecked":O=M;break;case"value":s=M;break;case"defaultValue":d=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:M!==H&&Te(e,t,A,M,n,H)}}ec(e,s,d,b,x,O,u,i);return;case"select":M=s=d=A=null;for(u in a)if(b=a[u],a.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":M=b;default:n.hasOwnProperty(u)||Te(e,t,u,null,n,b)}for(i in n)if(u=n[i],b=a[i],n.hasOwnProperty(i)&&(u!=null||b!=null))switch(i){case"value":A=u;break;case"defaultValue":d=u;break;case"multiple":s=u;default:u!==b&&Te(e,t,i,u,n,b)}t=d,a=s,n=M,A!=null?zn(e,!!a,A,!1):!!n!=!!a&&(t!=null?zn(e,!!a,t,!0):zn(e,!!a,a?[]:"",!1));return;case"textarea":M=A=null;for(d in a)if(i=a[d],a.hasOwnProperty(d)&&i!=null&&!n.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:Te(e,t,d,null,n,i)}for(s in n)if(i=n[s],u=a[s],n.hasOwnProperty(s)&&(i!=null||u!=null))switch(s){case"value":A=i;break;case"defaultValue":M=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==u&&Te(e,t,s,i,n,u)}as(e,A,M);return;case"option":for(var $ in a)if(A=a[$],a.hasOwnProperty($)&&A!=null&&!n.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:Te(e,t,$,null,n,A)}for(b in n)if(A=n[b],M=a[b],n.hasOwnProperty(b)&&A!==M&&(A!=null||M!=null))switch(b){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Te(e,t,b,A,n,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in a)A=a[I],a.hasOwnProperty(I)&&A!=null&&!n.hasOwnProperty(I)&&Te(e,t,I,null,n,A);for(x in n)if(A=n[x],M=a[x],n.hasOwnProperty(x)&&A!==M&&(A!=null||M!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,t));break;default:Te(e,t,x,A,n,M)}return;default:if(ac(t)){for(var xe in a)A=a[xe],a.hasOwnProperty(xe)&&A!==void 0&&!n.hasOwnProperty(xe)&&Xr(e,t,xe,void 0,n,A);for(O in n)A=n[O],M=a[O],!n.hasOwnProperty(O)||A===M||A===void 0&&M===void 0||Xr(e,t,O,A,n,M);return}}for(var E in a)A=a[E],a.hasOwnProperty(E)&&A!=null&&!n.hasOwnProperty(E)&&Te(e,t,E,null,n,A);for(H in n)A=n[H],M=a[H],!n.hasOwnProperty(H)||A===M||A==null&&M==null||Te(e,t,H,A,n,M)}function cm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Oy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],u=i.transferSize,s=i.initiatorType,d=i.duration;if(u&&d&&cm(s)){for(s=0,d=i.responseEnd,n+=1;n<a.length;n++){var b=a[n],x=b.startTime;if(x>d)break;var O=b.transferSize,H=b.initiatorType;O&&cm(H)&&(b=b.responseEnd,s+=O*(b<d?1:(d-x)/(b-x)))}if(--n,t+=8*(u+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $r=null,Qr=null;function pu(e){return e.nodeType===9?e:e.ownerDocument}function rm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zr=null;function jy(){var e=window.event;return e&&e.type==="popstate"?e===Zr?!1:(Zr=e,!0):(Zr=null,!1)}var sm=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,Uy=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(e){return fm.resolve(null).then(e).catch(By)}:sm;function By(e){setTimeout(function(){throw e})}function Qa(e){return e==="head"}function dm(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),il(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Pl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Pl(a);for(var u=a.firstChild;u;){var s=u.nextSibling,d=u.nodeName;u[pl]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=s}}else a==="body"&&Pl(e.ownerDocument.body);a=i}while(a);il(t)}function mm(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Vr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vr(a),Fu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ly(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function wy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function kr(e){return e.data==="$?"||e.data==="$~"}function Wr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ir=null;function gm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function pm(e,t,a){switch(t=pu(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Pl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fu(e)}var Zt=new Map,vm=new Set;function vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sa=w.d;w.d={f:Gy,r:Yy,D:Xy,C:$y,L:Qy,m:Ky,X:Vy,S:Zy,M:ky};function Gy(){var e=Sa.f(),t=ou();return e||t}function Yy(e){var t=xn(e);t!==null&&t.tag===5&&t.type==="form"?Uf(t):Sa.r(e)}var al=typeof document>"u"?null:document;function _m(e,t,a){var n=al;if(n&&typeof t=="string"&&t){var i=wt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),vm.has(i)||(vm.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),ct(t,"link",e),Pe(t),n.head.appendChild(t)))}}function Xy(e){Sa.D(e),_m("dns-prefetch",e,null)}function $y(e,t){Sa.C(e,t),_m("preconnect",e,t)}function Qy(e,t,a){Sa.L(e,t,a);var n=al;if(n&&e&&t){var i='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+wt(a.imageSizes)+'"]')):i+='[href="'+wt(e)+'"]';var u=i;switch(t){case"style":u=nl(e);break;case"script":u=ll(e)}Zt.has(u)||(e=C({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(u,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ei(u))||t==="script"&&n.querySelector(ti(u))||(t=n.createElement("link"),ct(t,"link",e),Pe(t),n.head.appendChild(t)))}}function Ky(e,t){Sa.m(e,t);var a=al;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+wt(n)+'"][href="'+wt(e)+'"]',u=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ll(e)}if(!Zt.has(u)&&(e=C({rel:"modulepreload",href:e},t),Zt.set(u,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ti(u)))return}n=a.createElement("link"),ct(n,"link",e),Pe(n),a.head.appendChild(n)}}}function Zy(e,t,a){Sa.S(e,t,a);var n=al;if(n&&e){var i=Cn(n).hoistableStyles,u=nl(e);t=t||"default";var s=i.get(u);if(!s){var d={loading:0,preload:null};if(s=n.querySelector(ei(u)))d.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(u))&&Jr(e,a);var b=s=n.createElement("link");Pe(b),ct(b,"link",e),b._p=new Promise(function(x,O){b.onload=x,b.onerror=O}),b.addEventListener("load",function(){d.loading|=1}),b.addEventListener("error",function(){d.loading|=2}),d.loading|=4,_u(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:d},i.set(u,s)}}}function Vy(e,t){Sa.X(e,t);var a=al;if(a&&e){var n=Cn(a).hoistableScripts,i=ll(e),u=n.get(i);u||(u=a.querySelector(ti(i)),u||(e=C({src:e,async:!0},t),(t=Zt.get(i))&&Fr(e,t),u=a.createElement("script"),Pe(u),ct(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(i,u))}}function ky(e,t){Sa.M(e,t);var a=al;if(a&&e){var n=Cn(a).hoistableScripts,i=ll(e),u=n.get(i);u||(u=a.querySelector(ti(i)),u||(e=C({src:e,async:!0,type:"module"},t),(t=Zt.get(i))&&Fr(e,t),u=a.createElement("script"),Pe(u),ct(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(i,u))}}function bm(e,t,a,n){var i=(i=ne.current)?vu(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=nl(a.href),a=Cn(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=nl(a.href);var u=Cn(i).hoistableStyles,s=u.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,s),(u=i.querySelector(ei(e)))&&!u._p&&(s.instance=u,s.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),u||Wy(i,e,a,s.state))),t&&n===null)throw Error(r(528,""));return s}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ll(a),a=Cn(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function nl(e){return'href="'+wt(e)+'"'}function ei(e){return'link[rel="stylesheet"]['+e+"]"}function Sm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Wy(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),ct(t,"link",a),Pe(t),e.head.appendChild(t))}function ll(e){return'[src="'+wt(e)+'"]'}function ti(e){return"script[async]"+e}function Em(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+wt(a.href)+'"]');if(n)return t.instance=n,Pe(n),n;var i=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Pe(n),ct(n,"style",i),_u(n,a.precedence,e),t.instance=n;case"stylesheet":i=nl(a.href);var u=e.querySelector(ei(i));if(u)return t.state.loading|=4,t.instance=u,Pe(u),u;n=Sm(a),(i=Zt.get(i))&&Jr(n,i),u=(e.ownerDocument||e).createElement("link"),Pe(u);var s=u;return s._p=new Promise(function(d,b){s.onload=d,s.onerror=b}),ct(u,"link",n),t.state.loading|=4,_u(u,a.precedence,e),t.instance=u;case"script":return u=ll(a.src),(i=e.querySelector(ti(u)))?(t.instance=i,Pe(i),i):(n=a,(i=Zt.get(u))&&(n=C({},a),Fr(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Pe(i),ct(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,_u(n,a.precedence,e));return t.instance}function _u(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,u=i,s=0;s<n.length;s++){var d=n[s];if(d.dataset.precedence===t)u=d;else if(u!==i)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Jr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bu=null;function Tm(e,t,a){if(bu===null){var n=new Map,i=bu=new Map;i.set(a,n)}else i=bu,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var u=a[i];if(!(u[pl]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var s=u.getAttribute(t)||"";s=e+s;var d=n.get(s);d?d.push(u):n.set(s,[u])}}return n}function xm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Iy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jy(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=nl(n.href),u=t.querySelector(ei(i));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Su.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,Pe(u);return}u=t.ownerDocument||t,n=Sm(n),(i=Zt.get(i))&&Jr(n,i),u=u.createElement("link"),Pe(u);var s=u;s._p=new Promise(function(d,b){s.onload=d,s.onerror=b}),ct(u,"link",n),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Su.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Pr=0;function Fy(e,t){return e.stylesheets&&e.count===0&&Tu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Tu(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Pr===0&&(Pr=62500*Oy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tu(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Pr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function Su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Eu=null;function Tu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Eu=new Map,t.forEach(Py,e),Eu=null,Su.call(e))}function Py(e,t){if(!(t.state.loading&4)){var a=Eu.get(e);if(a)var n=a.get(null);else{a=new Map,Eu.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<i.length;u++){var s=i[u];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(a.set(s.dataset.precedence,s),n=s)}n&&a.set(null,n)}i=t.instance,s=i.getAttribute("data-precedence"),u=a.get(s)||n,u===n&&a.set(null,i),a.set(s,i),this.count++,n=Su.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),u?u.parentNode.insertBefore(i,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ai={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function ep(e,t,a,n,i,u,s,d,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),this.hiddenUpdates=ku(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=u,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Am(e,t,a,n,i,u,s,d,b,x,O,H){return e=new ep(e,t,a,s,b,x,O,H,d),t=1,u===!0&&(t|=24),u=Mt(3,null,null,t),e.current=u,u.stateNode=e,t=Oc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:a,cache:t},Bc(u),e}function zm(e){return e?(e=Un,e):Un}function Rm(e,t,a,n,i,u){i=zm(i),n.context===null?n.context=i:n.pendingContext=i,n=ja(t),n.payload={element:a},u=u===void 0?null:u,u!==null&&(n.callback=u),a=Ha(e,n,t),a!==null&&(Ct(a,e,t),Hl(a,e,t))}function Mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function eo(e,t){Mm(e,t),(e=e.alternate)&&Mm(e,t)}function Nm(e){if(e.tag===13||e.tag===31){var t=nn(e,67108864);t!==null&&Ct(t,e,67108864),eo(e,67108864)}}function Dm(e){if(e.tag===13||e.tag===31){var t=Ht();t=Wu(t);var a=nn(e,t);a!==null&&Ct(a,e,t),eo(e,t)}}var xu=!0;function tp(e,t,a,n){var i=z.T;z.T=null;var u=w.p;try{w.p=2,to(e,t,a,n)}finally{w.p=u,z.T=i}}function ap(e,t,a,n){var i=z.T;z.T=null;var u=w.p;try{w.p=8,to(e,t,a,n)}finally{w.p=u,z.T=i}}function to(e,t,a,n){if(xu){var i=ao(n);if(i===null)Yr(e,t,n,Cu,a),jm(e,n);else if(lp(i,e,t,a,n))n.stopPropagation();else if(jm(e,n),t&4&&-1<np.indexOf(e)){for(;i!==null;){var u=xn(i);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var s=We(u.pendingLanes);if(s!==0){var d=u;for(d.pendingLanes|=2,d.entangledLanes|=2;s;){var b=1<<31-Oe(s);d.entanglements[1]|=b,s&=~b}aa(u),(ve&6)===0&&(cu=gt()+500,Il(0))}}break;case 31:case 13:d=nn(u,2),d!==null&&Ct(d,u,2),ou(),eo(u,2)}if(u=ao(n),u===null&&Yr(e,t,n,Cu,a),u===i)break;i=u}i!==null&&n.stopPropagation()}else Yr(e,t,n,null,a)}}function ao(e){return e=lc(e),no(e)}var Cu=null;function no(e){if(Cu=null,e=Tn(e),e!==null){var t=y(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=v(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cu=e,null}function Om(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N()){case G:return 2;case V:return 8;case le:case ge:return 32;case re:return 268435456;default:return 32}default:return 32}}var lo=!1,Ka=null,Za=null,Va=null,ni=new Map,li=new Map,ka=[],np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function ii(e,t,a,n,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:u,targetContainers:[i]},t!==null&&(t=xn(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lp(e,t,a,n,i){switch(t){case"focusin":return Ka=ii(Ka,e,t,a,n,i),!0;case"dragenter":return Za=ii(Za,e,t,a,n,i),!0;case"mouseover":return Va=ii(Va,e,t,a,n,i),!0;case"pointerover":var u=i.pointerId;return ni.set(u,ii(ni.get(u)||null,e,t,a,n,i)),!0;case"gotpointercapture":return u=i.pointerId,li.set(u,ii(li.get(u)||null,e,t,a,n,i)),!0}return!1}function Hm(e){var t=Tn(e.target);if(t!==null){var a=y(t);if(a!==null){if(t=a.tag,t===13){if(t=v(a),t!==null){e.blockedOn=t,Vo(e.priority,function(){Dm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Vo(e.priority,function(){Dm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ao(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);nc=n,a.target.dispatchEvent(n),nc=null}else return t=xn(a),t!==null&&Nm(t),e.blockedOn=a,!1;t.shift()}return!0}function Um(e,t,a){Au(e)&&a.delete(t)}function ip(){lo=!1,Ka!==null&&Au(Ka)&&(Ka=null),Za!==null&&Au(Za)&&(Za=null),Va!==null&&Au(Va)&&(Va=null),ni.forEach(Um),li.forEach(Um)}function zu(e,t){e.blockedOn===t&&(e.blockedOn=null,lo||(lo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ip)))}var Ru=null;function Bm(e){Ru!==e&&(Ru=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ru===e&&(Ru=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(no(n||a)===null)continue;break}var u=xn(a);u!==null&&(e.splice(t,3),t-=3,ar(u,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function il(e){function t(b){return zu(b,e)}Ka!==null&&zu(Ka,e),Za!==null&&zu(Za,e),Va!==null&&zu(Va,e),ni.forEach(t),li.forEach(t);for(var a=0;a<ka.length;a++){var n=ka[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ka.length&&(a=ka[0],a.blockedOn===null);)Hm(a),a.blockedOn===null&&ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],u=a[n+1],s=i[_t]||null;if(typeof u=="function")s||Bm(a);else if(s){var d=null;if(u&&u.hasAttribute("formAction")){if(i=u,s=u[_t]||null)d=s.formAction;else if(no(i)!==null)continue}else d=s.action;typeof d=="function"?a[n+1]=d:(a.splice(n,3),n-=3),Bm(a)}}}function Lm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function io(e){this._internalRoot=e}Mu.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,n=Ht();Rm(a,n,e,t,null,null)},Mu.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rm(e.current,2,null,e,null,null),ou(),t[En]=null}};function Mu(e){this._internalRoot=e}Mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ka.length&&t!==0&&t<ka[a].priority;a++);ka.splice(a,0,e),a===0&&Hm(e)}};var wm=c.version;if(wm!=="19.2.4")throw Error(r(527,wm,"19.2.4"));w.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var up={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Xe=Nu.inject(up),Ue=Nu}catch{}}return ci.createRoot=function(e,t){if(!m(e))throw Error(r(299));var a=!1,n="",i=Kf,u=Zf,s=Vf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Am(e,1,!1,null,null,a,n,null,i,u,s,Lm),e[En]=t.current,Gr(e),new io(t)},ci.hydrateRoot=function(e,t,a){if(!m(e))throw Error(r(299));var n=!1,i="",u=Kf,s=Zf,d=Vf,b=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(s=a.onCaughtError),a.onRecoverableError!==void 0&&(d=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=Am(e,1,!0,t,a??null,n,i,b,u,s,d,Lm),t.context=zm(null),a=t.current,n=Ht(),n=Wu(n),i=ja(n),i.callback=null,Ha(a,i,n),a=n,t.current.lanes=a,yl(t,a),aa(t),e[En]=t.current,Gr(e),new Mu(t)},ci.version="19.2.4",ci}var km;function yp(){if(km)return ro.exports;km=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),ro.exports=gp(),ro.exports}var pp=yp();const vp=[{id:"end_N",type:"corridor",openings:[1,0,0,0],tags:["dead_end"]},{id:"end_E",type:"corridor",openings:[0,1,0,0],tags:["dead_end"]},{id:"end_S",type:"corridor",openings:[0,0,1,0],tags:["dead_end"]},{id:"end_W",type:"corridor",openings:[0,0,0,1],tags:["dead_end"]},{id:"straight_NS",type:"corridor",openings:[1,0,1,0],tags:["straight"]},{id:"straight_EW",type:"corridor",openings:[0,1,0,1],tags:["straight"]},{id:"corner_NE",type:"corridor",openings:[1,1,0,0],tags:["corner"]},{id:"corner_ES",type:"corridor",openings:[0,1,1,0],tags:["corner"]},{id:"corner_SW",type:"corridor",openings:[0,0,1,1],tags:["corner"]},{id:"corner_WN",type:"corridor",openings:[1,0,0,1],tags:["corner"]},{id:"tee_NSE",type:"corridor",openings:[1,1,1,0],tags:["tee"]},{id:"tee_NSW",type:"corridor",openings:[1,0,1,1],tags:["tee"]},{id:"tee_EWN",type:"corridor",openings:[1,1,0,1],tags:["tee"]},{id:"tee_EWS",type:"corridor",openings:[0,1,1,1],tags:["tee"]},{id:"cross_NESW",type:"corridor",openings:[1,1,1,1],tags:["cross"]},{id:"wild_cross",type:"corridor",openings:[1,1,1,1],tags:["cross","wildcard"],specialRule:"optional_side_seal"}],_p=[{id:"loop_link",type:"corridor",openings:[1,1,1,1],tags:["special","stabilizer"],availability:"post_mvp",specialRule:"loop_closure_link"},{id:"bridge_NS",type:"corridor",openings:[1,0,1,0],tags:["straight","bridge"],availability:"post_mvp"},{id:"bridge_EW",type:"corridor",openings:[0,1,0,1],tags:["straight","bridge"],availability:"post_mvp"},{id:"choke_NS",type:"corridor",openings:[1,0,1,0],tags:["straight","choke"],availability:"post_mvp"},{id:"choke_EW",type:"corridor",openings:[0,1,0,1],tags:["straight","choke"],availability:"post_mvp"}],bp=[{id:"room1_N",type:"room",openings:[1,0,0,0],tags:["room","door_1"]},{id:"room1_E",type:"room",openings:[0,1,0,0],tags:["room","door_1"]},{id:"room1_S",type:"room",openings:[0,0,1,0],tags:["room","door_1"]},{id:"room1_W",type:"room",openings:[0,0,0,1],tags:["room","door_1"]},{id:"room2_NS",type:"room",openings:[1,0,1,0],tags:["room","door_2"]},{id:"room2_EW",type:"room",openings:[0,1,0,1],tags:["room","door_2"]},{id:"room2_NE",type:"room",openings:[1,1,0,0],tags:["room","door_2"]},{id:"room2_ES",type:"room",openings:[0,1,1,0],tags:["room","door_2"]},{id:"room2_SW",type:"room",openings:[0,0,1,1],tags:["room","door_2"]},{id:"room2_WN",type:"room",openings:[1,0,0,1],tags:["room","door_2"]},{id:"room3_NSE",type:"room",openings:[1,1,1,0],tags:["room","door_3"]},{id:"room3_NSW",type:"room",openings:[1,0,1,1],tags:["room","door_3"]},{id:"room3_EWN",type:"room",openings:[1,1,0,1],tags:["room","door_3"]},{id:"room3_EWS",type:"room",openings:[0,1,1,1],tags:["room","door_3"]},{id:"room4_NESW",type:"room",openings:[1,1,1,1],tags:["room","door_4"]}],Ja=[...vp,...bp],Co=[...Ja,..._p];function ph(l){return Co.find(c=>c.id===l)}const Sp=[{id:"staggered",harmful:!0,durationTurns:1,stackRule:"refresh_duration",resistFamily:"physical_status",effectPayload:"target loses 1 AP on next turn",ui:{iconId:"status.staggered",shortLabel:"Staggered",description:"Reduced action tempo next turn."}},{id:"rooted",harmful:!0,durationTurns:1,stackRule:"refresh_duration",resistFamily:"arcane_status",effectPayload:"target cannot move",ui:{iconId:"status.rooted",shortLabel:"Rooted",description:"Cannot move until condition expires."}},{id:"exposed",harmful:!0,durationTurns:2,stackRule:"stack_intensity",resistFamily:"none",effectPayload:"target takes increased incoming damage",ui:{iconId:"status.exposed",shortLabel:"Exposed",description:"Incoming damage amplification."}},{id:"guarded",harmful:!1,durationTurns:1,stackRule:"refresh_duration",resistFamily:"none",effectPayload:"increased physical mitigation",ui:{iconId:"status.guarded",shortLabel:"Guarded",description:"Improved physical defense this turn."}},{id:"warded",harmful:!1,durationTurns:1,stackRule:"refresh_duration",resistFamily:"none",effectPayload:"increased arcane/divine mitigation",ui:{iconId:"status.warded",shortLabel:"Warded",description:"Improved magical defense this turn."}},{id:"inspired",harmful:!1,durationTurns:2,stackRule:"unique_no_stack",resistFamily:"none",effectPayload:"small accuracy and damage bonus",ui:{iconId:"status.inspired",shortLabel:"Inspired",description:"Tempo and accuracy boost."}}],Ep=[{id:"universal.move",classId:"universal",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"move_self",tiles:1,mode:"step"}],ui:{iconId:"act.move",shortLabel:"Move",description:"Reposition by one tile.",logOnUse:"{actor} moves."}},{id:"universal.basic_melee",classId:"universal",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:6,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"DEX",primaryScaleRatio:1,secondaryScaleRatio:.5}],tags:["basic","melee"],ui:{iconId:"act.basic_melee",shortLabel:"Basic Melee",description:"Universal close-range attack.",logOnUse:"{actor} strikes {target}."}},{id:"universal.guard_brace",classId:"universal",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:1,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"apply_condition",conditionId:"guarded",turns:1},{op:"apply_condition",conditionId:"warded",turns:1}],ui:{iconId:"act.guard_brace",shortLabel:"Guard/Brace",description:"Gain short defensive buffs.",logOnUse:"{actor} braces for impact."}},{id:"universal.retreat",classId:"universal",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"move_self",tiles:1,mode:"retreat"}],ui:{iconId:"act.retreat",shortLabel:"Retreat",description:"Attempt to disengage from encounter.",logOnUse:"{actor} attempts retreat."}},{id:"universal.wait",classId:"universal",kind:"active",family:"support",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"grant_focus",amount:1,target:"self"}],ui:{iconId:"act.wait",shortLabel:"Wait",description:"Hold and recover a small amount of focus.",logOnUse:"{actor} waits."}},{id:"fighter.martial_mastery",classId:"fighter",kind:"passive",family:"melee",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[],tags:["passive","martial_mastery"],ui:{iconId:"passive.fighter.mastery",shortLabel:"Martial Mastery",description:"Melee attacks gain major accuracy and damage bonuses for fighter.",logOnUse:"{actor} channels Martial Mastery."}},{id:"fighter.crushing_strike",classId:"fighter",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:1,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:10,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"DEX"},{op:"apply_condition",conditionId:"staggered",turns:1,chancePercent:35}],ui:{iconId:"act.fighter.crush",shortLabel:"Crushing Strike",description:"Heavy melee hit with stagger chance.",logOnUse:"{actor} crushes {target}."}},{id:"fighter.guard_break",classId:"fighter",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:2,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:8,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"DEX"},{op:"apply_condition",conditionId:"exposed",turns:2}],ui:{iconId:"act.fighter.break",shortLabel:"Guard Break",description:"Applies exposed to improve follow-up pressure.",logOnUse:"{actor} shatters {target}'s guard."}},{id:"fighter.frontline_step",classId:"fighter",kind:"active",family:"support",apCost:1,focusCost:1,cooldownTurns:1,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"move_self",tiles:2,mode:"step"},{op:"apply_condition",conditionId:"guarded",turns:1}],ui:{iconId:"act.fighter.step",shortLabel:"Frontline Step",description:"Advance with a short defensive guard.",logOnUse:"{actor} steps into the frontline."}},{id:"monk.martial_mastery",classId:"monk",kind:"passive",family:"melee",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[],tags:["passive","martial_mastery"],ui:{iconId:"passive.monk.mastery",shortLabel:"Martial Mastery",description:"Melee attacks gain major accuracy and damage bonuses for monk.",logOnUse:"{actor} enters disciplined stance."}},{id:"monk.flurry_strike",classId:"monk",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:1,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:5,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"WIS"},{op:"damage",amount:5,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"WIS"}],ui:{iconId:"act.monk.flurry",shortLabel:"Flurry Strike",description:"Two rapid hits in melee range.",logOnUse:"{actor} unleashes a flurry."}},{id:"monk.centered_breath",classId:"monk",kind:"active",family:"support",apCost:1,focusCost:0,cooldownTurns:2,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[{op:"heal",amount:8},{op:"grant_focus",amount:1,target:"self"}],ui:{iconId:"act.monk.breath",shortLabel:"Centered Breath",description:"Recover health and focus.",logOnUse:"{actor} regains composure."}},{id:"monk.force_palm",classId:"monk",kind:"active",family:"melee",apCost:1,focusCost:2,cooldownTurns:2,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:7,damageFamily:"physical",primaryScaleStat:"STR",secondaryScaleStat:"WIS"},{op:"push_or_pull",distance:1,direction:"push"},{op:"apply_condition",conditionId:"staggered",turns:1,chancePercent:30}],ui:{iconId:"act.monk.palm",shortLabel:"Force Palm",description:"Pushes and disrupts the target.",logOnUse:"{actor} drives {target} backward."}},{id:"wizard.arcane_efficiency",classId:"wizard",kind:"passive",family:"arcane",apCost:0,focusCost:0,cooldownTurns:0,range:0,targeting:{team:"self",defense:"none",pattern:"self"},effects:[],tags:["passive","focus_efficiency"],ui:{iconId:"passive.wizard.efficiency",shortLabel:"Arcane Efficiency",description:"Arcane skills are tuned for better focus economy.",logOnUse:"{actor} channels efficient arcana."}},{id:"wizard.arc_bolt",classId:"wizard",kind:"active",family:"arcane",apCost:1,focusCost:2,cooldownTurns:0,range:4,targeting:{team:"enemy",defense:"ward",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:9,damageFamily:"arcane",primaryScaleStat:"INT",secondaryScaleStat:"WIS"}],ui:{iconId:"act.wizard.bolt",shortLabel:"Arc Bolt",description:"Reliable ranged arcane damage.",logOnUse:"{actor} fires an arc bolt at {target}."}},{id:"wizard.static_lattice",classId:"wizard",kind:"active",family:"arcane",apCost:1,focusCost:3,cooldownTurns:2,range:3,targeting:{team:"enemy",defense:"ward",pattern:"burst",radius:1,requiresLineOfSight:!0},effects:[{op:"apply_condition",conditionId:"rooted",turns:1},{op:"damage",amount:6,damageFamily:"arcane",primaryScaleStat:"INT",secondaryScaleStat:"WIS"}],ui:{iconId:"act.wizard.lattice",shortLabel:"Static Lattice",description:"Root and damage in a small area.",logOnUse:"{actor} binds nearby enemies in static lattice."}},{id:"wizard.mind_lance",classId:"wizard",kind:"active",family:"arcane",apCost:1,focusCost:3,cooldownTurns:1,range:5,targeting:{team:"enemy",defense:"resolve",pattern:"line",length:5,requiresLineOfSight:!0},effects:[{op:"damage",amount:8,damageFamily:"mental",primaryScaleStat:"INT",secondaryScaleStat:"CHA"},{op:"apply_condition",conditionId:"exposed",turns:1,chancePercent:40}],ui:{iconId:"act.wizard.lance",shortLabel:"Mind Lance",description:"Piercing mental strike with expose chance.",logOnUse:"{actor} pierces defenses with a mind lance."}},{id:"enemy.bruiser.heavy_swing",classId:"enemy",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:8,damageFamily:"physical"}],ui:{iconId:"enemy.bruiser.swing",shortLabel:"Heavy Swing",description:"Basic bruiser attack.",logOnUse:"{actor} swings hard at {target}."}},{id:"enemy.skirmisher.knife_dance",classId:"enemy",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:0,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:6,damageFamily:"physical"},{op:"move_self",tiles:1,mode:"step"}],ui:{iconId:"enemy.skirmisher.knife",shortLabel:"Knife Dance",description:"Light hit with reposition.",logOnUse:"{actor} slashes and repositions."}},{id:"enemy.controller.snare_hex",classId:"enemy",kind:"active",family:"arcane",apCost:1,focusCost:0,cooldownTurns:1,range:4,targeting:{team:"enemy",defense:"ward",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:5,damageFamily:"arcane"},{op:"apply_condition",conditionId:"rooted",turns:1,chancePercent:45}],ui:{iconId:"enemy.controller.hex",shortLabel:"Snare Hex",description:"Arcane snare with root chance.",logOnUse:"{actor} casts a snare hex."}},{id:"enemy.bruiser.elite_overwhelm",classId:"enemy",kind:"active",family:"melee",apCost:1,focusCost:0,cooldownTurns:1,range:1,targeting:{team:"enemy",defense:"evasion",pattern:"single",requiresLineOfSight:!0},effects:[{op:"damage",amount:12,damageFamily:"physical"},{op:"apply_condition",conditionId:"staggered",turns:1}],ui:{iconId:"enemy.elite.overwhelm",shortLabel:"Overwhelm",description:"Elite bruiser pressure strike.",logOnUse:"{actor} overwhelms {target}."}}],Tp=[{id:"fighter",primary:"STR",secondary:"DEX",tertiary:"WIS",passiveAbilityIds:["fighter.martial_mastery"],starterActiveAbilityIds:["fighter.crushing_strike","fighter.guard_break","fighter.frontline_step"],recommendedBasicActions:["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"],maxPartySizeSoftCap:4},{id:"monk",primary:"STR",secondary:"WIS",tertiary:"DEX",passiveAbilityIds:["monk.martial_mastery"],starterActiveAbilityIds:["monk.flurry_strike","monk.centered_breath","monk.force_palm"],recommendedBasicActions:["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"],maxPartySizeSoftCap:4},{id:"wizard",primary:"INT",secondary:"WIS",tertiary:"CHA",passiveAbilityIds:["wizard.arcane_efficiency"],starterActiveAbilityIds:["wizard.arc_bolt","wizard.static_lattice","wizard.mind_lance"],recommendedBasicActions:["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"],maxPartySizeSoftCap:4}],xp=[{id:"enemy.bruiser.base",role:"bruiser",levelOffset:0,threatValue:5,baseStats:{health:30,focus:2,STR:8,DEX:4,WIS:3,INT:2,CHA:2},abilityIds:["enemy.bruiser.heavy_swing"],aiProfileId:"ai.bruiser.base",ui:{iconId:"enemy.bruiser.base",shortLabel:"Bruiser"}},{id:"enemy.skirmisher.base",role:"skirmisher",levelOffset:0,threatValue:4,baseStats:{health:24,focus:2,STR:5,DEX:8,WIS:4,INT:2,CHA:3},abilityIds:["enemy.skirmisher.knife_dance"],aiProfileId:"ai.skirmisher.base",ui:{iconId:"enemy.skirmisher.base",shortLabel:"Skirmisher"}},{id:"enemy.controller.base",role:"controller",levelOffset:0,threatValue:4,baseStats:{health:22,focus:3,STR:3,DEX:4,WIS:6,INT:8,CHA:5},abilityIds:["enemy.controller.snare_hex"],aiProfileId:"ai.controller.base",ui:{iconId:"enemy.controller.base",shortLabel:"Controller"}},{id:"enemy.bruiser.elite",role:"bruiser",levelOffset:1,threatValue:8,baseStats:{health:42,focus:3,STR:10,DEX:5,WIS:4,INT:2,CHA:3},abilityIds:["enemy.bruiser.heavy_swing","enemy.bruiser.elite_overwhelm"],aiProfileId:"ai.bruiser.elite",isElite:!0,ui:{iconId:"enemy.bruiser.elite",shortLabel:"Elite Bruiser"}}],Cp=[{id:"reward.combat.default",entries:[{kind:"draw_bonus",amount:1,weight:50},{kind:"bonus_map_card",amount:1,weight:30},{kind:"focus_refill_partial",amount:2,weight:20}]},{id:"reward.elite.default",entries:[{kind:"draw_bonus",amount:1,weight:35},{kind:"bonus_map_card",amount:2,weight:45},{kind:"focus_refill_partial",amount:3,weight:20}]}],Ap=[{id:"fail.combat.default",applyWound:!0,hpResetPercent:40,handCardPenalty:1,markEncounterResolvedFail:!0}],zp=[{id:"pack.combat.default",encounterType:"combat",objectiveType:"defeat_all",threatBudgetRange:{min:7,max:12},enemyPoolIds:["enemy.bruiser.base","enemy.skirmisher.base","enemy.controller.base"],spawnRules:{minEnemies:2,maxEnemies:3,allowDuplicateArchetypes:!0,eliteRequired:!1},rewardTableId:"reward.combat.default",failForwardPolicyId:"fail.combat.default"},{id:"pack.elite.default",encounterType:"elite",objectiveType:"defeat_elite",threatBudgetRange:{min:10,max:16},enemyPoolIds:["enemy.bruiser.elite","enemy.controller.base"],spawnRules:{minEnemies:2,maxEnemies:3,allowDuplicateArchetypes:!1,eliteRequired:!0},rewardTableId:"reward.elite.default",failForwardPolicyId:"fail.combat.default"}],Rp=[42011,42029,42043,42077],Mp={ap:{basePerTurn:2,moveCost:1,guaranteedMoveTilesWhenAble:1,maxPartySizeSoftCap:4},hit:{baseChance:60,deltaScale:1.5,minChance:15,maxChance:95},damage:{minimumDamage:1,marginTierBonus:.2},crit:{baseChance:3,dexPerBonusDivisor:3,multiplier:1.5},focus:{baseRegenPerTurn:1,wisRegenDivisor:5,momentumKillGain:2,momentumLootGain:1},initiative:{base:10,dexWeight:2,wisWeight:1,tieBreaker:"player_wins"},retreat:{edgeChancePercent:100,centerChancePercent:40,minChancePercent:20,distancePower:1.15},wound:{applyOnMostFailures:!0,hpResetPercent:40,handCardPenalty:1}},ft={abilities:Ep,conditions:Sp,classes:Tp,enemyArchetypes:xp,encounterPacks:zp,rewardTables:Cp,failForwardPolicies:Ap,tuning:Mp,scenarioSeeds:Rp},_n=[{id:"treasure",family:"Treasure",validTargets:"room",stackRules:{maxStacks:3,behavior:"additive"},generationEffects:{lootQualityDelta:3,rewardDelta:2,dangerDelta:0}},{id:"puzzle",family:"Puzzle",validTargets:"room",stackRules:{maxStacks:2,behavior:"highest_only"},generationEffects:{puzzleChanceDelta:4,rewardDelta:1}},{id:"trap_heavy",family:"Trap-heavy",validTargets:"both",stackRules:{maxStacks:3,behavior:"additive"},generationEffects:{trapDensityDelta:4,dangerDelta:2,rewardDelta:1}},{id:"elite",family:"Elite",validTargets:"room",stackRules:{maxStacks:1,behavior:"unique"},generationEffects:{dangerDelta:4,rewardDelta:3}},{id:"swarm",family:"Swarm",validTargets:"room",stackRules:{maxStacks:1,behavior:"unique"},generationEffects:{dangerDelta:3,rewardDelta:2}},{id:"shrine_shop",family:"Shrine/Shop",validTargets:"room",stackRules:{maxStacks:1,behavior:"unique"},generationEffects:{rewardDelta:2,specialRules:["utility_node"]}},{id:"environmental_hazard",family:"Environmental hazard",validTargets:"both",stackRules:{maxStacks:2,behavior:"highest_only"},generationEffects:{trapDensityDelta:1,dangerDelta:2,specialRules:["hazard_field"]}},{id:"ambush",family:"Ambush",validTargets:"both",stackRules:{maxStacks:2,behavior:"highest_only"},generationEffects:{dangerDelta:3,rewardDelta:2,specialRules:["ambush_entry"]}},{id:"challenge",family:"Challenge",validTargets:"both",stackRules:{maxStacks:2,behavior:"additive"},generationEffects:{dangerDelta:3,rewardDelta:3}}],Gu=[{id:"closet_2x1",category:"Micro",sizeRange:{minW:2,maxW:3,minH:1,maxH:1},recommendedExits:[1],difficultyWeight:1},{id:"cell_2x2",category:"Micro",sizeRange:{minW:2,maxW:3,minH:2,maxH:2},recommendedExits:[1,2],difficultyWeight:1},{id:"nook_3x1",category:"Micro",sizeRange:{minW:3,maxW:4,minH:1,maxH:1},recommendedExits:[1],difficultyWeight:1},{id:"alcove_3x2",category:"Micro",sizeRange:{minW:3,maxW:3,minH:2,maxH:2},recommendedExits:[1,2],difficultyWeight:1},{id:"small_square_3x3",category:"Small",sizeRange:{minW:3,maxW:3,minH:3,maxH:3},recommendedExits:[1,2],difficultyWeight:2},{id:"small_rect_4x3",category:"Small",sizeRange:{minW:4,maxW:4,minH:3,maxH:3},recommendedExits:[2],difficultyWeight:2},{id:"small_rect_3x4",category:"Small",sizeRange:{minW:3,maxW:3,minH:4,maxH:4},recommendedExits:[2],difficultyWeight:2},{id:"medium_square_5x5",category:"Medium",sizeRange:{minW:5,maxW:5,minH:5,maxH:5},recommendedExits:[2,3],difficultyWeight:3},{id:"medium_rect_6x4",category:"Medium",sizeRange:{minW:6,maxW:6,minH:4,maxH:4},recommendedExits:[2,3],difficultyWeight:3},{id:"medium_rect_4x6",category:"Medium",sizeRange:{minW:4,maxW:4,minH:6,maxH:6},recommendedExits:[2,3],difficultyWeight:3},{id:"medium_rect_7x5",category:"Medium",sizeRange:{minW:7,maxW:7,minH:5,maxH:5},recommendedExits:[2,3],difficultyWeight:3},{id:"large_square_8x8",category:"Large",sizeRange:{minW:8,maxW:8,minH:8,maxH:8},recommendedExits:[2,3,4],difficultyWeight:4},{id:"great_hall_12x8",category:"Large",sizeRange:{minW:9,maxW:9,minH:8,maxH:8},recommendedExits:[2,3,4],difficultyWeight:4},{id:"cathedral_12x12",category:"Large",sizeRange:{minW:9,maxW:9,minH:9,maxH:9},recommendedExits:[3,4],difficultyWeight:5},{id:"long_gallery_12x4",category:"Large",sizeRange:{minW:9,maxW:9,minH:4,maxH:4},recommendedExits:[2],difficultyWeight:4},{id:"wide_gallery_4x12",category:"Large",sizeRange:{minW:4,maxW:4,minH:9,maxH:9},recommendedExits:[2],difficultyWeight:4},{id:"L_room",category:"Shaped",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[2,3],difficultyWeight:3},{id:"T_room",category:"Shaped",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[3],difficultyWeight:3},{id:"U_room_horseshoe",category:"Shaped",sizeRange:{minW:6,maxW:8,minH:5,maxH:7},recommendedExits:[2,3],difficultyWeight:3},{id:"ring_room_donut",category:"Shaped",sizeRange:{minW:6,maxW:9,minH:6,maxH:9},recommendedExits:[2,3,4],difficultyWeight:4},{id:"split_room_central_wall",category:"Shaped",sizeRange:{minW:6,maxW:9,minH:6,maxH:9},recommendedExits:[2,3],difficultyWeight:4},{id:"double_lobe",category:"Shaped",sizeRange:{minW:6,maxW:8,minH:5,maxH:8},recommendedExits:[2,3],difficultyWeight:4},{id:"zigzag_gallery",category:"Shaped",sizeRange:{minW:7,maxW:9,minH:4,maxH:6},recommendedExits:[2],difficultyWeight:3},{id:"pillar_field",category:"Shaped",sizeRange:{minW:6,maxW:9,minH:6,maxH:9},recommendedExits:[2,3,4],difficultyWeight:4},{id:"mazelet",category:"Shaped",sizeRange:{minW:6,maxW:8,minH:6,maxH:8},recommendedExits:[2,3],difficultyWeight:4},{id:"anteroom_to_chamber",category:"Entrance-driven",sizeRange:{minW:5,maxW:8,minH:4,maxH:7},recommendedExits:[1,2],difficultyWeight:3},{id:"funnel_room",category:"Entrance-driven",sizeRange:{minW:5,maxW:7,minH:5,maxH:8},recommendedExits:[1,2],difficultyWeight:3},{id:"gauntlet_room",category:"Entrance-driven",sizeRange:{minW:6,maxW:9,minH:3,maxH:5},recommendedExits:[1,2],difficultyWeight:3},{id:"corridor_fight_1wide",category:"Corridor-combat arena",sizeRange:{minW:6,maxW:9,minH:1,maxH:1},recommendedExits:[2],difficultyWeight:2},{id:"corridor_fight_2wide",category:"Corridor-combat arena",sizeRange:{minW:6,maxW:9,minH:2,maxH:2},recommendedExits:[2],difficultyWeight:2},{id:"junction_fight_T",category:"Corridor-combat arena",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[3],difficultyWeight:3},{id:"junction_fight_cross",category:"Corridor-combat arena",sizeRange:{minW:5,maxW:7,minH:5,maxH:7},recommendedExits:[4],difficultyWeight:3}],Ao=[{id:"end_N",openings:[1,0,0,0],compactGlyph:""},{id:"end_E",openings:[0,1,0,0],compactGlyph:""},{id:"end_S",openings:[0,0,1,0],compactGlyph:""},{id:"end_W",openings:[0,0,0,1],compactGlyph:""},{id:"straight_NS",openings:[1,0,1,0],compactGlyph:""},{id:"straight_EW",openings:[0,1,0,1],compactGlyph:""},{id:"corner_NE",openings:[1,1,0,0],compactGlyph:""},{id:"corner_ES",openings:[0,1,1,0],compactGlyph:""},{id:"corner_SW",openings:[0,0,1,1],compactGlyph:""},{id:"corner_WN",openings:[1,0,0,1],compactGlyph:""},{id:"tee_NSE",openings:[1,1,1,0],compactGlyph:""},{id:"tee_NSW",openings:[1,0,1,1],compactGlyph:""},{id:"tee_EWN",openings:[1,1,0,1],compactGlyph:""},{id:"tee_EWS",openings:[0,1,1,1],compactGlyph:""},{id:"cross_NESW",openings:[1,1,1,1],compactGlyph:""},{id:"wild_cross",openings:[1,1,1,1],compactGlyph:""},{id:"room1_N",openings:[1,0,0,0],compactGlyph:""},{id:"room1_E",openings:[0,1,0,0],compactGlyph:""},{id:"room1_S",openings:[0,0,1,0],compactGlyph:""},{id:"room1_W",openings:[0,0,0,1],compactGlyph:""},{id:"room2_NS",openings:[1,0,1,0],compactGlyph:""},{id:"room2_EW",openings:[0,1,0,1],compactGlyph:""},{id:"room2_NE",openings:[1,1,0,0],compactGlyph:""},{id:"room2_ES",openings:[0,1,1,0],compactGlyph:""},{id:"room2_SW",openings:[0,0,1,1],compactGlyph:""},{id:"room2_WN",openings:[1,0,0,1],compactGlyph:""},{id:"room3_NSE",openings:[1,1,1,0],compactGlyph:""},{id:"room3_NSW",openings:[1,0,1,1],compactGlyph:""},{id:"room3_EWN",openings:[1,1,0,1],compactGlyph:""},{id:"room3_EWS",openings:[0,1,1,1],compactGlyph:""},{id:"room4_NESW",openings:[1,1,1,1],compactGlyph:""}],vh=[{category:"Micro",glyph:""},{category:"Small",glyph:""},{category:"Medium",glyph:""},{category:"Large",glyph:""},{category:"Shaped",glyph:""},{category:"Entrance-driven",glyph:""},{category:"Corridor-combat arena",glyph:""},{category:"Objective/Special",glyph:""}],zo=[{modifier:"Treasure",glyph:""},{modifier:"Puzzle",glyph:""},{modifier:"Trap-heavy",glyph:""},{modifier:"Elite",glyph:""},{modifier:"Swarm",glyph:""},{modifier:"Shrine/Shop",glyph:""},{modifier:"Environmental hazard",glyph:""},{modifier:"Ambush",glyph:""},{modifier:"Challenge",glyph:""}],Ou=["STR","DEX","WIS","INT","CHA"],_h=["fighter","monk","wizard"],Np=[..._h,"universal","enemy"],Dp=["melee","arcane","support"],Op=["enemy","ally","self","tile","any"],jp=["evasion","resolve","ward","none"],Hp=["single","self","line","burst"],Up=["physical_status","mental_divine_status","arcane_status","none"],Bp=["bruiser","skirmisher","controller"],Lp=["combat","elite"],wp=["defeat_all","defeat_elite"],qp=["draw_bonus","bonus_map_card","focus_refill_partial","none"];function Wm(l){return l>>>0}function Ro(l){let c=Wm(l);const o=()=>{c=c+1831565813>>>0;let y=Math.imul(c^c>>>15,1|c);return y^=y+Math.imul(y^y>>>7,61|y),((y^y>>>14)>>>0)/4294967296},r=y=>{if(!Number.isInteger(y)||y<=0)throw new Error("maxExclusive must be a positive integer");return Math.floor(o()*y)},m=y=>{if(y.length===0)throw new Error("Cannot pick from an empty array");return y[r(y.length)]};return{seed:Wm(l),nextFloat:o,nextInt:r,pick:m}}const Gp=40,Yp=12,Xp="fighter";function Hu(l,c,o){return Math.max(c,Math.min(o,l))}function Im(l){return l>>>0}function $p(l){return Math.imul(l,1664525)+1013904223>>>0}function mi(l,c){return!Number.isInteger(c)||c<=0?0:(l.rngState=$p(l.rngState),l.rngState%c)}function At(l,c){return[c,...l].slice(0,Gp)}function Qp(l){const c={STR:6,DEX:6,WIS:6,INT:6,CHA:6};return l==="fighter"?{...c,STR:9,DEX:8,WIS:7}:l==="monk"?{...c,STR:9,WIS:8,DEX:7}:{...c,INT:9,WIS:8,CHA:7}}function Kp(l,c=1){return 28+6*c+3*l.STR+2*l.WIS}function Zp(l,c=1){return 6+l.INT+l.CHA+Math.floor(c/2)}function ju(l,c){return l.filter(o=>o.id===c).reduce((o,r)=>o+r.stacks,0)}function Vp(l,c,o){return o<=0?l.filter(m=>m.id!==c):l.find(m=>m.id===c)?l.map(m=>m.id===c?{...m,stacks:o}:m):[...l,{id:c,stacks:o}]}function bh(l,c){const o=[...l];for(let r=o.length-1;r>0;r-=1){const m=mi(c,r+1),y=o[r],v=o[m];y===void 0||v===void 0||(o[r]=v,o[m]=y)}return o}function Mo(l){let c=[...l.deckAbilityIds],o=[...l.discardAbilityIds],r=[...l.handAbilityIds],m=l.rngState;for(;r.length<l.handSize;){if(c.length===0){if(o.length===0)break;const v={rngState:m,log:l.log};c=bh(o,v),o=[],m=v.rngState}const y=c[0];if(!y)break;c=c.slice(1),r=[...r,y]}return{...l,rngState:m,deckAbilityIds:c,discardAbilityIds:o,handAbilityIds:r}}function Sh(l,c){return l.abilities.find(o=>o.id===c)}function kp(l,c){{const o=l.encounterPacks.find(r=>r.id===c);if(o)return o}return l.encounterPacks.find(o=>o.id==="pack.combat.default")??l.encounterPacks[0]}function Wp(l,c,o){const r=kp(l,o),m=r.enemyPoolIds.map(p=>l.enemyArchetypes.find(R=>R.id===p)).filter(p=>p!==void 0).sort((p,R)=>p.id.localeCompare(R.id));if(m.length===0)return[];const y=r.spawnRules.maxEnemies-r.spawnRules.minEnemies+1,v=y>1?mi(c,y):0,g=r.spawnRules.minEnemies+v,f=[];for(r.spawnRules.eliteRequired&&f.push(m.find(p=>p.isElite)??m[0]);f.length<g;){const p=r.spawnRules.allowDuplicateArchetypes?m:m.filter(U=>!f.some(Y=>Y.id===U.id));if(p.length===0)break;const R=mi(c,p.length),C=p[R];if(!C)break;f.push(C)}return f}function Ip(l,c){const o=l.classes.find(m=>m.id===c);return o?[...o.starterActiveAbilityIds,"universal.basic_melee","universal.guard_brace","universal.wait"].filter((m,y,v)=>v.indexOf(m)===y):[]}function Ut(l,c){return l.stats[c]}function Ft(l,c){return l.stats[c]}function Eh(l){return l.family==="melee"?{primary:"STR",secondary:"DEX"}:l.family==="arcane"?{primary:"INT",secondary:"WIS"}:{primary:"WIS",secondary:"CHA"}}function Jp(l,c){const o=c.classId==="wizard",r=c.passiveAbilityIds.includes("wizard.arcane_efficiency");return o&&r&&l.family==="arcane"?Math.max(0,l.focusCost-1):l.focusCost}function Th(l,c,o,r){const m=Hu(r.tuning.hit.baseChance+Math.floor((l-c)*r.tuning.hit.deltaScale),r.tuning.hit.minChance,r.tuning.hit.maxChance);return mi(o,100)+1<=m}function xh(l,c){return l==="physical"?Math.floor(("classId"in c?Ut(c,"STR"):Ft(c,"STR"))*.8):l==="arcane"?Math.floor(("classId"in c?Ut(c,"INT"):Ft(c,"INT"))*.8):l==="divine"||l==="mental"?Math.floor(("classId"in c?Ut(c,"WIS"):Ft(c,"WIS"))*.8):0}function Jm(l,c){const o=l.filter(r=>r.hp>0);return o.length===0?null:c?o.find(r=>r.id===c)??null:[...o].sort((r,m)=>r.hp-m.hp)[0]??null}function Fm(l,c){return l.map(o=>o.id===c.id?c:o)}function Fp(l,c,o,r,m){const y=l;if(o.op==="damage"){const v=Jm(y.enemies,m);if(!v)return y;const{primary:g,secondary:f}=Eh(c),p=50+4*Ut(y.player,g)+2*Ut(y.player,f),R=c.targeting.defense==="ward"?40+3*Ft(v,"INT")+2*Ft(v,"WIS"):c.targeting.defense==="resolve"?40+3*Ft(v,"WIS")+2*Ft(v,"CHA"):40+3*Ft(v,"DEX")+Ft(v,"WIS");if(!Th(p,R,r,r.content))return r.log=At(r.log,`${y.player.label} missed ${v.label} with ${c.ui.shortLabel}.`),{...y,log:r.log};const C=o.primaryScaleStat!==void 0?Math.floor(Ut(y.player,o.primaryScaleStat)*(o.primaryScaleRatio??1)):0,U=o.secondaryScaleStat!==void 0?Math.floor(Ut(y.player,o.secondaryScaleStat)*(o.secondaryScaleRatio??1)):0,Y=xh(o.damageFamily,v),X=1+ju(v.conditionStates,"exposed")*.2,B=o.damageFamily==="physical"&&ju(v.conditionStates,"guarded")>0?.8:1,ue=Math.max(r.content.tuning.damage.minimumDamage,Math.ceil((o.amount+C+U-Y)*X*B)),Je=Math.max(0,v.hp-ue),Ce={...v,hp:Je},Fe=Fm(y.enemies,Ce);return r.log=At(r.log,`${y.player.label} used ${c.ui.shortLabel} on ${v.label} for ${ue}.`),{...y,enemies:Fe,log:r.log}}if(o.op==="heal"){const v=Hu(y.player.hp+o.amount,0,y.player.maxHp);return r.log=At(r.log,`${y.player.label} recovered ${o.amount} HP.`),{...y,player:{...y.player,hp:v},log:r.log}}if(o.op==="grant_focus"){const v=Hu(y.player.focus+o.amount,0,y.player.maxFocus);return r.log=At(r.log,`${y.player.label} gained ${o.amount} Focus.`),{...y,player:{...y.player,focus:v},log:r.log}}if(o.op==="apply_condition"){const v=Jm(y.enemies,m);if(!v)return y;if(o.chancePercent!==void 0&&mi(r,100)+1>o.chancePercent)return r.log=At(r.log,`${c.ui.shortLabel} failed to apply ${o.conditionId}.`),{...y,log:r.log};const g=ju(v.conditionStates,o.conditionId),f=Vp(v.conditionStates,o.conditionId,g+1);return r.log=At(r.log,`${v.label} gained ${o.conditionId}.`),{...y,enemies:Fm(y.enemies,{...v,conditionStates:f}),log:r.log}}if(o.op==="cleanse_condition"){const v=o.conditionId===null?[]:y.player.conditionStates.filter(g=>g.id!==o.conditionId);return{...y,player:{...y.player,conditionStates:v}}}return y}function Uu(l,c){return l.enemies.some(r=>r.hp>0)?l.player.hp<=0?{...l,outcome:"combat_defeat",log:At(l.log,"Combat resolved: defeat.")}:l.round>Yp?{...l,outcome:c.tuning.initiative.tieBreaker==="player_wins"?"combat_victory":"combat_defeat",log:At(l.log,"Combat round limit reached. Tie-break applied.")}:l:{...l,outcome:"combat_victory",log:At(l.log,"Combat resolved: victory.")}}function Pp(l,c){return c.abilityIds.map(r=>Sh(l,r)).filter(r=>r!==void 0).filter(r=>r.kind==="active")[0]}function e0(l,c){if(l.outcome||l.turnOwner!=="enemy")return l;const o={rngState:l.rngState,log:l.log};let r=l;const m=r.enemies.filter(v=>v.hp>0);for(const v of m){if(r.player.hp<=0)break;const g=Pp(c,v);if(!g)continue;const f=g.effects.filter(Ce=>Ce.op==="damage");if(f.length===0)continue;const p=f[0];if(!p)continue;const{primary:R,secondary:C}=Eh(g),U=50+4*Ft(v,R)+2*Ft(v,C),Y=g.targeting.defense==="ward"?40+3*Ut(r.player,"INT")+2*Ut(r.player,"WIS"):g.targeting.defense==="resolve"?40+3*Ut(r.player,"WIS")+2*Ut(r.player,"CHA"):40+3*Ut(r.player,"DEX")+Ut(r.player,"WIS");if(!Th(U,Y,o,c)){o.log=At(o.log,`${v.label} missed ${r.player.label}.`),r={...r,log:o.log};continue}const Q=xh(p.damageFamily,r.player),X=ju(r.player.conditionStates,"guarded"),B=p.damageFamily==="physical"&&X>0?.8:1,ue=Math.max(c.tuning.damage.minimumDamage,Math.ceil((p.amount-Q)*B)),Je=Math.max(0,r.player.hp-ue);if(o.log=At(o.log,`${v.label} used ${g.ui.shortLabel} for ${ue}.`),r={...r,player:{...r.player,hp:Je},log:o.log},r=Uu(r,c),r.outcome)break}if(r.outcome)return{...r,rngState:o.rngState};const y=c.tuning.focus.baseRegenPerTurn+Math.floor(r.player.stats.WIS/c.tuning.focus.wisRegenDivisor);return r={...r,turnOwner:"player",round:r.round+1,apRemaining:c.tuning.ap.basePerTurn,player:{...r.player,focus:Hu(r.player.focus+y,0,r.player.maxFocus)},rngState:o.rngState,log:At(o.log,`Round ${r.round+1} starts.`)},Mo(Uu(r,c))}function t0(l){const c=l.content,o=l.playerClassId??Xp,r=c.classes.find(X=>X.id===o);if(!r)throw new Error(`Unable to start combat: missing class definition ${o}`);const m={rngState:Im(l.seed)},y=Wp(c,m,l.encounterPackId),v=Math.max(1,l.handSize),g=Ip(c,o),f=bh([...g,...g],m),p=Qp(o),R=Kp(p),C=Zp(p),U={id:"player.1",label:o.toUpperCase(),classId:o,hp:R,maxHp:R,focus:C,maxFocus:C,stats:p,passiveAbilityIds:[...r.passiveAbilityIds],conditionStates:[]},Y=y.map((X,B)=>({id:`enemy.${B+1}`,label:X.ui.shortLabel,role:X.role,archetypeId:X.id,hp:X.baseStats.health,maxHp:X.baseStats.health,focus:Math.max(0,X.baseStats.focus),maxFocus:Math.max(0,X.baseStats.focus),stats:{STR:X.baseStats.STR,DEX:X.baseStats.DEX,WIS:X.baseStats.WIS,INT:X.baseStats.INT,CHA:X.baseStats.CHA},abilityIds:[...X.abilityIds],conditionStates:[],isElite:!!X.isElite})),Q={seed:Im(l.seed),rngState:m.rngState,round:1,turnOwner:"player",apRemaining:c.tuning.ap.basePerTurn,handSize:v,handAbilityIds:[],deckAbilityIds:f,discardAbilityIds:[],player:U,enemies:Y,log:At([],"Combat started. Play cards to resolve the encounter."),outcome:null};return Mo(Uu(Q,c))}function a0(l,c,o,r){if(l.outcome)return{nextSession:l,issue:"Combat is already resolved."};if(l.turnOwner!=="player")return{nextSession:l,issue:"Cannot play cards during enemy turn."};if(!l.handAbilityIds.includes(c))return{nextSession:l,issue:`Ability "${c}" is not in combat hand.`};const m=Sh(o,c);if(!m||m.kind!=="active")return{nextSession:l,issue:`Ability "${c}" is not playable.`};const y=Jp(m,l.player);if(m.apCost>l.apRemaining)return{nextSession:l,issue:"Not enough AP to play that combat card."};if(y>l.player.focus)return{nextSession:l,issue:"Not enough focus to play that combat card."};if(m.targeting.team==="enemy"){if(!r)return{nextSession:l,issue:"Select a combat target before playing that card."};if(!l.enemies.some(p=>p.id===r&&p.hp>0))return{nextSession:l,issue:"Selected combat target is no longer valid."}}const v={rngState:l.rngState,log:l.log,content:o};let g={...l,handAbilityIds:l.handAbilityIds.filter(f=>f!==c),discardAbilityIds:[...l.discardAbilityIds,c],player:{...l.player,focus:Math.max(0,l.player.focus-y)},apRemaining:l.apRemaining-m.apCost,rngState:v.rngState};return m.effects.forEach(f=>{g=Fp(g,m,f,v,r)}),g={...g,rngState:v.rngState,log:v.log},g=Uu(g,o),g.outcome||(g=Mo(g)),!g.outcome&&g.apRemaining<=0&&(g=Ch(g,o).nextSession),{nextSession:g}}function Ch(l,c){if(l.outcome)return{nextSession:l,issue:"Combat is already resolved."};if(l.turnOwner!=="player")return{nextSession:l,issue:"Combat turn already ended."};const o={...l,turnOwner:"enemy",apRemaining:0,log:At(l.log,"Player turn ended.")};return{nextSession:e0(o,c)}}function n0(l){const c=l.enemies.length,o=l.enemies.filter(r=>r.hp<=0).length;return{outcome:l.outcome,rounds:l.round,playerRemainingHp:l.player.hp,playerMaxHp:l.player.maxHp,playerRemainingFocus:l.player.focus,enemiesDefeated:o,totalEnemies:c,log:[...l.log].reverse()}}const l0=new Set(["universal.move","universal.basic_melee","universal.guard_brace","universal.retreat","universal.wait"]);function pn(l,c,o){const r=new Set;l.forEach(m=>{if(r.has(m)){o.push(`duplicate_${c}_id:${m}`);return}r.add(m)})}function rt(l){return Number.isInteger(l)&&l>0}function Ea(l){return Number.isInteger(l)&&l>=0}function i0(l,c){l.ui.iconId||c.push(`missing_ability_icon:${l.id}`),l.ui.shortLabel||c.push(`missing_ability_label:${l.id}`),l.ui.description||c.push(`missing_ability_description:${l.id}`),l.ui.logOnUse||c.push(`missing_ability_log:${l.id}`)}function u0(l,c,o,r){switch(c.op){case"damage":{rt(c.amount)||r.push(`invalid_damage_amount:${l}`),c.primaryScaleStat&&!Ou.includes(c.primaryScaleStat)&&r.push(`invalid_damage_primary_scale:${l}`),c.secondaryScaleStat&&!Ou.includes(c.secondaryScaleStat)&&r.push(`invalid_damage_secondary_scale:${l}`);break}case"heal":{rt(c.amount)||r.push(`invalid_heal_amount:${l}`);break}case"apply_condition":{o.has(c.conditionId)||r.push(`unknown_effect_condition:${l}:${c.conditionId}`),rt(c.turns)||r.push(`invalid_effect_condition_turns:${l}`),c.chancePercent!==void 0&&(c.chancePercent<1||c.chancePercent>100)&&r.push(`invalid_effect_condition_chance:${l}`);break}case"cleanse_condition":{c.conditionId&&!o.has(c.conditionId)&&r.push(`unknown_cleanse_condition:${l}:${c.conditionId}`);break}case"move_self":{rt(c.tiles)||r.push(`invalid_move_tiles:${l}`);break}case"push_or_pull":{rt(c.distance)||r.push(`invalid_push_pull_distance:${l}`);break}case"grant_focus":case"grant_ap":{rt(c.amount)||r.push(`invalid_resource_grant:${l}:${c.op}`);break}case"grant_temp_stat_mod":{rt(c.turns)||r.push(`invalid_stat_mod_turns:${l}`),Ou.includes(c.stat)||r.push(`invalid_stat_mod_stat:${l}`),c.amount===0&&r.push(`invalid_stat_mod_amount:${l}`);break}default:{const m=c;throw new Error(`Unhandled effect operation: ${String(m)}`)}}}function c0(l){const c=[];pn(l.abilities.map(f=>f.id),"ability",c),pn(l.conditions.map(f=>f.id),"condition",c),pn(l.classes.map(f=>f.id),"class",c),pn(l.enemyArchetypes.map(f=>f.id),"enemy_archetype",c),pn(l.encounterPacks.map(f=>f.id),"encounter_pack",c),pn(l.rewardTables.map(f=>f.id),"reward_table",c),pn(l.failForwardPolicies.map(f=>f.id),"fail_forward_policy",c);const o=new Set(l.abilities.map(f=>f.id)),r=new Set(l.conditions.map(f=>f.id)),m=new Set(l.enemyArchetypes.map(f=>f.id)),y=new Set(l.rewardTables.map(f=>f.id)),v=new Set(l.failForwardPolicies.map(f=>f.id));l.conditions.forEach(f=>{Up.includes(f.resistFamily)||c.push(`invalid_condition_resist_family:${f.id}`),(f.durationTurns<0||!Number.isInteger(f.durationTurns))&&c.push(`invalid_condition_duration:${f.id}`),f.ui.iconId||c.push(`missing_condition_icon:${f.id}`),f.ui.shortLabel||c.push(`missing_condition_label:${f.id}`),f.ui.description||c.push(`missing_condition_description:${f.id}`)}),l.abilities.forEach(f=>{Np.includes(f.classId)||c.push(`invalid_ability_class:${f.id}`),Dp.includes(f.family)||c.push(`invalid_ability_family:${f.id}`),(!Ea(f.apCost)||f.apCost>2)&&c.push(`invalid_ability_ap_cost:${f.id}`),(!Ea(f.focusCost)||f.focusCost>8)&&c.push(`invalid_ability_focus_cost:${f.id}`),Ea(f.cooldownTurns)||c.push(`invalid_ability_cooldown:${f.id}`),Ea(f.range)||c.push(`invalid_ability_range:${f.id}`),Op.includes(f.targeting.team)||c.push(`invalid_target_team:${f.id}`),jp.includes(f.targeting.defense)||c.push(`invalid_target_defense:${f.id}`),Hp.includes(f.targeting.pattern)||c.push(`invalid_target_pattern:${f.id}`),f.targeting.pattern==="line"&&(!f.targeting.length||f.targeting.length<1)&&c.push(`missing_line_length:${f.id}`),f.targeting.pattern==="burst"&&(!f.targeting.radius||f.targeting.radius<1)&&c.push(`missing_burst_radius:${f.id}`),f.kind==="active"&&f.effects.length===0&&c.push(`active_missing_effects:${f.id}`),i0(f,c),f.effects.forEach(p=>{u0(f.id,p,r,c)})}),l.classes.forEach(f=>{_h.includes(f.id)||c.push(`invalid_playable_class:${f.id}`),f.passiveAbilityIds.length!==1&&c.push(`invalid_class_passive_count:${f.id}`),f.starterActiveAbilityIds.length<3&&c.push(`invalid_class_active_count:${f.id}`);const p=f.passiveAbilityIds[0],R=l.abilities.find(C=>C.id===p);R?(R.kind!=="passive"&&c.push(`class_passive_not_passive:${f.id}:${R.id}`),R.classId!==f.id&&c.push(`class_passive_mismatch:${f.id}:${R.id}`)):c.push(`missing_class_passive_ability:${f.id}:${p}`),f.starterActiveAbilityIds.forEach(C=>{const U=l.abilities.find(Y=>Y.id===C);if(!U){c.push(`missing_class_active_ability:${f.id}:${C}`);return}U.kind!=="active"&&c.push(`class_active_not_active:${f.id}:${U.id}`),U.classId!==f.id&&c.push(`class_active_mismatch:${f.id}:${U.id}`)}),l0.forEach(C=>{f.recommendedBasicActions.includes(C)||c.push(`missing_recommended_basic_action:${f.id}:${C}`)}),f.recommendedBasicActions.forEach(C=>{o.has(C)||c.push(`unknown_recommended_action:${f.id}:${C}`)}),f.maxPartySizeSoftCap!==void 0&&f.maxPartySizeSoftCap<1&&c.push(`invalid_party_size_soft_cap:${f.id}`)}),l.enemyArchetypes.forEach(f=>{Bp.includes(f.role)||c.push(`invalid_enemy_role:${f.id}`),Ea(f.levelOffset)||c.push(`invalid_enemy_level_offset:${f.id}`),rt(f.threatValue)||c.push(`invalid_enemy_threat:${f.id}`),f.abilityIds.length===0&&c.push(`missing_enemy_abilities:${f.id}`),f.abilityIds.forEach(p=>{const R=l.abilities.find(C=>C.id===p);if(!R){c.push(`unknown_enemy_ability:${f.id}:${p}`);return}R.classId!=="enemy"&&c.push(`enemy_ability_must_be_enemy_class:${f.id}:${p}`)}),Ou.forEach(p=>{rt(f.baseStats[p])||c.push(`invalid_enemy_stat:${f.id}:${p}`)}),rt(f.baseStats.health)||c.push(`invalid_enemy_health:${f.id}`),Ea(f.baseStats.focus)||c.push(`invalid_enemy_focus:${f.id}`)}),l.rewardTables.forEach(f=>{f.entries.length===0&&c.push(`empty_reward_table:${f.id}`),f.entries.forEach((p,R)=>{qp.includes(p.kind)||c.push(`invalid_reward_kind:${f.id}:${R}`),Ea(p.amount)||c.push(`invalid_reward_amount:${f.id}:${R}`),rt(p.weight)||c.push(`invalid_reward_weight:${f.id}:${R}`)})}),l.failForwardPolicies.forEach(f=>{(f.hpResetPercent<1||f.hpResetPercent>100)&&c.push(`invalid_fail_forward_hp_reset:${f.id}`),Ea(f.handCardPenalty)||c.push(`invalid_fail_forward_hand_penalty:${f.id}`)}),l.encounterPacks.forEach(f=>{Lp.includes(f.encounterType)||c.push(`invalid_encounter_type:${f.id}`),wp.includes(f.objectiveType)||c.push(`invalid_objective_type:${f.id}`),(!rt(f.threatBudgetRange.min)||!rt(f.threatBudgetRange.max)||f.threatBudgetRange.max<f.threatBudgetRange.min)&&c.push(`invalid_threat_budget_range:${f.id}`),f.enemyPoolIds.length===0&&c.push(`empty_enemy_pool:${f.id}`),f.enemyPoolIds.forEach(p=>{m.has(p)||c.push(`unknown_enemy_pool_member:${f.id}:${p}`)}),rt(f.spawnRules.minEnemies)||c.push(`invalid_spawn_min:${f.id}`),rt(f.spawnRules.maxEnemies)||c.push(`invalid_spawn_max:${f.id}`),f.spawnRules.maxEnemies<f.spawnRules.minEnemies&&c.push(`invalid_spawn_range:${f.id}`),y.has(f.rewardTableId)||c.push(`missing_reward_table:${f.id}:${f.rewardTableId}`),v.has(f.failForwardPolicyId)||c.push(`missing_fail_forward_policy:${f.id}:${f.failForwardPolicyId}`),f.objectiveType==="defeat_elite"&&(f.enemyPoolIds.some(R=>{const C=l.enemyArchetypes.find(U=>U.id===R);return!!(C!=null&&C.isElite)})||c.push(`elite_objective_missing_elite:${f.id}`),f.spawnRules.eliteRequired||c.push(`elite_pack_not_marked_elite_required:${f.id}`))}),rt(l.tuning.ap.basePerTurn)||c.push("invalid_tuning_ap_base_per_turn"),l.tuning.ap.moveCost<1&&c.push("invalid_tuning_move_cost"),l.tuning.ap.guaranteedMoveTilesWhenAble<1&&c.push("invalid_tuning_guaranteed_move_tiles"),l.tuning.ap.maxPartySizeSoftCap<1&&c.push("invalid_tuning_max_party_size_soft_cap"),(l.tuning.hit.minChance<1||l.tuning.hit.maxChance>100||l.tuning.hit.maxChance<=l.tuning.hit.minChance)&&c.push("invalid_tuning_hit_clamp"),l.tuning.focus.momentumKillGain<0&&c.push("invalid_tuning_focus_kill_gain"),l.tuning.focus.momentumLootGain<0&&c.push("invalid_tuning_focus_loot_gain"),l.tuning.initiative.tieBreaker!=="player_wins"&&c.push("invalid_tuning_initiative_tie_breaker"),l.tuning.retreat.edgeChancePercent!==100&&c.push("invalid_tuning_retreat_edge_chance"),l.tuning.retreat.centerChancePercent<l.tuning.retreat.minChancePercent&&c.push("invalid_tuning_retreat_center_chance"),l.tuning.retreat.minChancePercent<0&&c.push("invalid_tuning_retreat_min_chance"),l.tuning.wound.hpResetPercent<1&&c.push("invalid_tuning_wound_hp_reset"),l.tuning.wound.hpResetPercent>100&&c.push("invalid_tuning_wound_hp_reset"),Ea(l.tuning.wound.handCardPenalty)||c.push("invalid_tuning_wound_hand_penalty"),l.scenarioSeeds.length===0&&c.push("missing_scenario_seeds");const g=new Set;return l.scenarioSeeds.forEach(f=>{if(!rt(f)){c.push(`invalid_scenario_seed:${f}`);return}if(g.has(f)){c.push(`duplicate_scenario_seed:${f}`);return}g.add(f)}),{ok:c.length===0,errors:c,counts:{abilities:l.abilities.length,conditions:l.conditions.length,classes:l.classes.length,enemyArchetypes:l.enemyArchetypes.length,encounterPacks:l.encounterPacks.length,rewardTables:l.rewardTables.length,failForwardPolicies:l.failForwardPolicies.length,scenarioSeeds:l.scenarioSeeds.length}}}const r0={cards:Co,roomTemplates:Gu,modifiers:_n,combat:ft};function mo(l,c,o){const r=new Set;l.forEach(m=>{if(r.has(m)){o.push(`duplicate_${c}_id:${m}`);return}r.add(m)})}function o0(l){return l===0||l===1}function s0(l){const c=[],o=l.combat??ft;mo(l.cards.map(g=>g.id),"card",c),mo(l.roomTemplates.map(g=>g.id),"room_template",c),mo(l.modifiers.map(g=>g.id),"modifier",c),l.cards.forEach(g=>{(g.openings.length!==4||!g.openings.every(f=>o0(f)))&&c.push(`invalid_openings:${g.id}`)}),l.roomTemplates.forEach(g=>{(g.sizeRange.minW<=0||g.sizeRange.minH<=0||g.sizeRange.maxW<g.sizeRange.minW||g.sizeRange.maxH<g.sizeRange.minH)&&c.push(`invalid_size_range:${g.id}`),(g.recommendedExits.length===0||g.recommendedExits.some(f=>!Number.isInteger(f)||f<1||f>4))&&c.push(`invalid_recommended_exits:${g.id}`)}),l.modifiers.forEach(g=>{["room","corridor","both"].includes(g.validTargets)||c.push(`invalid_modifier_target:${g.id}`),(!Number.isInteger(g.stackRules.maxStacks)||g.stackRules.maxStacks<1)&&c.push(`invalid_modifier_stack_rules:${g.id}`)});const r=new Set(Ao.map(g=>g.id));Ja.forEach(g=>{r.has(g.id)||c.push(`missing_connector_symbol:${g.id}`)});const m=new Set(vh.map(g=>g.category));l.roomTemplates.forEach(g=>{m.has(g.category)||c.push(`missing_room_category_symbol:${g.category}`)});const y=new Set(zo.map(g=>g.modifier));l.modifiers.forEach(g=>{y.has(g.family)||c.push(`missing_modifier_symbol:${g.family}`)});const v=c0(o);return v.errors.forEach(g=>{c.push(`combat_${g}`)}),{ok:c.length===0,errors:c,counts:{cards:l.cards.length,roomTemplates:l.roomTemplates.length,modifiers:l.modifiers.length,abilities:v.counts.abilities,conditions:v.counts.conditions,classes:v.counts.classes,enemyArchetypes:v.counts.enemyArchetypes,encounterPacks:v.counts.encounterPacks,rewardTables:v.counts.rewardTables,failForwardPolicies:v.counts.failForwardPolicies,scenarioSeeds:v.counts.scenarioSeeds},combat:v}}function f0(){return s0(r0)}const yi=["N","E","S","W"],No={N:0,E:1,S:2,W:3};function Yu(l){return(l%4+4)%4}function Do(l,c){let o=[...l];const r=Yu(c);for(let m=0;m<r;m+=1)o=[o[3],o[0],o[1],o[2]];return o}function Oo(l){switch(l){case"N":return"S";case"E":return"W";case"S":return"N";case"W":return"E"}}function Bu(l,c){return l[No[c]]===1}function Ah(l){return l.reduce((c,o)=>c+o,0)}function d0(l,c,o){if(c.card.specialRule!=="optional_side_seal")return o;const r=[...o];for(const m of yi){const y=zh(l,Xu(c.position,m));if(!y)continue;const v=Oo(m);Bu(y.openings,v)||(r[No[m]]=0)}return r}function dt(l){return`${l.x},${l.y}`}function hi(l){const[c,o]=l.split(",");return{x:Number(c),y:Number(o)}}function Xu(l,c){switch(c){case"N":return{x:l.x,y:l.y-1};case"E":return{x:l.x+1,y:l.y};case"S":return{x:l.x,y:l.y+1};case"W":return{x:l.x-1,y:l.y}}}function m0(){return{nodes:{},nextNodeId:1}}function zh(l,c){return l.nodes[dt(c)]}function Rh(l,c,o,r){return{id:`node_${l.nextNodeId}`,cardId:c.id,cardType:c.type,tags:c.tags,openings:o,owner:r}}function h0(l,c){const o=Yu(c.rotationQuarterTurns??0),r=Do(c.card.openings,o),m=dt(c.position);if(l.nodes[m])throw new Error(`Seed position "${m}" is already occupied`);return{nodes:{...l.nodes,[m]:Rh(l,c.card,r,c.placedBy)},nextNodeId:l.nextNodeId+1}}function jo(l,c){const o=Yu(c.rotationQuarterTurns??0),r=Do(c.card.openings,o),m=d0(l,c,r),y=dt(c.position),v=[],g=[];if(l.nodes[y])return v.push("target_occupied"),{isLegal:!1,reasons:v,connectedDirections:g,rotatedOpenings:m};for(const f of yi){const p=Xu(c.position,f),R=zh(l,p);if(!R)continue;const C=Bu(m,f),U=Oo(f),Y=Bu(R.openings,U);if(C!==Y){v.push(`mismatch_${f}`);continue}C&&Y&&g.push(f)}return g.length===0&&v.push("no_open_connection"),{isLegal:v.length===0,reasons:v,connectedDirections:g,rotatedOpenings:m}}function Mh(l,c){const o=jo(l,c);if(!o.isLegal)throw new Error(`Illegal placement at "${dt(c.position)}": ${o.reasons.join(", ")}`);const r=dt(c.position);return{nodes:{...l.nodes,[r]:Rh(l,c.card,o.rotatedOpenings,c.placedBy??"player")},nextNodeId:l.nextNodeId+1}}function Nh(l){const c=[];for(const[o,r]of Object.entries(l.nodes)){const m=hi(o);for(const y of yi){if(r.openings[No[y]]===0)continue;const v=Xu(m,y),g=dt(v);l.nodes[g]||c.push({from:o,direction:y,to:g})}}return c}function $u(l){return Nh(l).length}function g0(l){return $u(l)>0}function Dh(l){const c=new Set;return Nh(l).forEach(o=>{c.add(o.to)}),[...c].map(o=>hi(o))}function yo(l,c,o=[0,1,2,3]){const r=[],m=new Set,y=Dh(l);for(const v of y)for(const g of o){const f=jo(l,{position:v,card:c,rotationQuarterTurns:g});if(!f.isLegal)continue;const p=`${dt(v)}:${f.rotatedOpenings.join("")}`;m.has(p)||(m.add(p),r.push({position:v,rotationQuarterTurns:Yu(g),validation:f}))}return r}function y0(l,c){if(!jo(l,c).isLegal)return!1;const r=Mh(l,c);return g0(r)}function Oh(l,c){if(!y0(l,c))throw new Error(`Placement would violate never-seal rule at "${dt(c.position)}"`);return Mh(l,c)}const po=["safe_floor","hidden_trap","persistent_hazard","loot_container","puzzle_trigger","enemy_trigger","environmental_feature"],Ho=9,Pm={safe_floor:70,hidden_trap:8,persistent_hazard:6,loot_container:7,puzzle_trigger:4,enemy_trigger:3,environmental_feature:2};function jh(l,c,o){const r=l.map(v=>({item:v,weight:Math.max(1,c(v))})),m=r.reduce((v,g)=>v+g.weight,0);let y=o.nextInt(m);for(const v of r)if(y-=v.weight,y<0)return v.item;return r[r.length-1].item}function eh(l,c,o){if(l>c)throw new Error(`Invalid range: min ${l} is greater than max ${c}`);return l===c?l:l+o.nextInt(c-l+1)}function th(l){return Math.max(1,Math.min(Ho,l))}function p0(l){return Ah(l)}function v0(l,c){const o=p0(l);return c.filter(r=>r.recommendedExits.includes(o))}function _0(l,c){return c?!0:l.some(o=>(o.generationEffects.specialRules??[]).includes("ambush_entry"))}function b0(l,c){let o=l.difficultyWeight;return c.forEach(r=>{const m=r.generationEffects.trapDensityDelta??0,y=r.generationEffects.dangerDelta??0,v=r.generationEffects.rewardDelta??0,g=r.generationEffects.puzzleChanceDelta??0;m+y>0&&(l.category==="Large"&&(o+=1),l.category==="Shaped"&&(o+=1),l.category==="Corridor-combat arena"&&(o+=2)),v>0&&l.category==="Large"&&(o+=1),g>0&&l.category==="Shaped"&&(o+=2),g>0&&l.category==="Entrance-driven"&&(o+=1)}),Math.max(1,o)}function S0(l,c,o,r){const m=v0(l,c);if(m.length===0)throw new Error("No room templates match connector door count");const y=r.modifiers??[],v=_0(y,r.preferCorridorCombat??!1);let g=m;if(v){const f=m.filter(p=>p.category==="Corridor-combat arena");f.length>0&&(g=f)}return jh(g,f=>b0(f,y),o)}function E0(l,c,o){if(!Number.isInteger(c)||c<=0||!Number.isInteger(o)||o<=0)throw new Error("Room bounds must be positive integers");const r=Math.floor(c/2),m=Math.floor(o/2),y=[];for(const v of yi)if(Bu(l,v)){if(v==="N"){y.push({direction:v,x:r,y:0});continue}if(v==="E"){y.push({direction:v,x:c-1,y:m});continue}if(v==="S"){y.push({direction:v,x:r,y:o-1});continue}y.push({direction:v,x:0,y:m})}return y}function Hh(l,c){return Array.from({length:c},()=>Array.from({length:l},()=>!0))}function Ta(l,c){return Array.from({length:c},()=>Array.from({length:l},()=>!1))}function ul(l,c,o){o<0||o>=l.length||c<0||c>=l[0].length||(l[o][c]=!0)}function ri(l,c){for(let o=0;o<l.length;o+=1)for(let r=0;r<l[0].length;r+=1)c(r,o)&&(l[o][r]=!1)}function T0(l){return l.some(c=>c.some(o=>o))}function pt(l){return l.length===0||l[0].length===0||T0(l)?l:Hh(l[0].length,l.length)}function x0(l,c,o){if(!Number.isInteger(c)||c<=0||!Number.isInteger(o)||o<=0)throw new Error("Template bounds must be positive integers");const r=l.toLowerCase(),m=Math.floor(c/2),y=Math.floor(o/2);if(r==="t_room"||r==="junction_fight_t"){const g=Ta(c,o),f=Math.max(1,Math.floor(o/3)),p=Math.max(1,Math.floor(c/3)),R=Math.max(0,m-Math.floor(p/2)),C=Math.min(c,R+p);for(let U=0;U<o;U+=1)for(let Y=0;Y<c;Y+=1)(U<f||Y>=R&&Y<C)&&(g[U][Y]=!0);return pt(g)}if(r==="junction_fight_cross"){const g=Ta(c,o),f=Math.max(1,Math.floor(c/3)),p=Math.max(1,Math.floor(o/3)),R=Math.max(0,m-Math.floor(f/2)),C=Math.min(c,R+f),U=Math.max(0,y-Math.floor(p/2)),Y=Math.min(o,U+p);for(let Q=0;Q<o;Q+=1)for(let X=0;X<c;X+=1)X>=R&&X<C&&(g[Q][X]=!0),Q>=U&&Q<Y&&(g[Q][X]=!0);return pt(g)}const v=Hh(c,o);if(r==="l_room"){const g=Math.ceil(c/2),f=Math.ceil(o/2);return ri(v,(p,R)=>p>=g&&R<f),pt(v)}if(r==="u_room_horseshoe")return c>3&&o>3&&ri(v,(g,f)=>g>0&&g<c-1&&f>0&&f<o-2),pt(v);if(r==="ring_room_donut")return c>3&&o>3&&ri(v,(g,f)=>g>0&&g<c-1&&f>0&&f<o-1),pt(v);if(r==="split_room_central_wall")return c>2&&ri(v,(g,f)=>g===m&&f!==y),pt(v);if(r==="double_lobe"){const g=Ta(c,o),f=Math.max(0,Math.floor(c*.3)),p=Math.min(c-1,Math.floor(c*.7)),R=Math.max(1,Math.floor(c/4)),C=Math.max(1,Math.floor(o/3));for(let Q=0;Q<o;Q+=1)for(let X=0;X<c;X+=1){const B=(X-f)*(X-f)/(R*R)+(Q-y)*(Q-y)/(C*C),ue=(X-p)*(X-p)/(R*R)+(Q-y)*(Q-y)/(C*C);(B<=1||ue<=1)&&(g[Q][X]=!0)}const U=Math.min(f,p),Y=Math.max(f,p);for(let Q=U;Q<=Y;Q+=1)ul(g,Q,y);return pt(g)}if(r==="zigzag_gallery"){const g=Ta(c,o);let f=Math.floor(c/2);for(let p=0;p<o;p+=1)ul(g,f,p),ul(g,f+1,p),p%2===0?f=Math.min(c-2,f+1):f=Math.max(0,f-1);return pt(g)}if(r==="mazelet")return c>3&&o>3&&ri(v,(g,f)=>g>0&&g<c-1&&f>0&&f<o-1&&(g+f)%3===0),pt(v);if(r==="anteroom_to_chamber"){const g=Ta(c,o),f=Math.max(1,Math.floor(o/3));for(let p=0;p<o;p+=1)if(p<f)ul(g,m,p),ul(g,m-1,p),ul(g,m+1,p);else for(let R=0;R<c;R+=1)g[p][R]=!0;return pt(g)}if(r==="funnel_room"){const g=Ta(c,o);for(let f=0;f<o;f+=1){const p=o<=1?1:f/(o-1),R=Math.max(1,Math.floor(p*(c/2))),C=Math.max(0,m-R),U=Math.min(c-1,m+R);for(let Y=C;Y<=U;Y+=1)g[f][Y]=!0}return pt(g)}if(r==="gauntlet_room"){const g=Ta(c,o);for(let f=0;f<o;f+=1)for(let p=0;p<c;p+=1)(Math.abs(p-m)<=1||f%3===0)&&(g[f][p]=!0);return pt(g)}if(r==="corridor_fight_1wide"){const g=Ta(c,o);for(let f=0;f<c;f+=1)g[y][f]=!0;return pt(g)}if(r==="corridor_fight_2wide"){const g=Ta(c,o),f=Math.max(0,y-1),p=Math.min(o-1,f+1);for(let R=f;R<=p;R+=1)for(let C=0;C<c;C+=1)g[R][C]=!0;return pt(g)}return pt(v)}function Uh(l,c,o){return l==="N"?Array.from({length:c},(r,m)=>({x:m,y:0})):l==="E"?Array.from({length:o},(r,m)=>({x:c-1,y:m})):l==="S"?Array.from({length:c},(r,m)=>({x:m,y:o-1})):Array.from({length:o},(r,m)=>({x:0,y:m}))}function C0(l,c){const o=new Map;return yi.forEach(r=>{Uh(r,l,c).forEach(m=>{o.set(`${m.x},${m.y}`,m)})}),[...o.values()]}function A0(l,c,o,r){const m=o.length,y=o[0].length,v=Uh(l,y,m).filter(C=>o[C.y][C.x]),g=C0(y,m).filter(C=>o[C.y][C.x]),f=v.length>0?v:g;if(f.length===0)return c;const p=[...f].sort((C,U)=>{const Y=Math.abs(C.x-c.x)+Math.abs(C.y-c.y),Q=Math.abs(U.x-c.x)+Math.abs(U.y-c.y);return Y-Q});return p.find(C=>!r.has(`${C.x},${C.y}`))??p[0]}function z0(l,c){if(c.length===0||c[0].length===0)throw new Error("Mask must have positive dimensions");const o=c[0].length,r=c.length,m=E0(l,o,r),y=new Set;return m.map(v=>{const g=A0(v.direction,{x:v.x,y:v.y},c,y);return y.add(`${g.x},${g.y}`),{direction:v.direction,x:g.x,y:g.y}})}function R0(){return{safe_floor:0,hidden_trap:0,persistent_hazard:0,loot_container:0,puzzle_trigger:0,enemy_trigger:0,environmental_feature:0}}function M0(l=[]){const c={...Pm};return l.forEach(r=>{const m=r.generationEffects.trapDensityDelta??0,y=r.generationEffects.lootQualityDelta??0,v=r.generationEffects.puzzleChanceDelta??0,g=r.generationEffects.dangerDelta??0,f=r.generationEffects.rewardDelta??0;c.hidden_trap+=m*2,c.persistent_hazard+=m,c.loot_container+=y*2,c.puzzle_trigger+=v*2,c.enemy_trigger+=g*2,c.persistent_hazard+=g,c.hidden_trap+=Math.max(0,g-1),c.loot_container+=f,c.puzzle_trigger+=Math.max(0,Math.floor(f/2)),c.environmental_feature+=Math.max(0,Math.floor(f/2)),c.safe_floor-=Math.max(0,m+Math.floor(g/2));const p=r.generationEffects.specialRules??[];p.includes("ambush_entry")&&(c.enemy_trigger+=8),p.includes("hazard_field")&&(c.persistent_hazard+=6),p.includes("utility_node")&&(c.environmental_feature+=4,c.safe_floor+=2)}),po.forEach(r=>{c[r]=Math.max(0,c[r])}),po.reduce((r,m)=>r+c[m],0)===0?{...Pm}:c}function N0(l,c){const o=po.filter(m=>l[m]>0);return o.length===0?"safe_floor":jh(o,m=>l[m],c)}function D0(l,c,o,r){const m=new Set(c.map(f=>`${f.x},${f.y}`)),y=l.length,v=l[0].length,g=[];for(let f=0;f<y;f+=1){const p=[];for(let R=0;R<v;R+=1){if(!l[f][R]){p.push(null);continue}const C=m.has(`${R},${f}`),U=C?"safe_floor":N0(o,r);p.push({x:R,y:f,type:U,state:"face_down",isDoorAnchor:C})}g.push(p)}return g}function Bh(l){const c=R0();return l.forEach(o=>{o.forEach(r=>{r&&(c[r.type]+=1)})}),c}function Lh(l,c,o,r={}){const m=S0(l,c,o,r),y=th(eh(m.sizeRange.minW,m.sizeRange.maxW,o)),v=th(eh(m.sizeRange.minH,m.sizeRange.maxH,o)),g=x0(m.id,y,v),f=z0(l,g),p=M0(r.modifiers??[]),R=D0(g,f,p,o);return{templateId:m.id,category:m.category,width:y,height:v,doorAnchors:f,mask:g,tiles:R,tileWeights:p,modifierIds:(r.modifiers??[]).map(C=>C.id)}}const O0={ecological:1,pressure_pulse:2,branch_keeper:1},j0={ecological:1,pressure_pulse:2,branch_keeper:1};function vn(l,c){return l.tags.includes(c)}function ah(l,c){return $u(l)<=2?"branch_keeper":c.dangerScore<c.targetDanger-2?"pressure_pulse":"ecological"}function nh(l,c){let r=Ah(l.openings);return c==="branch_keeper"&&(vn(l,"tee")&&(r+=8),vn(l,"cross")&&(r+=8),vn(l,"door_3")&&(r+=5),vn(l,"door_4")&&(r+=6),vn(l,"dead_end")&&(r-=6)),c==="pressure_pulse"&&(l.type==="room"&&(r+=5),vn(l,"tee")&&(r+=2),vn(l,"cross")&&(r+=2)),c==="ecological"&&(l.type==="corridor"&&(r+=2),l.type==="room"&&(r+=1)),r}function H0(l,c){return[...l].sort((o,r)=>nh(r,c)-nh(o,c))}function U0(l,c){return c.validTargets==="both"?!0:c.validTargets===l}function B0(l,c){const o=l.filter(r=>r===c.id).length;return c.stackRules.behavior==="additive"?o<c.stackRules.maxStacks:o===0}function lh(l,c){let o=0;return c==="pressure_pulse"?o+=l.generationEffects.dangerDelta??0:c==="ecological"?o+=l.generationEffects.rewardDelta??0:o+=(l.generationEffects.dangerDelta??0)+1,o}function L0(l,c){return[...l].sort((o,r)=>lh(r,c)-lh(o,c))}function w0(){return{dangerScore:0,rewardScore:0,targetDanger:4,modifierBudget:1}}function q0(l){return l.kind==="place_card"?`[${l.mode}] placed ${l.cardId} at ${l.positionKey} rot=${l.rotationQuarterTurns}`:l.kind==="add_modifier"?`[${l.mode}] modifier ${l.modifierId} on ${l.nodeKey}`:`[${l.mode}] skipped: ${l.reason}`}function G0(l){const c=l.placementCap,o=l.modifierCap;let r=l.mapState,m={...l.modifierStacks},y={...l.budgets};const v=[];for(let f=0;f<c;f+=1){const p=ah(r,y),R=H0(l.structuralCards,p);let C=!1;for(const U of R){const Y=yo(r,U);if(Y.length===0)continue;const Q=l.rng.pick(Y),X=dt(Q.position);try{r=Oh(r,{position:Q.position,card:U,rotationQuarterTurns:Q.rotationQuarterTurns,placedBy:"director"}),v.push({kind:"place_card",cardId:U.id,positionKey:X,rotationQuarterTurns:Q.rotationQuarterTurns,mode:p,reason:p==="branch_keeper"?"branching_bias":"scored_pick"}),y={...y,dangerScore:y.dangerScore+O0[p],rewardScore:y.rewardScore+j0[p],modifierBudget:p==="pressure_pulse"?2:1},C=!0;break}catch{continue}}if(!C){v.push({kind:"skip",mode:p,reason:"no_legal_structural_placement"});break}}let g=Math.min(o,y.modifierBudget);for(;g>0;){const f=ah(r,y),p=L0(l.modifiers,f);let R=!1;for(const C of p){const U=Object.keys(r.nodes).filter(X=>{const B=r.nodes[X];if(!U0(B.cardType,C))return!1;const ue=m[X]??[];return B0(ue,C)});if(U.length===0)continue;const Y=l.rng.pick(U),Q=m[Y]??[];m={...m,[Y]:[...Q,C.id]},v.push({kind:"add_modifier",modifierId:C.id,nodeKey:Y,mode:f,reason:"budgeted_overlay"}),y={...y,dangerScore:y.dangerScore+(C.generationEffects.dangerDelta??0),rewardScore:y.rewardScore+(C.generationEffects.rewardDelta??0)},R=!0;break}if(!R)break;g-=1}return{nextMapState:r,nextModifierStacks:m,nextBudgets:y,actions:v}}const Y0={none:8,loot:5,hazard:4,combat_stub:3,event:2},X0={applyWound:!0,hpResetPercent:40,handCardPenalty:1};function $0(l,c,o){const r=l.map(v=>({candidate:v,weight:Math.max(0,c(v))})),m=r.reduce((v,g)=>v+g.weight,0);if(m<=0)return l[0];let y=o.nextInt(m);for(const v of r)if(y-=v.weight,y<0)return v.candidate;return r[r.length-1].candidate}function wh(l){const c=Number.parseInt(l.replace(/\D+/g,""),10);return!Number.isFinite(c)||c<=0?1:c}function cl(l,c){return c}function Q0(l){return l.includes("ambush")?"combat_stub":l.includes("trap_heavy")||l.includes("environmental_hazard")?"hazard":l.includes("challenge")?"event":null}function K0(l,c){const o={...Y0};return l.forEach(r=>{const m=c.get(r);if(!m)return;const y=m.generationEffects.trapDensityDelta??0,v=m.generationEffects.lootQualityDelta??0,g=m.generationEffects.puzzleChanceDelta??0,f=m.generationEffects.dangerDelta??0,p=m.generationEffects.rewardDelta??0;o.hazard+=y+Math.max(0,f-1),o.loot+=v+p,o.event+=Math.max(0,g),o.combat_stub+=Math.max(0,f);const R=m.generationEffects.specialRules??[];R.includes("ambush_entry")&&(o.combat_stub+=6),R.includes("hazard_field")&&(o.hazard+=5),R.includes("utility_node")&&(o.loot+=2,o.event+=1)}),o}function Z0(l,c,o,r){const m=wh(l.id);if(l.cardType==="corridor"){const g=Q0(c);return{state:g?"pending":"none",encounterKind:g,seed:m}}const y=K0(c,o),v=$0(["none","loot","hazard","combat_stub","event"],g=>y[g],r);return{state:v==="none"?"none":"pending",encounterKind:v==="none"?null:v,seed:m}}function qh(l,c){const o=l.nodes[c];if(!o)return[];const r=hi(c),m=new Set;return["N","E","S","W"].forEach((y,v)=>{if(o.openings[v]===0)return;const g=Xu(r,y),f=dt(g),p=l.nodes[f];if(!p)return;const R=Oo(y),C=R==="N"?0:R==="E"?1:R==="S"?2:3;p.openings[C]!==0&&m.add(f)}),[...m].sort()}function V0(l,c,o){return qh(l,c).includes(o)}function Du(l,c){return{...l,state:c}}function k0(l,c){const o=l.tiles.map(r=>r.map(m=>{if(!m)return null;if(m.isDoorAnchor||c==="safe_loot"||c==="combat_victory")return Du(m,"revealed");if(c==="trap_damage"||c==="combat_defeat"){if(m.type==="hidden_trap"||m.type==="persistent_hazard")return Du(m,"revealed");if(m.type==="enemy_trigger")return Du(m,"ghost_trap")}return m}));return{...l,tiles:o}}function ih(l,c,o=X0){const r={applyWound:o.applyWound,hpResetPercent:Math.max(1,Math.min(100,Math.round(o.hpResetPercent))),handCardPenalty:Math.max(0,Math.round(o.handCardPenalty))};if(l==="safe_loot")return{drawBonus:1,bonusStructuralCardIds:["room2_NS"],handCardPenalty:0,woundApplied:!1,hpResetPercent:null,log:[`Room resolved (${c}): gained loot and +1 draw.`]};if(l==="combat_victory")return{drawBonus:1,bonusStructuralCardIds:["tee_NSE"],handCardPenalty:0,woundApplied:!1,hpResetPercent:null,log:[`Room resolved (${c}): combat victory rewards granted.`]};if(l==="combat_defeat"){const m=r.applyWound?"wound applied":"no wound",y=r.handCardPenalty>0?`hand -${r.handCardPenalty}`:"no hand penalty";return{drawBonus:0,bonusStructuralCardIds:[],handCardPenalty:r.handCardPenalty,woundApplied:r.applyWound,hpResetPercent:r.hpResetPercent,log:[`Room resolved (${c}): combat defeat, ${m}, HP reset ${r.hpResetPercent}%, ${y}.`]}}return{drawBonus:0,bonusStructuralCardIds:[],handCardPenalty:0,woundApplied:!1,hpResetPercent:null,log:[`Room resolved (${c}): trap damage, no bonus draw.`]}}function Gh(l,c){return Ro(l+wh(c))}const W0=8,I0=10,J0=20260222,Uo=20261003,Yh=3,F0=Yh,P0="fighter",Bo="pack.combat.default",ev=4,tv="tee_NSE",Xh=6,vo=3,av=100,_o="S:",bo="M:",nv=new Map(_n.map(l=>[l.id,l])),lv=new Set(ft.classes.map(l=>l.id)),Lo=new Map(ft.abilities.map(l=>[l.id,l]));function iv(l){return lv.has(l)}function we(l,c){return[c,...l].slice(0,W0)}function uv(){var l;return((l=Ja.find(c=>c.id==="cross_NESW"))==null?void 0:l.id)??Ja[0].id}function So(l){return`${_o}${l}`}function cv(l){return`${bo}${l}`}function rv(l){if(l.startsWith(_o))return{kind:"structural",id:l.slice(_o.length)};if(l.startsWith(bo))return{kind:"modifier",id:l.slice(bo.length)}}function ov(l){return Ja.find(c=>c.id===l)??Ja[0]}function wo(l){if(l)return ph(l)}function qo(l){return _n.find(c=>c.id===l)}function sv(l,c){return c==="both"?!0:l===c}function fv(l,c){const o=l.filter(r=>r===c.id).length;return c.stackRules.behavior==="additive"?o<c.stackRules.maxStacks:o===0}function ae(l,c,o){return{...l,lastIssue:c,actionLog:o?we(l.actionLog,o):l.actionLog}}function dv(l){return h0(m0(),{position:{x:0,y:0},card:ov(l),placedBy:"player"})}function uh(l){return(l%4+4)%4}function Eo(l,c){const o=l.indexOf(c);return o<0?l:[...l.slice(0,o),...l.slice(o+1)]}function Lu(l,c){return l&&c.includes(l)?l:c[0]??""}function mv(l,c){const o=Lo.get(l);return!o||o.kind!=="active"?null:c.player.classId==="wizard"&&c.player.passiveAbilityIds.includes("wizard.arcane_efficiency")&&o.family==="arcane"?Math.max(0,o.focusCost-1):o.focusCost}function hv(l){return l.runPhase!=="room_detail"||!l.roomSession||l.roomSession.encounterKind!=="combat_stub"||!l.roomSession.enemyTriggered||!l.roomSession.combatState||l.roomSession.combatState.outcome!==null?null:l.roomSession.combatState}function ch(l,c){if(!l.handAbilityIds.includes(c))return`Ability "${c}" is not in combat hand.`;const o=Lo.get(c);if(!o||o.kind!=="active")return`Ability "${c}" is not playable.`;if(l.turnOwner!=="player")return"Cannot play cards during enemy turn.";const r=mv(c,l);return r===null?`Ability "${c}" is not playable.`:o.apCost>l.apRemaining?"Not enough AP to play that combat card.":r>l.player.focus?"Not enough focus to play that combat card.":null}function gv(l,c){const o=[],r=Math.max(l.length,c.length);for(let m=0;m<r;m+=1){const y=l[m];y&&o.push(y);const v=c[m];v&&o.push(v)}return o}function yv(l){const c=Ja.map(y=>y.id).filter(y=>y!==l).map(y=>So(y)),o=So(tv),r=c.includes(o)?[o,...c.filter(y=>y!==o)]:c,m=_n.map(y=>cv(y.id));return gv(r,m)}function pv(l){return Ja.map(c=>c.id).filter(c=>c!==l).reverse()}function gi(l,c){let o=[...l.deckCardIds],r=[...l.discardCardIds],m=[...l.handCardIds],y=0;for(;m.length<c;){if(o.length===0){if(r.length===0)break;o=[...r],r=[]}const v=o[0];if(!v)break;o=o.slice(1),m=[...m,v],y+=1}return{deckCardIds:o,discardCardIds:r,handCardIds:m,drewCount:y}}function vv(l){return l.map(c=>wo(c)).filter(c=>c!==void 0)}function _v(l){return l.map(c=>qo(c)).filter(c=>c!==void 0)}function bv(l,c){return l.includes(c)?l:[...l,c]}function Sv(l,c,o){const r=Gh(Uo+o*31,l.id);return Z0(l,c,nv,r)}function wu(l,c,o,r){const m={};return Object.entries(l.nodes).forEach(([y,v])=>{const g=o[y],f=c[y]??[],p=!g||g.state==="none"&&g.encounterKind===null;m[y]=p?Sv(v,f,r):g}),m}function xa(l,c){return[c,...l].slice(0,I0)}function $h(l,c){return Math.abs(l.x-c.x)+Math.abs(l.y-c.y)}function Ev(l,c){return $h(l,c)===1}function Go(l,c){const o=l.tiles[c.y];return o?o[c.x]??null:null}function Qh(l,c){const o=Go(l,c);if(!o)return{layout:l,tile:null,newlyRevealed:!1};if(o.state==="revealed")return{layout:l,tile:o,newlyRevealed:!1};const r={...o,state:"revealed"},m=l.tiles.map((y,v)=>y.map((g,f)=>!g||f!==c.x||v!==c.y?g:r));return{layout:{...l,tiles:m},tile:r,newlyRevealed:!0}}function Kh(l,c,o=1){let r=!1;const m=l.tiles.map((y,v)=>y.map((g,f)=>g?$h(c,{x:f,y:v})>o?g:g.state==="face_down"&&(g.type==="hidden_trap"||g.type==="persistent_hazard")?(r=!0,{...g,state:"ghost_trap"}):g:null));return r?{...l,tiles:m}:l}function Zh(l){return l.tiles.flat().filter(c=>!!c).filter(c=>c.state==="revealed").length}function Tv(l){var c;for(let o=0;o<l.height;o+=1)for(let r=0;r<l.width;r+=1)if((c=l.tiles[o])!=null&&c[r])return{x:r,y:o};return null}function xv(l){for(const c of l.doorAnchors){const o={x:c.x,y:c.y};if(Go(l,o))return o}return Tv(l)}function qu(l){var c;return l.encounterKind==="loot"?l.collectedLootCount>=1:l.encounterKind==="hazard"?l.revealedTileCount>=4:l.encounterKind==="combat_stub"?l.enemyTriggered?((c=l.combatState)==null?void 0:c.outcome)!==null:!1:l.puzzleTriggered||l.revealedTileCount>=5}function ho(l){if(l.encounterKind==="combat_stub"){const c=l.combatState;if(!c||!c.outcome)return{outcome:"trap_damage",summary:"Combat unresolved.",combatReport:null};const o=n0(c),r=c.outcome,m={seed:c.seed,rounds:o.rounds,outcome:r==="combat_victory"?"victory":"defeat",playerRemainingHp:o.playerRemainingHp,playerMaxHp:o.playerMaxHp,playerRemainingFocus:o.playerRemainingFocus,enemiesDefeated:o.enemiesDefeated,totalEnemies:o.totalEnemies,log:o.log},y=r==="combat_victory"?`Combat victory in ${o.rounds} rounds (${o.enemiesDefeated}/${o.totalEnemies} enemies defeated).`:`Combat defeat after ${o.rounds} rounds (HP ${o.playerRemainingHp}/${o.playerMaxHp}).`;return{outcome:r,summary:y,combatReport:m}}return l.damageTaken>=2||l.encounterKind==="hazard"&&l.damageTaken>=1?{outcome:"trap_damage",summary:"Room failed due to hazard pressure.",combatReport:null}:{outcome:"safe_loot",summary:"Room objective completed successfully.",combatReport:null}}function Cv(l=Bo){const c=ft.tuning.wound,o=ft.encounterPacks.find(m=>m.id===l),r=ft.failForwardPolicies.find(m=>m.id===(o==null?void 0:o.failForwardPolicyId));return{applyWound:(r==null?void 0:r.applyWound)??c.applyOnMostFailures,hpResetPercent:(r==null?void 0:r.hpResetPercent)??ft.tuning.wound.hpResetPercent,handCardPenalty:(r==null?void 0:r.handCardPenalty)??ft.tuning.wound.handCardPenalty}}function Av(l){return l==="loot"?"loot_container":l==="hazard"?"persistent_hazard":"puzzle_trigger"}function zv(l,c){let o=!1,r=0;const m=Av(c);let y=l.tiles.map(v=>v.map(g=>g?g.type!=="enemy_trigger"||(r+=1,c==="combat_stub")?g:(o=!0,{...g,type:m}):null));if(c==="combat_stub"&&r===0){let v=null;for(const g of y){for(const f of g)if(f&&!f.isDoorAnchor&&f.state==="face_down"){v=f;break}if(v)break}if(!v)for(const g of y){for(const f of g)if(f&&!f.isDoorAnchor){v=f;break}if(v)break}if(!v)for(const g of y){for(const f of g)if(f){v=f;break}if(v)break}v&&(o=!0,y=y.map(g=>g.map(f=>f?f.x!==v.x||f.y!==v.y||f.type==="enemy_trigger"?f:{...f,type:"enemy_trigger"}:null)))}return o?{...l,tiles:y}:l}function Rv(l,c,o){if(l.status!=="active")return{issue:"Room is already resolved."};if(l.encounterKind==="combat_stub"&&l.enemyTriggered&&l.combatState&&!l.combatState.outcome)return{issue:"Combat is active. Play combat cards or retreat."};if(c.x===l.playerPosition.x&&c.y===l.playerPosition.y)return{issue:"Already at that tile."};if(!Ev(l.playerPosition,c))return{issue:"Room movement must be one orthogonal tile."};if(!Go(l.layout,c))return{issue:"Cannot move into blocked tile."};const m=Qh(l.layout,c);let y=m.layout;const v=m.tile;let g=l.collectedLootCount,f=l.damageTaken,p=l.enemyTriggered,R=l.puzzleTriggered,C=l.combatState,U=l.roomLog;if(m.newlyRevealed&&v)if(v.type==="loot_container")g+=1,U=xa(U,"Found loot cache.");else if(v.type==="hidden_trap"||v.type==="persistent_hazard")f+=1,U=xa(U,"Triggered trap/hazard and took damage.");else if(v.type==="enemy_trigger")if(l.encounterKind==="combat_stub"){if(p=!0,U=xa(U,"Enemy trigger activated."),!l.combatState){const X=Uo+l.encounterSeed+c.x*17+c.y*23;C=t0({seed:X,content:ft,encounterPackId:Bo,playerClassId:o,handSize:ev}),U=xa(U,`Combat engaged as ${o.toUpperCase()}. Play cards from the combat hand.`)}}else U=xa(U,"Enemy marker ignored in non-combat encounter.");else v.type==="puzzle_trigger"&&(R=!0,U=xa(U,"Puzzle trigger discovered."));y=Kh(y,c,1);const Y={...l,layout:y,playerPosition:c,revealedTileCount:Zh(y),collectedLootCount:g,damageTaken:f,enemyTriggered:p,puzzleTriggered:R,combatState:C,roomLog:xa(U,`Moved to ${c.x},${c.y}.`),canResolve:!1},Q={...Y,canResolve:qu(Y)};return Q.damageTaken>=F0?{nextSession:Q,forcedOutcome:"trap_damage"}:{nextSession:Q}}function Mv(l,c,o){var Q;const r=l.mapState.nodes[c];if(!r)return null;const m=_v(l.modifierStacks[c]??[]),y=Gh(Uo+l.turnIndex*101,r.id),v=Lh(r.openings,Gu,y,{modifiers:m,preferCorridorCombat:o==="combat_stub"}),g=zv(v,o),f=xv(g);if(!f)return null;const p=Qh(g,f),R=Kh(p.layout,f,1),C=Zh(R),U=((Q=l.nodeEncounters[c])==null?void 0:Q.seed)??1,Y={nodeKey:c,encounterSeed:U,encounterKind:o,layout:R,playerPosition:f,revealedTileCount:C,collectedLootCount:0,damageTaken:0,enemyTriggered:!1,puzzleTriggered:!1,canResolve:!1,roomLog:[`Entered room at ${f.x},${f.y}. Objective active.`],resultSummary:null,status:"active",resolvedOutcome:null,combatReport:null,combatState:null};return{...Y,canResolve:qu(Y)}}function oi(l,c,o,r=null){if(!l.roomSession)return ae(l,"Room resolution failed: no active room session.");const m=l.roomSession.nodeKey,y=l.nodeEncounters[m],v=k0(l.roomSession.layout,c),g=c==="combat_defeat"?ih(c,l.roomSession.encounterKind,Cv(Bo)):ih(c,l.roomSession.encounterKind),f=l.playerWoundCount+(g.woundApplied?1:0),p=g.hpResetPercent??l.playerHpPercent,R=c==="trap_damage"||c==="combat_defeat"?"Room Failed":c==="combat_victory"?"Room Cleared (Combat)":"Room Cleared",C=c==="trap_damage"||c==="combat_defeat"?`Room failed (${c}). Apply rewards to continue.`:"",U=`${R}: ${o}`;let Y=xa(l.roomSession.roomLog,o);return r&&r.log.slice(Math.max(0,r.log.length-4)).forEach(X=>{Y=xa(Y,`[Combat] ${X}`)}),{...l,runPhase:cl(l.runPhase,"resolve_rewards"),playerWoundCount:f,playerHpPercent:p,roomSession:{...l.roomSession,layout:v,status:"resolved",resolvedOutcome:c,canResolve:!0,roomLog:Y,resultSummary:U,combatReport:r},nodeEncounters:{...l.nodeEncounters,[m]:{state:"resolved",encounterKind:l.roomSession.encounterKind,seed:(y==null?void 0:y.seed)??1}},pendingRewards:g,selectedCombatAbilityId:null,lastIssue:C,actionLog:we(we(l.actionLog,U),`Room resolved at ${m} with outcome ${c}.`)}}function Nv(l){return l.map(c=>wo(c)).filter(c=>c!==void 0).map(c=>So(c.id))}function si(l,c={}){const o=Math.max(0,c.drawBonus??0),r=Math.max(0,c.handCardPenalty??0),m=Nv(c.bonusStructuralCardIds??[]),y=l.turnIndex+1,v=Math.max(1,Xh+o-r);let g=[...l.playerHandCardIds],f=[...l.playerDiscardCardIds,...m],p=0;for(;g.length>v;){const U=g[g.length-1];if(!U)break;g=g.slice(0,-1),f=[...f,U],p+=1}const R=gi({deckCardIds:l.playerDeckCardIds,discardCardIds:f,handCardIds:g},v);let C=l.actionLog;return c.leadMessage&&(C=we(C,c.leadMessage)),c.rewardLog&&c.rewardLog.forEach(U=>{C=we(C,U)}),m.length>0&&(C=we(C,`Turn ${y}: reward cards queued (${m.join(", ")}).`)),r>0&&(C=we(C,`Turn ${y}: fail-forward hand size penalty ${r} applied.`)),p>0&&(C=we(C,`Turn ${y}: discarded ${p} card(s) from hand due to penalty.`)),R.drewCount>0&&(C=we(C,`Turn ${y}: drew ${R.drewCount} card(s).`)),C=we(C,`Turn ${y} build phase started.`),{...l,runPhase:cl(l.runPhase,"map_build"),turnIndex:y,playerDeckCardIds:R.deckCardIds,playerDiscardCardIds:R.discardCardIds,playerHandCardIds:R.handCardIds,selectedCardId:Lu(l.selectedCardId,R.handCardIds),selectedCombatAbilityId:null,pendingRewards:null,roomSession:null,lastIssue:"",actionLog:C}}function rh(l,c){const o=l.nodeEncounters[c];if(!o||o.state!=="pending"||!o.encounterKind)return ae(l,`No pending encounter at ${c}.`,`Travel: no encounter at ${c}`);const r=Mv(l,c,o.encounterKind);return r?{...l,runPhase:cl(l.runPhase,"room_detail"),selectedNodeKey:c,selectedCombatAbilityId:null,roomSession:r,lastIssue:"",actionLog:we(l.actionLog,`Entered room detail at ${c} (${o.encounterKind}).`)}:ae(l,`Failed to create room session at ${c}.`,`Room entry failed at ${c}`)}function Dv(l){const c=gi({deckCardIds:l.directorDeckCardIds,discardCardIds:l.directorDiscardCardIds,handCardIds:l.directorHandCardIds},vo),o=G0({mapState:l.mapState,modifierStacks:l.modifierStacks,budgets:l.aiBudgets,structuralCards:vv(c.handCardIds),modifiers:_n,rng:Ro(J0+(l.turnIndex-1)),placementCap:1,modifierCap:1});let r={deckCardIds:c.deckCardIds,discardCardIds:c.discardCardIds,handCardIds:c.handCardIds};o.actions.forEach(p=>{p.kind==="place_card"&&(r={...r,handCardIds:Eo(r.handCardIds,p.cardId),discardCardIds:[...r.discardCardIds,p.cardId]})});const m=gi(r,vo),y=o.actions.map(p=>q0(p)),v=[...o.actions].reverse().find(p=>p.kind==="place_card"),g=wu(o.nextMapState,o.nextModifierStacks,l.nodeEncounters,l.turnIndex);let f=l.actionLog;return y.length>0&&(f=we(f,`Director build: ${y.join(" | ")}`)),f=we(f,"Travel phase: move one edge or wait."),{...l,runPhase:cl(l.runPhase,"travel"),mapState:o.nextMapState,modifierStacks:o.nextModifierStacks,nodeEncounters:g,aiBudgets:o.nextBudgets,aiRecap:y,lastAiActions:o.actions,selectedNodeKey:(v==null?void 0:v.kind)==="place_card"?v.positionKey:l.selectedNodeKey,directorDeckCardIds:m.deckCardIds,directorDiscardCardIds:m.discardCardIds,directorHandCardIds:m.handCardIds,selectedCombatAbilityId:null,lastIssue:"",actionLog:f}}function Vh(l){const c=l.selectedCardId;if(!c)return;const o=rv(c);if(!o)return;if(o.kind==="structural"){const m=wo(o.id);return m?{token:c,kind:"structural",structural:m}:void 0}const r=qo(o.id);if(r)return{token:c,kind:"modifier",modifier:r}}function Ov(l){if(l.selectedNodeKey)return l.mapState.nodes[l.selectedNodeKey]}function jv(l){return l.selectedNodeKey?l.modifierStacks[l.selectedNodeKey]??[]:[]}function To(l,c,o){const r=l.mapState.nodes[o];if(!r)return!1;const m=qo(c);if(!m||!sv(r.cardType,m.validTargets))return!1;const y=l.modifierStacks[o]??[];return fv(y,m)}function Hv(l){return qh(l.mapState,l.playerPositionKey)}function Uv(l){return l.runPhase==="map_build"&&$u(l.mapState)>0}function kh(l=uv()){const c=dv(l),o=gi({deckCardIds:yv(l),discardCardIds:[],handCardIds:[]},Xh),r=gi({deckCardIds:pv(l),discardCardIds:[],handCardIds:[]},vo),m="0,0",y=wu(c,{},{},1);return{runPhase:"map_build",seedCardId:l,mapState:c,modifierStacks:{},turnIndex:1,playerPositionKey:m,visitedNodeKeys:[m],nodeEncounters:y,roomSession:null,pendingRewards:null,selectedCardId:Lu("",o.handCardIds),selectedRotation:0,selectedNodeKey:m,selectedCombatAbilityId:null,lastIssue:"",aiBudgets:w0(),aiRecap:[],lastAiActions:[],actionLog:[`Turn 1 start: seeded ${l} at 0,0`],playerWoundCount:0,playerHpPercent:av,selectedCombatClassId:P0,playerDeckCardIds:o.deckCardIds,playerDiscardCardIds:o.discardCardIds,playerHandCardIds:o.handCardIds,directorDeckCardIds:r.deckCardIds,directorDiscardCardIds:r.discardCardIds,directorHandCardIds:r.handCardIds}}function Bv(l,c){switch(c.type){case"set_selected_card":return l.playerHandCardIds.includes(c.cardId)?{...l,selectedCardId:c.cardId,lastIssue:""}:ae(l,`Card "${c.cardId}" is not in hand.`,`Turn ${l.turnIndex}: card select blocked (not in hand)`);case"set_combat_class":return iv(c.classId)?l.selectedCombatClassId===c.classId?l:{...l,selectedCombatClassId:c.classId,lastIssue:"",actionLog:we(l.actionLog,`Combat class set to ${c.classId.toUpperCase()}.`)}:ae(l,`Unknown combat class "${c.classId}".`);case"set_selected_combat_ability":{if(c.abilityId===null)return l.selectedCombatAbilityId===null?l:{...l,selectedCombatAbilityId:null,lastIssue:""};const o=hv(l);if(!o)return ae(l,"Combat card selection is only valid during active combat.");const r=ch(o,c.abilityId);return r?ae(l,r):{...l,selectedCombatAbilityId:c.abilityId,lastIssue:""}}case"rotate_left":return l.runPhase!=="map_build"?ae(l,"Rotation is available only during build phase."):{...l,selectedRotation:uh(l.selectedRotation-1),lastIssue:""};case"rotate_right":return l.runPhase!=="map_build"?ae(l,"Rotation is available only during build phase."):{...l,selectedRotation:uh(l.selectedRotation+1),lastIssue:""};case"set_selected_node":return{...l,selectedNodeKey:c.nodeKey,lastIssue:""};case"place_card":{if(l.runPhase!=="map_build")return ae(l,"Card play is only valid during build phase.",`Turn ${l.turnIndex}: play blocked (phase ${l.runPhase})`);const o=Vh(l);if(!o)return ae(l,"No selected card in hand.",`Turn ${l.turnIndex}: play blocked (no selected card)`);if(!l.playerHandCardIds.includes(o.token))return ae(l,`Selected card "${o.token}" is not in hand.`,`Turn ${l.turnIndex}: play blocked (card not in hand)`);if(o.kind==="structural")try{const p=Oh(l.mapState,{position:c.position,card:o.structural,rotationQuarterTurns:l.selectedRotation,placedBy:"player"}),R=dt(c.position),C=Eo(l.playerHandCardIds,o.token),U=wu(p,l.modifierStacks,l.nodeEncounters,l.turnIndex);return{...l,mapState:p,nodeEncounters:U,selectedNodeKey:R,selectedCardId:Lu(l.selectedCardId,C),playerHandCardIds:C,playerDiscardCardIds:[...l.playerDiscardCardIds,o.token],lastIssue:"",actionLog:we(l.actionLog,`Turn ${l.turnIndex}: placed ${o.structural.id} rot=${l.selectedRotation} at ${R}`)}}catch(p){const R=p instanceof Error?p.message:"Placement failed";return ae(l,R,`Turn ${l.turnIndex}: placement blocked (${R})`)}const r=dt(c.position);if(!l.mapState.nodes[r])return ae(l,`Modifier "${o.modifier.id}" requires an occupied node target.`);if(!To(l,o.modifier.id,r))return ae(l,`Modifier "${o.modifier.id}" is not valid at ${r}.`);const y=l.modifierStacks[r]??[],v=Eo(l.playerHandCardIds,o.token),g={...l.modifierStacks,[r]:[...y,o.modifier.id]},f=wu(l.mapState,g,l.nodeEncounters,l.turnIndex);return{...l,selectedNodeKey:r,selectedCardId:Lu(l.selectedCardId,v),modifierStacks:g,nodeEncounters:f,playerHandCardIds:v,playerDiscardCardIds:[...l.playerDiscardCardIds,o.token],lastIssue:"",actionLog:we(l.actionLog,`Turn ${l.turnIndex}: played modifier ${o.modifier.id} on ${r}`)}}case"end_build":case"end_turn":{if(l.runPhase!=="map_build")return ae(l,"Build can only end during build phase.",`Turn ${l.turnIndex}: end build blocked (phase ${l.runPhase})`);if($u(l.mapState)===0)return ae(l,"End build blocked: no open expansion ports remain.",`Turn ${l.turnIndex}: end build blocked (no expansion ports)`);const o={...l,runPhase:cl(l.runPhase,"ai_build")};return Dv(o)}case"travel_to":{if(l.runPhase!=="travel")return ae(l,"Travel movement is only valid during travel phase.");if(!V0(l.mapState,l.playerPositionKey,c.nodeKey))return ae(l,`Cannot travel from ${l.playerPositionKey} to ${c.nodeKey}.`,`Travel blocked: ${l.playerPositionKey} -> ${c.nodeKey}`);const o={...l,playerPositionKey:c.nodeKey,visitedNodeKeys:bv(l.visitedNodeKeys,c.nodeKey),selectedNodeKey:c.nodeKey,lastIssue:"",actionLog:we(l.actionLog,`Travel: moved to ${c.nodeKey}.`)},r=o.nodeEncounters[c.nodeKey];return(r==null?void 0:r.state)==="pending"&&r.encounterKind?rh(o,c.nodeKey):si(o)}case"wait_travel":return l.runPhase!=="travel"?ae(l,"Wait is only valid during travel phase."):si(l,{leadMessage:`Travel: waited at ${l.playerPositionKey}.`});case"enter_room":return l.runPhase!=="travel"?ae(l,"Room entry is only valid during travel phase."):c.nodeKey!==l.playerPositionKey?ae(l,`Room entry requires current node ${l.playerPositionKey}.`):rh(l,c.nodeKey);case"room_move":{if(l.runPhase!=="room_detail"||!l.roomSession)return ae(l,"Room movement is only valid in active room detail.");const o=Rv(l.roomSession,c.position,l.selectedCombatClassId);return o.nextSession?o.forcedOutcome?oi({...l,roomSession:o.nextSession},o.forcedOutcome,"Room collapsed under hazard pressure."):{...l,roomSession:o.nextSession,selectedCombatAbilityId:null,lastIssue:"",actionLog:we(l.actionLog,`Room move: ${o.nextSession.playerPosition.x},${o.nextSession.playerPosition.y}`)}:ae(l,o.issue??"Room movement failed.")}case"combat_play_card":{if(l.runPhase!=="room_detail"||!l.roomSession)return ae(l,"Combat cards can only be played in room detail.");if(l.roomSession.encounterKind!=="combat_stub")return ae(l,"Combat cards are only valid in combat encounters.");if(!l.roomSession.enemyTriggered||!l.roomSession.combatState)return ae(l,"Combat has not started in this room yet.");const o=c.abilityId??l.selectedCombatAbilityId;if(!o)return ae(l,"Select a combat card before choosing a target.");const r=ch(l.roomSession.combatState,o);if(r)return ae(l,r);const m=Lo.get(o);if((m==null?void 0:m.kind)==="active"&&m.targeting.team==="enemy"&&!c.targetEnemyId)return ae(l,"Select a highlighted enemy target before playing that combat card.");let v="";if(c.targetEnemyId){const R=l.roomSession.combatState.enemies.find(C=>C.id===c.targetEnemyId&&C.hp>0);if(!R)return ae(l,"Selected combat target is no longer valid.");v=` on ${R.label}`}const g=a0(l.roomSession.combatState,o,ft,c.targetEnemyId);if(g.issue)return ae(l,g.issue);const f={...l.roomSession,combatState:g.nextSession,canResolve:qu({...l.roomSession,combatState:g.nextSession})},p={...l,roomSession:f,selectedCombatAbilityId:null,lastIssue:"",actionLog:we(l.actionLog,`Combat: played ${o}${v}.`)};if(f.canResolve){const R=ho(f);return oi(p,R.outcome,R.summary,R.combatReport)}return p}case"combat_end_turn":{if(l.runPhase!=="room_detail"||!l.roomSession)return ae(l,"Combat turn can only end in room detail.");if(l.roomSession.encounterKind!=="combat_stub")return ae(l,"Combat turn end is only valid in combat encounters.");if(!l.roomSession.enemyTriggered||!l.roomSession.combatState)return ae(l,"Combat has not started in this room yet.");const o=Ch(l.roomSession.combatState,ft);if(o.issue)return ae(l,o.issue);const r={...l.roomSession,combatState:o.nextSession,canResolve:qu({...l.roomSession,combatState:o.nextSession})},m={...l,roomSession:r,selectedCombatAbilityId:null,lastIssue:"",actionLog:we(l.actionLog,"Combat: ended player turn.")};if(r.canResolve){const y=ho(r);return oi(m,y.outcome,y.summary,y.combatReport)}return m}case"room_complete":{if(l.runPhase!=="room_detail"||!l.roomSession)return ae(l,"Room completion is only valid in active room detail.");if(l.roomSession.encounterKind==="combat_stub"&&l.roomSession.enemyTriggered&&l.roomSession.combatState&&!l.roomSession.combatState.outcome)return ae(l,"Combat is in progress. Play combat cards to resolve the encounter.");if(!l.roomSession.canResolve)return ae(l,"Room objective not complete yet.","Room completion blocked: objective incomplete.");const o=ho(l.roomSession);return oi(l,o.outcome,o.summary,o.combatReport)}case"room_resolve":return l.runPhase!=="room_detail"||!l.roomSession?ae(l,"Room resolve is only valid in active room detail."):c.outcome==="retreat"?si({...l,roomSession:null,pendingRewards:null,lastIssue:""},{leadMessage:`Retreated from room at ${l.playerPositionKey}. Encounter remains pending.`}):oi(l,c.outcome,`Resolved room via manual override (${c.outcome}).`);case"room_exit":return l.runPhase!=="room_detail"&&l.runPhase!=="resolve_rewards"||!l.roomSession?ae(l,"Room exit is only valid while in room flow."):l.pendingRewards?{...l,runPhase:cl(l.runPhase,"resolve_rewards"),selectedCombatAbilityId:null,lastIssue:"",actionLog:we(l.actionLog,"Apply rewards to return to build phase.")}:si({...l,roomSession:null,pendingRewards:null,lastIssue:""},{leadMessage:`Exited room at ${l.playerPositionKey}.`});case"apply_rewards":{if(l.runPhase!=="resolve_rewards")return ae(l,"Reward application is only valid after room resolution.");const o=l.pendingRewards;return si({...l,roomSession:null,pendingRewards:null,lastIssue:""},{drawBonus:(o==null?void 0:o.drawBonus)??0,bonusStructuralCardIds:(o==null?void 0:o.bonusStructuralCardIds)??[],handCardPenalty:(o==null?void 0:o.handCardPenalty)??0,rewardLog:(o==null?void 0:o.log)??[],leadMessage:l.roomSession?`Exited room at ${l.roomSession.nodeKey}.`:void 0})}case"reset_run":{const o=kh(l.seedCardId);return{...o,actionLog:we(o.actionLog,"Run reset.")}}default:return l}}function Lv(l,c){const[o,r,m,y]=l,v=` ${o?"":" "} `,g=`${y?"":" "}${c}${r?"":" "}`;return`${v}
${g}
${` ${m?"":" "} `}`}function wv({cardId:l,cardType:c,openings:o,compactGlyph:r,className:m,title:y,subtitle:v}){return h.jsxs("div",{className:["structural-card-face",m].filter(Boolean).join(" "),"aria-label":`${l} face`,children:[h.jsx("span",{className:"structural-card-glyph",children:r}),h.jsx("pre",{className:"structural-card-node",children:Lv(o,c==="room"?"":"")}),y?h.jsx("strong",{className:"structural-card-title",children:y}):null,v?h.jsx("span",{className:"structural-card-type",children:v}):null]})}const Ia=Ho,qv=new Map(ft.abilities.map(l=>[l.id,l]));function Gv(l,c){return c.player.classId==="wizard"&&c.player.passiveAbilityIds.includes("wizard.arcane_efficiency")&&l.family==="arcane"?Math.max(0,l.focusCost-1):l.focusCost}function Yv(l){return l==="safe_floor"?"":l==="hidden_trap"?"":l==="persistent_hazard"?"":l==="loot_container"?"":l==="puzzle_trigger"?"?":l==="enemy_trigger"?"":""}function Xv(l,c){return c==="face_down"?"":c==="ghost_trap"?"!":Yv(l)}function $v(l,c){return Math.abs(l.x-c.x)+Math.abs(l.y-c.y)}function Qv(l){return l.encounterKind==="loot"?"Objective: find at least 1 loot tile.":l.encounterKind==="hazard"?"Objective: reveal 4 tiles and survive.":l.encounterKind==="combat_stub"?"Objective: trigger enemy contact, then resolve combat.":"Objective: discover puzzle trigger or reveal 5 tiles."}function Kv(l){if(l.encounterKind==="loot")return`Progress: loot ${l.collectedLootCount}/1`;if(l.encounterKind==="hazard")return`Progress: revealed ${l.revealedTileCount}/4`;if(l.encounterKind==="combat_stub"){if(!l.enemyTriggered)return"Progress: enemy trigger not found.";if(!l.combatState)return"Progress: combat setup pending.";if(l.combatState.outcome==="combat_victory")return"Progress: combat victory secured.";if(l.combatState.outcome==="combat_defeat")return"Progress: combat defeat sustained.";const c=l.combatState.enemies.filter(o=>o.hp>0).length;return`Progress: round ${l.combatState.round} | ${l.combatState.turnOwner} turn | enemies ${c}/${l.combatState.enemies.length}`}return l.puzzleTriggered?"Progress: puzzle trigger discovered.":`Progress: revealed ${l.revealedTileCount}/5`}function Zv({runPhase:l,roomSession:c,pendingRewards:o,damageFailThreshold:r,selectedCombatAbilityId:m,onMove:y,onComplete:v,onCombatSelectTarget:g,onCombatEndTurn:f,onRetreat:p,onExit:R,onApplyRewards:C}){const U=Bh(c.layout.tiles),Y=l==="room_detail"&&c.status==="active",Q=l==="resolve_rewards",X=c.encounterKind==="combat_stub",B=c.combatState,ue=Y&&X&&c.enemyTriggered&&B!==null&&B.outcome===null,Je=c.resolvedOutcome==="trap_damage"||c.resolvedOutcome==="combat_defeat",Ce=Je?"Room Failed":"Room Cleared",Fe=c.resultSummary??(c.resolvedOutcome?`Room resolved with ${c.resolvedOutcome}.`:""),mt=o?[`Draw bonus: +${o.drawBonus}`,o.bonusStructuralCardIds.length>0?`Bonus cards: ${o.bonusStructuralCardIds.join(", ")}`:"Bonus cards: none",o.handCardPenalty>0?`Hand penalty: -${o.handCardPenalty}`:"Hand penalty: none",o.woundApplied?`Wound applied; HP reset to ${o.hpResetPercent??100}%`:"Wound applied: no"]:["No pending rewards."],Ve=Math.floor((Ia-c.layout.width)/2),P=Math.floor((Ia-c.layout.height)/2),ke=new Map,he=[],ht=(B==null?void 0:B.enemies.filter(z=>z.hp>0).length)??0,Ae=m?qv.get(m):void 0,Re=ue&&(Ae==null?void 0:Ae.kind)==="active"&&Ae.targeting.team==="enemy",zt=ue&&B&&(Ae==null?void 0:Ae.kind)==="active"&&B.turnOwner==="player"&&Ae.apCost<=B.apRemaining&&Gv(Ae,B)<=B.player.focus,ot=!!Re&&!!zt,tt=new Map;if(c.layout.tiles.forEach(z=>{z.forEach(w=>{if(!w)return;const K=w.x+Ve,ee=w.y+P;if(K<0||K>=Ia||ee<0||ee>=Ia)return;const J=`${K},${ee}`;ke.set(J,w),he.push({key:J,stageX:K,stageY:ee,tile:w})})}),ue&&B){const z=he.filter(_=>_.tile.type==="enemy_trigger").sort((_,D)=>_.stageY===D.stageY?_.stageX-D.stageX:_.stageY-D.stageY),w=he.filter(_=>_.tile.type!=="enemy_trigger"&&!_.tile.isDoorAnchor).sort((_,D)=>_.stageY===D.stageY?_.stageX-D.stageX:_.stageY-D.stageY),K=he.filter(_=>!_.tile.isDoorAnchor).sort((_,D)=>_.stageY===D.stageY?_.stageX-D.stageX:_.stageY-D.stageY),ee=[...z,...w,...K],J=new Set;B.enemies.forEach((_,D)=>{const L=ee.find(q=>!J.has(q.key));L&&(J.add(L.key),tt.set(L.key,{enemyId:_.id,label:_.label,hp:_.hp,maxHp:_.maxHp,defeated:_.hp<=0,order:D}))})}return h.jsxs("section",{className:"room-view-shell",children:[Q?h.jsxs("section",{className:["room-result-banner",Je?"room-result-fail":"room-result-success"].filter(Boolean).join(" "),children:[h.jsx("strong",{children:Ce}),h.jsx("p",{children:Fe}),Je?h.jsx("p",{children:"This is a room-level failure, not run death. Apply rewards to continue."}):null]}):null,h.jsx("section",{className:"room-stage-grid","aria-label":"Room tile grid",children:Array.from({length:Ia*Ia}).map((z,w)=>{const K=w%Ia,ee=Math.floor(w/Ia),J=ke.get(`${K},${ee}`);if(!J)return h.jsx("span",{className:"room-stage-cell room-stage-cell-empty","aria-hidden":"true"},`room-stage-empty-${K}-${ee}`);const _={x:J.x,y:J.y},D=c.playerPosition.x===J.x&&c.playerPosition.y===J.y,L=Y&&!ue&&!D&&$v(c.playerPosition,_)===1,q=`${K},${ee}`,k=tt.get(q),ne=!!k,ce=k!==void 0&&!k.defeated&&ot,qe=L||ce,Me=D?"@":k?k.defeated?"":`${k.order%9+1}`:Xv(J.type,J.state),na=k?`${k.label} HP ${Math.max(0,k.hp)}/${k.maxHp}`:`${J.type} (${J.state})`;return h.jsx("button",{type:"button",className:["room-stage-cell","room-stage-cell-button",`room-tile-${J.state}`,`room-tile-${J.type}`,J.isDoorAnchor?"room-tile-door":"",D?"room-tile-player":"",ne?"room-tile-combat-enemy":"",L?"room-tile-step-target":"",ce?"room-tile-combat-target":""].filter(Boolean).join(" "),title:na,disabled:!qe,onClick:()=>{if(ce&&k){g(k.enemyId);return}y(_)},children:Me},`room-stage-${K}-${ee}`)})}),ue&&B?h.jsxs("section",{className:"combat-hand-panel",children:[h.jsxs("header",{className:"combat-hand-header",children:[h.jsx("h3",{children:"Combat"}),h.jsxs("p",{children:["Round ",B.round," | Turn ",B.turnOwner," | AP"," ",B.apRemaining," | Focus ",B.player.focus,"/",B.player.maxFocus]})]}),h.jsx("p",{className:"overlay-stack-preview",children:ot&&(Ae==null?void 0:Ae.kind)==="active"?`Selected ${Ae.ui.shortLabel}. Click a highlighted enemy tile to play.`:"Use Q1..Q12 to choose combat cards. Enemy-target cards require a board target click."}),h.jsx("div",{className:"combat-enemy-row",children:B.enemies.map(z=>h.jsxs("article",{className:["combat-enemy-chip",z.hp<=0?"defeated":""].filter(Boolean).join(" "),children:[h.jsx("strong",{children:z.label}),h.jsxs("span",{children:["HP ",Math.max(0,z.hp),"/",z.maxHp]})]},z.id))}),h.jsx("button",{type:"button",onClick:f,disabled:B.turnOwner!=="player",children:"End Combat Turn"}),B.log.length>0?h.jsx("ul",{className:"combat-log-list",children:B.log.slice(0,8).map((z,w)=>h.jsx("li",{children:z},`${z}-${w}`))}):null]}):null,h.jsxs("section",{className:"room-view-meta",children:[h.jsxs("article",{className:"room-meta-column",children:[h.jsx("h3",{children:"Room Detail"}),h.jsxs("p",{className:"overlay-stack-preview",children:["Node ",c.nodeKey," | encounter ",c.encounterKind," | template ",c.layout.templateId]}),h.jsx("p",{className:"overlay-stack-preview",children:Qv(c)}),h.jsx("p",{className:"overlay-stack-preview",children:Kv(c)})]}),h.jsxs("article",{className:"room-meta-column",children:[h.jsx("h3",{children:"Stats"}),h.jsxs("p",{className:"overlay-stack-preview",children:["Stats: revealed ",c.revealedTileCount," | loot"," ",c.collectedLootCount," | damage ",c.damageTaken,"/",r," | enemy"," ",c.enemyTriggered?"yes":"no"," | puzzle"," ",c.puzzleTriggered?"yes":"no"]}),c.combatReport?h.jsxs("p",{className:"overlay-stack-preview",children:["Combat:"," ",c.combatReport.outcome==="victory"?"victory":"defeat"," ","in ",c.combatReport.rounds," rounds | HP"," ",c.combatReport.playerRemainingHp,"/",c.combatReport.playerMaxHp," | kills"," ",c.combatReport.enemiesDefeated,"/",c.combatReport.totalEnemies]}):null,B&&!c.combatReport?h.jsxs("p",{className:"overlay-stack-preview",children:["Combat: round ",B.round," | turn ",B.turnOwner," | AP ",B.apRemaining," | focus ",B.player.focus,"/",B.player.maxFocus," | HP ",B.player.hp,"/",B.player.maxHp," | enemies ",ht,"/",B.enemies.length]}):null,h.jsxs("p",{className:"overlay-stack-preview",children:["Tile mix: F ",U.safe_floor," | T ",U.hidden_trap," | H"," ",U.persistent_hazard," | L ",U.loot_container," | P"," ",U.puzzle_trigger," | E ",U.enemy_trigger]}),h.jsxs("p",{className:"overlay-stack-preview",children:["Rewards: ",mt.join(" | ")]})]})]}),c.roomLog.length>0?h.jsx("ul",{className:"room-reward-log",children:c.roomLog.map((z,w)=>h.jsx("li",{children:z},`${z}-${w}`))}):null,h.jsxs("section",{className:"room-action-row",children:[Y?h.jsxs(h.Fragment,{children:[ue?null:h.jsx("button",{type:"button",onClick:v,disabled:!c.canResolve,title:"Complete encounter when objective is met",children:"Complete Encounter"}),h.jsx("button",{type:"button",className:"danger-button",onClick:p,children:"Retreat"})]}):null,l==="resolve_rewards"?h.jsx("button",{type:"button",onClick:C,children:"Apply Rewards"}):null,h.jsx("button",{type:"button",onClick:R,children:"Exit Room"})]})]})}const Vv=[0,0,0,0],oh=280,sh="map-interaction-hint",fh="S:",dh="M:",kv=5,mh=9,hh=2,gh=Ho,Wv=["00100","01110","01110","01110","00100","00100"],Iv={"0,2":"HEAD","1,1":"CAPE","1,2":"NECK","1,3":"MAIN","2,1":"BACK","2,2":"CHEST","2,3":"OFF","3,1":"ACC","3,2":"BELT","3,3":"ACC2","4,2":"LEGS","5,2":"BOOTS"},Jv={"2,0":"Party1","3,0":"Party2","4,0":"Party3","5,0":"Party4"},Fv={"0,4":"Int","1,4":"Str","2,4":"Dex","3,4":"HP","4,4":"Cha","5,4":"Wis"},fi=new Map(Ao.map(l=>[l.id,l.compactGlyph])),Yo=new Map(_n.map(l=>[l.id,l])),Pv=new Map(zo.map(l=>[l.modifier,l.glyph])),e1=new Map(ft.abilities.map(l=>[l.id,l])),t1={melee:"",arcane:"",support:""};function di(l){const c=Yo.get(l);return c?Pv.get(c.family)??"?":"?"}function a1(l){return t1[l.family]??""}function n1(l,c,o){return c==="wizard"&&o.includes("wizard.arcane_efficiency")&&l.family==="arcane"?Math.max(0,l.focusCost-1):l.focusCost}function l1(l){return l==="safe_floor"?"":l==="hidden_trap"?"":l==="persistent_hazard"?"":l==="loot_container"?"":l==="puzzle_trigger"?"?":l==="enemy_trigger"?"":""}function i1(l){return l.map(c=>c.map(o=>o?l1(o.type):" ").join("")).join(`
`)}function u1(l){const c=Number.parseInt(l.replace(/\D+/g,""),10);return!Number.isFinite(c)||c<=0?1:c}function go(l){return l==="map_build"?"MAP BUILD":l==="ai_build"?"AI BUILD":l==="travel"?"TRAVEL":l==="room_detail"?"ROOM DETAIL":l==="resolve_rewards"?"RESOLVE REWARDS":l.toUpperCase()}function yh(l){if(l.startsWith(fh)){const c=l.slice(fh.length),o=ph(c);return o?{token:l,kind:"structural",structural:o}:void 0}if(l.startsWith(dh)){const c=l.slice(dh.length),o=Yo.get(c);return o?{token:l,kind:"modifier",modifier:o}:void 0}}function c1(l){if(!(l instanceof HTMLElement))return!1;const c=l.tagName.toLowerCase();return c==="input"||c==="textarea"||c==="select"?!0:l.isContentEditable}function r1(l){const c=[l.positionKey];return l.node?c.push(`occupied ${l.node.cardType} ${l.node.cardId}`,`owner ${l.node.owner}`):c.push("empty cell"),l.modifierCount>0&&c.push(`${l.modifierCount} modifier overlay${l.modifierCount===1?"":"s"}`),l.canPlayStructural?c.push("Press Enter or Space to place selected structural card"):l.canPlayModifier?c.push("Press Enter or Space to apply selected modifier"):l.isTravelTarget?c.push("Press Enter or Space to travel here"):l.node&&c.push("Press Enter or Space to select node"),l.isSelected&&c.push("selected"),c.join(". ")}function o1(){const[l,c]=_e.useReducer(Bv,void 0,kh),[o,r]=_e.useState(null),[m,y]=_e.useState(null),[v,g]=_e.useState(!1),[f,p]=_e.useState(null),[R,C]=_e.useState(!1),U=_e.useRef(new Map),Y=_e.useRef(new Map),Q=_e.useRef(null),X=_e.useMemo(()=>l.playerHandCardIds.map(N=>yh(N)).filter(N=>N!==void 0),[l.playerHandCardIds]),B=_e.useMemo(()=>Vh(l),[l]),ue=(B==null?void 0:B.kind)==="structural"?B.structural:void 0,Je=_e.useMemo(()=>ue?Do(ue.openings,l.selectedRotation):Vv,[ue,l.selectedRotation]),Ce=_e.useMemo(()=>Dh(l.mapState),[l.mapState]),Fe=_e.useMemo(()=>new Set(Ce.map(N=>dt(N))),[Ce]),mt=_e.useMemo(()=>ue?yo(l.mapState,ue,[l.selectedRotation]):[],[l.mapState,ue,l.selectedRotation]),Ve=_e.useMemo(()=>new Set(mt.map(N=>dt(N.position))),[mt]),P=_e.useMemo(()=>Hv(l),[l]),ke=_e.useMemo(()=>new Set(P),[P]),he=l.runPhase==="map_build",ht=l.runPhase==="travel",Ae=l.runPhase==="room_detail"||l.runPhase==="resolve_rewards",Re=_e.useMemo(()=>l.runPhase!=="room_detail"||!l.roomSession||l.roomSession.encounterKind!=="combat_stub"||!l.roomSession.enemyTriggered||!l.roomSession.combatState||l.roomSession.combatState.outcome!==null?null:l.roomSession.combatState,[l.runPhase,l.roomSession]),zt=Re!==null,ot=_e.useMemo(()=>Re?Re.handAbilityIds.map(N=>{const G=e1.get(N);if(!G||G.kind!=="active")return null;const V=n1(G,Re.player.classId,Re.player.passiveAbilityIds),le=Re.turnOwner==="player"&&G.apCost<=Re.apRemaining&&V<=Re.player.focus;return{abilityId:N,ability:G,focusCost:V,canPlay:le}}).filter(N=>N!==null):[],[Re]),tt=_e.useMemo(()=>l.selectedCombatAbilityId?ot.find(G=>G.abilityId===l.selectedCombatAbilityId)??null:null,[ot,l.selectedCombatAbilityId]),z=X.slice(0,mh*hh),w=ot.slice(0,mh*hh),K=Uv(l),ee=l.lastIssue||l.actionLog[0]||`Turn ${l.turnIndex} ${go(l.runPhase)} ready.`,J=_e.useMemo(()=>Object.keys(l.mapState.nodes),[l.mapState.nodes]),_=Ov(l),D=jv(l),L=_e.useMemo(()=>{if(!_||_.cardType!=="room")return null;const N=D.map(G=>Yo.get(G)).filter(G=>G!==void 0);try{const G=Lh(_.openings,Gu,Ro(u1(_.id)),{modifiers:N}),V=Bh(G.tiles),le=[`F:${V.safe_floor}`,`T:${V.hidden_trap}`,`H:${V.persistent_hazard}`,`L:${V.loot_container}`,`P:${V.puzzle_trigger}`,`E:${V.enemy_trigger}`].join(" ");return{...G,previewGlyphRows:i1(G.tiles),tileCountSummary:le}}catch{return null}},[_,D]),q=_e.useMemo(()=>{const N=[{x:0,y:0}];Object.keys(l.mapState.nodes).forEach(re=>{N.push(hi(re))}),Ce.forEach(re=>{N.push(re)});const G=Math.min(...N.map(re=>re.x))-1,V=Math.max(...N.map(re=>re.x))+1,le=Math.min(...N.map(re=>re.y))-1,ge=Math.max(...N.map(re=>re.y))+1;return{minX:G,maxX:V,minY:le,maxY:ge}},[l.mapState.nodes,Ce]),k=_e.useMemo(()=>{const N=kv,G=q.maxX-q.minX+1,V=q.maxY-q.minY+1,le=hi(l.playerPositionKey);let ge=q.minX,re=q.minY;if(G<=N)ge=q.minX-Math.floor((N-G)/2);else{const He=le.x-Math.floor(N/2);ge=Math.max(q.minX,Math.min(He,q.maxX-N+1))}if(V<=N)re=q.minY-Math.floor((N-V)/2);else{const He=le.y-Math.floor(N/2);re=Math.max(q.minY,Math.min(He,q.maxY-N+1))}const at=[];for(let He=0;He<N;He+=1){const Xe=[];for(let Ue=0;Ue<N;Ue+=1)Xe.push({x:ge+Ue,y:re+He});at.push(Xe)}return at},[l.playerPositionKey,q]),ne=_e.useMemo(()=>{const N=new Set;return he&&X.forEach(G=>{if(G.kind==="structural"){yo(l.mapState,G.structural).length>0&&N.add(G.token);return}J.some(le=>To(l,G.modifier.id,le))&&N.add(G.token)}),N},[l,X,he,J]);_e.useEffect(()=>()=>{Q.current!==null&&window.clearTimeout(Q.current)},[]),_e.useEffect(()=>{function N(){y(null),r(null)}return window.addEventListener("dragend",N),window.addEventListener("drop",N),()=>{window.removeEventListener("dragend",N),window.removeEventListener("drop",N)}},[]),_e.useEffect(()=>{function N(G){if(G.repeat||c1(document.activeElement))return;const V=G.key.toLowerCase();if(V==="q"&&he){G.preventDefault(),c({type:"rotate_left"});return}if(V==="e"&&he){G.preventDefault(),c({type:"rotate_right"});return}(G.ctrlKey||G.metaKey)&&V==="enter"&&K&&(G.preventDefault(),c({type:"end_build"}))}return window.addEventListener("keydown",N),()=>{window.removeEventListener("keydown",N)}},[c,K,he]);function ce(){Q.current!==null&&(window.clearTimeout(Q.current),Q.current=null)}function qe(){ce(),C(!1),p(null)}function Me(N,G){if(G){U.current.set(N,G);return}U.current.delete(N)}function na(N,G){if(G){Y.current.set(N,G);return}Y.current.delete(N)}function bn(N,G){if(!N)return;const V=U.current.get(N),le=Y.current.get(G),ge=yh(N);if(!V||!le||!ge)return;const re=V.getBoundingClientRect(),at=le.getBoundingClientRect(),He=re.left+re.width/2,Xe=re.top+re.height/2,Ue=at.left+at.width/2,vt=at.top+at.height/2,Oe=at.width/re.width,Bt=Math.max(.45,Math.min(.9,Oe)),hl={token:ge.token,kind:ge.kind,title:ge.kind==="structural"?ge.structural.id:ge.modifier.id,glyph:ge.kind==="structural"?fi.get(ge.structural.id)??"?":di(ge.modifier.id),fromLeft:re.left,fromTop:re.top,fromWidth:re.width,fromHeight:re.height,deltaX:Ue-He,deltaY:vt-Xe,scale:Bt};ce(),C(!1),p(hl),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{C(!0)})}),Q.current=window.setTimeout(()=>{qe()},oh+80)}function rl(N,G){return he&&(B==null?void 0:B.kind)==="structural"&&!G&&Ve.has(N)}function pi(N,G){return!he||(B==null?void 0:B.kind)!=="modifier"||!G?!1:To(l,B.modifier.id,N)}function Vt(N,G){he&&(bn(G??(B==null?void 0:B.token),dt(N)),c({type:"place_card",position:N}))}function ol(){c({type:"end_build"})}function sl(){c({type:"wait_travel"})}function Qu(){c({type:"rotate_left"})}function vi(){c({type:"rotate_right"})}function fl(){c({type:"reset_run"}),r(null),y(null),qe()}function dl(N){he&&(c({type:"set_selected_card",cardId:N}),y({token:N}))}function ml(){y(null),r(null)}function Ku(N,G,V){!G&&!V||(Vt(N,(m==null?void 0:m.token)??(B==null?void 0:B.token)),y(null),r(null))}function Zu(N){if(N.ability.targeting.team!=="enemy"){c({type:"combat_play_card",abilityId:N.abilityId});return}c({type:"set_selected_combat_ability",abilityId:l.selectedCombatAbilityId===N.abilityId?null:N.abilityId})}function gt(N){c({type:"combat_play_card",targetEnemyId:N})}return h.jsxs("article",{className:"map-phase-root",children:[h.jsxs("header",{className:"map-phase-header",children:[h.jsxs("div",{className:"map-phase-header-main",children:[h.jsx("h2",{children:"Play Space Prototype"}),h.jsx("p",{className:"subtitle",children:"Dark tabletop board with a unified card hand and deterministic map logic."}),h.jsxs("p",{className:"map-help-text",id:sh,children:["Map cards render in the upper-left grid. Keyboard: ",h.jsx("kbd",{children:"Q"}),"/",h.jsx("kbd",{children:"E"})," rotate during build, ",h.jsx("kbd",{children:"Enter"})," or"," ",h.jsx("kbd",{children:"Space"})," on map cells for phase actions, ",h.jsx("kbd",{children:"Ctrl"}),"+",h.jsx("kbd",{children:"Enter"})," to end build."]})]}),h.jsxs("section",{className:"table-control-strip map-header-controls",children:[h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Rotation"}),h.jsxs("div",{className:"button-row",children:[h.jsx("button",{type:"button",onClick:Qu,disabled:!he,"aria-label":"Rotate selected structural card left",title:"Rotate left (Q)",children:""}),h.jsxs("strong",{children:[l.selectedRotation*90,""]}),h.jsx("button",{type:"button",onClick:vi,disabled:!he,"aria-label":"Rotate selected structural card right",title:"Rotate right (E)",children:""})]})]}),h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Map Focus"}),h.jsx("strong",{children:l.playerPositionKey}),h.jsx("p",{className:"overlay-stack-preview",children:"Upper-left grid is the active map."}),h.jsxs("p",{className:"overlay-stack-preview",children:["HP ",l.playerHpPercent,"% | Wounds"," ",l.playerWoundCount]})]}),h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Turn"}),h.jsxs("div",{className:"button-row",children:[h.jsx("strong",{children:l.turnIndex}),h.jsx("button",{type:"button",onClick:ol,disabled:!K,title:"End build (Ctrl+Enter)",children:"End Build"}),ht?h.jsx("button",{type:"button",onClick:sl,title:"Wait this travel step",children:"Wait"}):null,h.jsx("button",{type:"button",className:"danger-button",onClick:fl,title:"Reset current run",children:"Reset Run"})]})]}),h.jsxs("div",{className:"field inline-field",children:[h.jsx("span",{children:"Combat Class"}),h.jsx("select",{"aria-label":"Combat class selection",value:l.selectedCombatClassId,onChange:N=>{const G=ft.classes.find(V=>V.id===N.target.value);G&&c({type:"set_combat_class",classId:G.id})},children:ft.classes.map(N=>h.jsx("option",{value:N.id,children:N.id.toUpperCase()},`combat-class-${N.id}`))})]})]})]}),h.jsx("p",{className:"sr-only",role:"status","aria-live":"polite",children:ee}),h.jsxs("section",{className:"play-stage-shell",children:[h.jsxs("aside",{className:"card-focus-left-rail",children:[h.jsx("section",{className:"half-card-grid half-card-grid-top","aria-describedby":sh,"aria-label":"Top-left map card grid",children:k.map(N=>N.map(G=>{const V=dt(G),le=l.mapState.nodes[V],ge=!!le,re=Ve.has(V),at=Fe.has(V),He=ke.has(V),Xe=l.playerPositionKey===V,Ue=o===V,vt=l.modifierStacks[V]??[],Oe=rl(V,ge),Bt=pi(V,ge),hl=he&&(m==null?void 0:m.token)===(B==null?void 0:B.token)&&(B==null?void 0:B.kind)==="structural"&&Oe,Vu=he&&(m==null?void 0:m.token)===(B==null?void 0:B.token)&&(B==null?void 0:B.kind)==="modifier"&&Bt,Ca=l.selectedNodeKey===V,Sn=r1({positionKey:V,node:le,modifierCount:vt.length,canPlayStructural:Oe,canPlayModifier:Bt,isTravelTarget:ht&&He,isSelected:Ca});let kt=" ";return le?kt=fi.get(le.cardId)??"?":he&&ue&&re&&Ue?kt=fi.get(ue.id)??"":he&&re&&(kt=""),ht&&He&&(kt=le?kt:""),h.jsxs("button",{type:"button",className:["map-cell","half-map-slot",ge?"occupied":"empty",le?`owner-${le.owner}`:"",re?"legal":"",at?"candidate":"",He&&ht?"travel-target":"",Xe?"player-position":"",Oe?"playable-structural":"",Bt?"playable-modifier":"",hl?"drop-target-structural":"",Vu?"drop-target-modifier":"",Ue?"hovered":"",Ca?"selected":""].filter(Boolean).join(" "),"aria-label":Sn,"aria-pressed":Ca,ref:We=>na(V,We),onMouseEnter:()=>r(V),onMouseLeave:()=>r(null),onDragOver:We=>{he&&(We.dataTransfer.dropEffect=Oe||Bt?"move":"none",!(!Oe&&!Bt)&&(We.preventDefault(),r(V)))},onDragLeave:We=>{const Fa=We.relatedTarget;Fa instanceof Node&&We.currentTarget.contains(Fa)||r(null)},onDrop:We=>{if(!he){y(null),r(null);return}if(!Oe&&!Bt){y(null),r(null);return}We.preventDefault(),Ku(G,Oe,Bt)},onClick:()=>{if(ht){He&&c({type:"travel_to",nodeKey:V});return}if(le){c({type:"set_selected_node",nodeKey:V}),Bt&&Vt(G,B==null?void 0:B.token);return}Oe&&Vt(G,B==null?void 0:B.token)},children:[h.jsx("span",{className:"half-map-glyph",children:kt}),Xe?h.jsx("span",{className:"player-pos-badge",children:"P"}):null,vt.length>0?h.jsx("span",{className:"overlay-badge",children:vt.slice(0,2).map(We=>di(We)).join("")}):null,h.jsx("span",{className:"coord-tag",children:V})]},`map-top-${V}`)}))}),h.jsx("section",{className:"half-card-grid half-card-grid-lower","aria-label":"Equipment, party, and stat grid",children:Wv.flatMap((N,G)=>N.split("").map((V,le)=>{const ge=Iv[`${G},${le}`],re=Jv[`${G},${le}`],at=Fv[`${G},${le}`],He=ge??re??at,Xe=V==="1"||!!He;return h.jsx("div",{className:["half-card-slot",Xe?"filled":"empty",ge?"equipment-slot":"",re?"party-slot":"",at?"stat-slot":""].filter(Boolean).join(" "),title:He||"Empty slot",children:He??""},`lower-${G}-${le}`)}))}),zt?h.jsx("p",{className:"map-help-text",children:tt?`Selected combat card: ${tt.ability.ui.shortLabel}. Click a highlighted target on the room stage to confirm play.`:"Combat active: select a card from the hand strip, then click a highlighted target on the room stage."}):null]}),h.jsxs("section",{className:"play-board-stage",children:[l.lastIssue?h.jsx("p",{className:"error",children:l.lastIssue}):null,h.jsxs("section",{className:"full-card-stage-shell",children:[Ae&&l.roomSession?null:h.jsx("div",{className:"full-card-grid-bg","aria-hidden":"true",children:Array.from({length:gh*gh}).map((N,G)=>h.jsx("div",{className:"full-card-bg-cell"},`bg-${G}`))}),h.jsx("div",{className:"full-card-grid-foreground",children:Ae&&l.roomSession?h.jsx(Zv,{runPhase:l.runPhase,roomSession:l.roomSession,pendingRewards:l.pendingRewards,damageFailThreshold:Yh,selectedCombatAbilityId:l.selectedCombatAbilityId,onMove:N=>c({type:"room_move",position:N}),onComplete:()=>c({type:"room_complete"}),onCombatSelectTarget:gt,onCombatEndTurn:()=>c({type:"combat_end_turn"}),onRetreat:()=>c({type:"room_resolve",outcome:"retreat"}),onExit:()=>c({type:"room_exit"}),onApplyRewards:()=>c({type:"apply_rewards"})}):h.jsxs("section",{className:"combat-flow-shell","aria-live":"polite",children:[h.jsxs("header",{className:"combat-flow-header",children:[h.jsx("h3",{children:"Combat Flow Stage"}),h.jsx("p",{children:"Right-side full card grid is reserved for encounter flow and room resolution visuals."})]}),h.jsxs("ul",{className:"combat-flow-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Run phase"}),h.jsx("strong",{children:go(l.runPhase)})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Current node"}),h.jsx("strong",{children:l.playerPositionKey})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Travel options"}),h.jsx("strong",{children:P.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Pending rewards"}),h.jsx("strong",{children:l.pendingRewards?`+${l.pendingRewards.drawBonus} draw`:"none"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Run vitals"}),h.jsxs("strong",{children:["HP ",l.playerHpPercent,"% | W"," ",l.playerWoundCount]})]})]}),h.jsx("p",{className:"combat-flow-note",children:"Build and travel through the upper-left map grid. Entering a triggered room opens detailed room play here."})]})})]}),h.jsx("section",{className:"stage-hand-shell","aria-label":zt?"Combat hand cards":"Player hand cards",children:h.jsx("div",{className:"stage-hand-grid",children:zt?w.map((N,G)=>{const V=G<12?`Q${G+1}`:null,le=l.selectedCombatAbilityId===N.abilityId,ge=`${V?`${V}. `:""}${N.ability.ui.shortLabel}. AP ${N.ability.apCost}, Focus ${N.focusCost}. ${N.canPlay?"Playable.":"Not playable."} ${le?"Selected.":"Press to select."}`;return h.jsxs("button",{type:"button",className:["stage-hand-card","quick-hand-card",N.canPlay?"playable":"unplayable",le?"selected":""].filter(Boolean).join(" "),title:N.ability.ui.shortLabel,onClick:()=>N.canPlay?Zu(N):void 0,disabled:!N.canPlay,"aria-label":ge,"aria-disabled":!N.canPlay,"aria-pressed":le,children:[h.jsx("span",{className:"stage-hand-glyph",children:a1(N.ability)}),h.jsx("span",{className:"stage-hand-id",children:N.ability.ui.shortLabel}),h.jsx("span",{className:"stage-hand-slot-tag",children:V??" "})]},`combat-hand-${N.abilityId}-${G}`)}):z.map((N,G)=>{const V=G<12?`Q${G+1}`:null,le=l.selectedCardId===N.token,ge=he&&ne.has(N.token),re=N.kind==="structural"?fi.get(N.structural.id)??"?":di(N.modifier.id),at=N.kind==="structural"?N.structural.id:N.modifier.id,He=N.kind==="structural"?`${V?`${V}. `:""}Structural card ${N.structural.id}. ${ge?"Playable.":"Not playable right now."} ${le?"Selected.":"Press to select."}`:`${V?`${V}. `:""}Modifier card ${N.modifier.id}. ${ge?"Playable.":"Not playable right now."} ${le?"Selected.":"Press to select."}`;return h.jsxs("button",{type:"button",className:["stage-hand-card","quick-hand-card",N.kind==="modifier"?"quick-hand-card-modifier":"",ge?"playable":"unplayable",le?"selected":"",(m==null?void 0:m.token)===N.token?"dragging":""].filter(Boolean).join(" "),draggable:ge,title:N.token,ref:Xe=>Me(N.token,Xe),onDragStart:Xe=>{Xe.dataTransfer.effectAllowed="move",Xe.dataTransfer.setData("text/plain",N.token),dl(N.token)},onDragEnd:ml,onClick:()=>c({type:"set_selected_card",cardId:N.token}),"aria-label":He,"aria-disabled":!ge,"aria-pressed":le,children:[h.jsx("span",{className:"stage-hand-glyph",children:re}),h.jsx("span",{className:"stage-hand-id",children:at}),h.jsx("span",{className:"stage-hand-slot-tag",children:V??" "})]},`map-hand-${N.token}`)})})})]})]}),h.jsx("button",{type:"button",className:["info-drawer-toggle",v?"open":""].filter(Boolean).join(" "),onClick:()=>g(N=>!N),"aria-expanded":v,"aria-controls":"run-info-drawer",children:v?"Hide HUD":"Show HUD"}),h.jsx("aside",{id:"run-info-drawer",className:["info-drawer",v?"open":""].filter(Boolean).join(" "),"aria-label":"Run details drawer",children:h.jsxs("div",{className:"info-drawer-content",children:[h.jsxs("article",{className:"status-card compact-status-card",children:[h.jsx("h3",{children:"Run Snapshot"}),h.jsxs("ul",{className:"status-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Phase"}),h.jsx("strong",{children:go(l.runPhase)})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Turn"}),h.jsx("strong",{children:l.turnIndex})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Travel targets"}),h.jsx("strong",{children:ht?P.length:0})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Player node"}),h.jsx("strong",{children:l.playerPositionKey})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Map nodes"}),h.jsx("strong",{children:J.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"HP reset level"}),h.jsxs("strong",{children:[l.playerHpPercent,"%"]})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Wounds"}),h.jsx("strong",{children:l.playerWoundCount})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Combat class"}),h.jsx("strong",{children:l.selectedCombatClassId.toUpperCase()})]})]})]}),h.jsxs("article",{className:"status-card",children:[h.jsx("h3",{children:"Selected Card"}),(B==null?void 0:B.kind)==="structural"?h.jsx("div",{className:"selected-card-preview",children:h.jsx(wv,{cardId:B.structural.id,cardType:B.structural.type,openings:Je,compactGlyph:fi.get(B.structural.id)??"?",title:B.structural.id,subtitle:B.structural.type})}):(B==null?void 0:B.kind)==="modifier"?h.jsx("div",{className:"selected-card-preview",children:h.jsxs("div",{className:"modifier-card-face",children:[h.jsx("span",{className:"modifier-card-glyph",children:di(B.modifier.id)}),h.jsx("strong",{className:"modifier-card-title",children:B.modifier.id}),h.jsxs("span",{className:"modifier-card-target",children:["target: ",B.modifier.validTargets]})]})}):h.jsx("p",{children:"No selected card in hand."})]}),h.jsxs("article",{className:"status-card",children:[h.jsx("h3",{children:"Mode Details"}),h.jsxs("ul",{className:"status-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Selected node"}),h.jsx("strong",{children:l.selectedNodeKey??"none"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Overlay stack"}),h.jsx("strong",{children:D.length>0?D.map(N=>di(N)).join(" "):"(empty)"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Pending rewards"}),h.jsx("strong",{children:l.pendingRewards?`+${l.pendingRewards.drawBonus} draw`:"none"})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Hand penalty"}),h.jsx("strong",{children:l.pendingRewards&&l.pendingRewards.handCardPenalty>0?`-${l.pendingRewards.handCardPenalty}`:"none"})]})]})]}),h.jsxs("article",{className:"status-card",children:[h.jsx("h3",{children:"Room Probe"}),(_==null?void 0:_.cardType)==="room"&&L?h.jsxs(h.Fragment,{children:[h.jsxs("ul",{className:"room-probe-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Template"}),h.jsx("strong",{children:L.templateId})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Category"}),h.jsx("strong",{children:L.category})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Bounds"}),h.jsxs("strong",{children:[L.width,"x",L.height]})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Door anchors"}),h.jsx("strong",{children:L.doorAnchors.map(N=>`${N.direction}(${N.x},${N.y})`).join(" ")})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Tile mix"}),h.jsx("strong",{children:L.tileCountSummary})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Modifier bias"}),h.jsxs("strong",{children:["T",L.tileWeights.hidden_trap,"/H",L.tileWeights.persistent_hazard,"/L",L.tileWeights.loot_container]})]})]}),h.jsx("pre",{className:"room-layout-preview",children:L.previewGlyphRows})]}):h.jsx("p",{className:"overlay-stack-preview",children:"Select a room node to preview template and mapped door anchors."})]})]})}),h.jsxs("section",{className:"panel action-log-panel",children:[h.jsx("h3",{children:"Action Log"}),h.jsx("ul",{className:"action-log",children:l.actionLog.map((N,G)=>h.jsx("li",{children:N},`${N}-${G}`))})]}),f?h.jsx("div",{className:"card-flight-layer","aria-hidden":"true",children:h.jsxs("div",{className:["card-flight",f.kind==="modifier"?"card-flight-modifier":"",R?"is-active":""].filter(Boolean).join(" "),style:{left:`${f.fromLeft}px`,top:`${f.fromTop}px`,width:`${f.fromWidth}px`,height:`${f.fromHeight}px`,"--flight-dx":`${f.deltaX}px`,"--flight-dy":`${f.deltaY}px`,"--flight-scale":`${f.scale}`,"--flight-duration":`${oh}ms`},onTransitionEnd:()=>{R&&qe()},children:[h.jsx("span",{className:"card-flight-glyph",children:f.glyph}),h.jsx("span",{className:"card-flight-title",children:f.title})]})}):null]})}function s1(l,c=""){const[o,r,m,y]=l,v=` ${o?"":" "} `,g=`${y?"":" "}${c}${r?"":" "}`;return`${v}
${g}
${` ${m?"":" "} `}`}function f1(){const l=f0();return h.jsxs("main",{className:"app-shell",children:[h.jsxs("header",{children:[h.jsx("h1",{children:"The Rouge Path Glyph Prototype"}),h.jsx("p",{className:"subtitle",children:"Unicode map connectors with unscii grid rendering."})]}),h.jsx("section",{className:"panel status-grid app-status-grid",children:h.jsxs("article",{className:"status-card",children:[h.jsx("h2",{children:"Content Pack Status"}),h.jsxs("ul",{className:"status-list",children:[h.jsxs("li",{children:[h.jsx("span",{children:"Structural cards"}),h.jsx("strong",{children:Co.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Room templates"}),h.jsx("strong",{children:Gu.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Modifiers"}),h.jsx("strong",{children:_n.length})]}),h.jsxs("li",{children:[h.jsx("span",{children:"Validation"}),h.jsx("strong",{className:l.ok?"ok":"error",children:l.ok?"PASS":"FAIL"})]})]})]})}),h.jsx("section",{className:"panel",children:h.jsx(o1,{})}),h.jsxs("section",{className:"panel",children:[h.jsx("h2",{children:"Connector Legend"}),h.jsx("div",{className:"connector-grid",role:"table","aria-label":"Connector legend",children:Ao.map(c=>h.jsxs("article",{className:"connector-card",children:[h.jsx("h3",{children:c.id}),h.jsxs("p",{children:["compact: ",h.jsx("span",{className:"glyph",children:c.compactGlyph})]}),h.jsx("pre",{className:"node3x3","aria-label":`${c.id} expanded glyph`,children:s1(c.openings)})]},c.id))})]}),h.jsxs("section",{className:"panel two-col",children:[h.jsxs("article",{children:[h.jsx("h2",{children:"Room Category Glyphs"}),h.jsx("ul",{className:"legend-list",children:vh.map(c=>h.jsxs("li",{children:[h.jsx("span",{children:c.category}),h.jsx("span",{className:"glyph",children:c.glyph})]},c.category))})]}),h.jsxs("article",{children:[h.jsx("h2",{children:"Modifier Glyphs"}),h.jsx("ul",{className:"legend-list",children:zo.map(c=>h.jsxs("li",{children:[h.jsx("span",{children:c.modifier}),h.jsx("span",{className:"glyph",children:c.glyph})]},c.modifier))})]})]})]})}pp.createRoot(document.getElementById("root")).render(h.jsx(_e.StrictMode,{children:h.jsx(f1,{})}));
